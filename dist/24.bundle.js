(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1106:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(335);var r=T(a(336)),i=a(36);a(328);var l=T(a(133));a(546);var n=T(a(14));a(660);var s=T(a(590));a(337);var o=T(a(340));a(75);var d=T(a(21));a(17),a(583);var c=T(a(556));a(764);var u=T(a(755)),p=T(a(1)),f=T(a(0)),m=a(808),h=a(129),g=T(a(51)),x=T(a(745)),b=T(a(313)),y=T(a(619)),v=a(698),w=a(353),E=(a(791),T(a(790))),P=a(329),O=a(1107),C=a(320),j=a(938),k=T(a(1108));function T(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const A=u.default.Option,S=c.default.Group,M=(0,i.css)(".ant-modal-content{width:580px;}"),I=e=>{const t=e.indexOf("*");return t>-1?0===t&&1!==e.length?(e.splice(t,1),e):["*"]:e};class F extends p.default.Component{constructor(e){super(e),_(this,"handleSubmit",()=>{(0,this.props.onSubmit)(this.form,(0,g.default)(this.props,"initialValues.meta.username"))}),this.form=m.FormBuilder.group({description:"",operationType:[j.Types.read,m.Validators.required],acl:[{value:(0,j.getDefaultAclOptionsByPlan)(e.plan),disabled:!e.isPaidUser},m.Validators.required],referers:[{value:["*"],disabled:!e.isPaidUser}],sources:[{value:["0.0.0.0/0"],disabled:!e.isPaidUser}],include_fields:[{value:["*"],disabled:!e.isPaidUser}],exclude_fields:[{value:[],disabled:!0}],ip_limit:[{value:7200,disabled:!e.isPaidUser},[m.Validators.required,j.isNegative]],ttl:[{value:0,disabled:!e.isPaidUser},[m.Validators.required,j.isNegative]]})}componentDidMount(){const e=this.props,t=e.disabled,a=e.initialValues,r=e.isPermissionPresent;if(t)this.form.disable();else{const e=this.form.get("include_fields"),t=this.form.get("exclude_fields");e.valueChanges.subscribe(e=>{e&&e.includes("*")?(t.disable({emitEvent:!1}),t.reset([])):t.enable({emitEvent:!1})}),t.valueChanges.subscribe(t=>{t&&t.includes("*")?(e.disable({emitEvent:!1}),e.reset([])):e.enable({emitEvent:!1})})}if(a){let e;Object.keys(j.Types).every(t=>{const r=j.Types[t];return r.read!==a.read||r.write!==a.write||(e=r,!1)}),this.form.patchValue(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){_(e,t,a[t])})}return e}({},a,{operationType:e}))}if(!r){(0,this.props.fetchPermissions)()}}componentDidUpdate(e){const t=this.props,a=t.errors,r=t.credentials;r&&r!==e.credentials&&this.getMappings(),(0,v.displayErrors)(a,e.errors)}componentWillUnmount(){this.form.get("include_fields").valueChanges.unsubscribe(),this.form.get("exclude_fields").valueChanges.unsubscribe()}getMappings(){const e=this.props,t=e.appName,a=e.fetchMappings,r=e.credentials;if(r){a(t,`${r.username}:${r.password}`)}}get getText(){return this.props.titleText||(this.isEditing?"Edit credential":"Create a new credential")}get isEditing(){return!!this.props.initialValues}render(){const e=this.props,t=e.show,a=e.handleCancel,c=e.isPaidUser,f=e.isSubmitting,h=e.plan,g=e.mappings,v=e.disabled,w=e.saveButtonText,P=e.isLoadingMappings,C=e.shouldHaveEmailField,T=e.initialValues;return p.default.createElement(m.FieldGroup,{strict:!1,control:this.form,render:({invalid:e})=>p.default.createElement(r.default,{style:{width:"600px"},title:this.getText,className:(0,i.css)(M),footer:v?[p.default.createElement(d.default,{key:"back",onClick:a},"Cancel")]:[p.default.createElement(d.default,{key:"back",onClick:a},"Cancel"),p.default.createElement(d.default,{loading:f,disabled:e,key:"submit",type:"primary",onClick:this.handleSubmit},w||(this.isEditing?"Save":"Generate"))],visible:t,onCancel:a},P?p.default.createElement(y.default,{style:{marginTop:"-100px",marginBottom:"120px"}}):p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:(0,i.css)("position:relative")},C&&p.default.createElement(m.FieldControl,{strict:!1,name:"email",formState:T&&T.email,options:{validators:[m.Validators.required,m.Validators.email]},render:({handler:e})=>p.default.createElement(E.default,{label:"Email",toolTipMessage:O.createCredentials.email,component:p.default.createElement(o.default,N({autoFocus:!this.isEditing,placeholder:"Add email"},e()))})}),p.default.createElement(m.FieldControl,{strict:!1,name:"description",render:({handler:e})=>p.default.createElement(E.default,{label:"Description",toolTipMessage:O.createCredentials.description,component:p.default.createElement(o.default,N({autoFocus:!C&&!this.isEditing,placeholder:"Add an optional description for this credential"},e()))})}),p.default.createElement(m.FieldControl,{name:"operationType",render:({handler:e})=>p.default.createElement(E.default,{label:"Key Type",toolTipMessage:O.createCredentials.operationType,component:p.default.createElement(s.default.Group,N({},e(),{className:(0,i.css)("label{font-weight:100}")}),Object.keys(j.Types).map(e=>p.default.createElement(s.default,{key:e,value:j.Types[e]},j.Types[e].description)))})}),!c&&p.default.createElement("div",{className:(0,i.css)(x.default.overlay)},p.default.createElement("div",{className:(0,i.css)(x.default.upgradePlan)},p.default.createElement("div",{style:{marginBottom:20}},p.default.createElement(n.default,{type:"lock",className:(0,i.css)("font-size:40px")})),"Upgrade to a paid plan to add advanced security permissions.",p.default.createElement(l.default,{overlay:O.hoverMessage,mouseLeaveDelay:0},p.default.createElement("i",{className:"fas fa-info-circle"})),p.default.createElement(d.default,{type:"primary",className:(0,i.css)("margin-top:10px"),href:"billing",target:"_blank",style:{marginTop:20}},"Upgrade Now"))),p.default.createElement(m.FieldControl,{name:"acl",render:({handler:e})=>{const t=e();return p.default.createElement(E.default,{label:"ACLs",toolTipMessage:O.createCredentials.acls,component:p.default.createElement(S,N({className:(0,i.css)("label{font-weight:100}")},t,{options:(0,j.getAclOptionsByPlan)(h).map(e=>j.aclOptionsLabel[e]),value:t.value.map(e=>j.aclOptionsLabel[e]),onChange:e=>{t.onChange(e.map(e=>e.toLowerCase()))}}))})}}),p.default.createElement(E.default,{label:"Security",toolTipMessage:O.createCredentials.security}),p.default.createElement(m.FieldControl,{name:"referers",render:e=>p.default.createElement(k.default,{toolTipMessage:O.createCredentials.referers,control:e,type:"dropdown",defaultSuggestionValue:"https://example.com/",label:"HTTP Referers",inputProps:{placeholder:"Add a HTTP Referer"}})}),p.default.createElement(m.FieldControl,{name:"sources",render:e=>p.default.createElement(k.default,{control:e,toolTipMessage:O.createCredentials.sources,label:"IP Sources",defaultValue:{value:"0.0.0.0/0 (default)",description:"Matches all IP sources"},inputProps:{placeholder:"Add an IP Source in CIDR format"}})}),p.default.createElement("div",{className:(0,i.css)("margin-top:30px")},p.default.createElement("span",{className:(0,i.css)(x.default.formLabel)},"Fields Filtering"),p.default.createElement(l.default,{className:(0,i.css)("margin-left:5px;color:#898989"),overlay:O.createCredentials.fieldFiltering,mouseLeaveDelay:0},p.default.createElement("i",{className:"fas fa-info-circle"}))),p.default.createElement(m.FieldControl,{strict:!1,name:"include_fields",render:({handler:e})=>{const t=e(),a=this.form.get("exclude_fields").value;return p.default.createElement(E.default,{label:p.default.createElement("span",{className:(0,i.css)(x.default.subHeader)},"Include"),toolTipMessage:O.createCredentials.include,component:p.default.createElement(u.default,N({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},t,{onChange:e=>{t.onChange(I(e))}}),p.default.createElement(A,{key:"*"},"* (Include all fields)"),Object.keys(g).map(e=>g[e].map(e=>a.includes(e)?null:p.default.createElement(A,{key:e,title:e},e))))})}}),p.default.createElement(m.FieldControl,{strict:!1,name:"exclude_fields",render:({handler:e})=>{const t=e(),a=this.form.get("include_fields").value;return p.default.createElement(E.default,{label:p.default.createElement("span",{className:(0,i.css)(x.default.subHeader)},"Exclude"),toolTipMessage:O.createCredentials.exclude,component:p.default.createElement(u.default,N({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},t,{onChange:e=>{t.onChange(I(e))}}),p.default.createElement(A,{key:"*"},"* (Exclude all fields)"),Object.keys(g).map(e=>g[e].map(e=>a.includes(e)?null:p.default.createElement(A,{key:e},e))))})}}),p.default.createElement(m.FieldControl,{name:"ip_limit",render:({handler:e,hasError:t})=>p.default.createElement(E.default,{label:"Max API calls/IP/hour",toolTipMessage:O.createCredentials.ipLimit,component:p.default.createElement(b.default,{justifyContent:"center",alignItems:"center"},p.default.createElement(o.default,N({type:"number",className:(0,i.css)("border:solid 1px #9195A2!important;width:120px")},e())),t("isNegative")&&p.default.createElement("span",{className:(0,i.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}),p.default.createElement(m.FieldControl,{name:"ttl",render:({handler:e,hasError:t})=>p.default.createElement(E.default,{label:"TTL",toolTipMessage:O.createCredentials.ttl,component:p.default.createElement(b.default,{justifyContent:"center",alignItems:"center"},p.default.createElement(o.default,N({type:"number",className:(0,i.css)("border:solid 1px #9195A2!important;width:120px")},e())),t("isNegative")&&p.default.createElement("span",{className:(0,i.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}))))})}}F.defaultProps={show:!1,isSubmitting:!1,isPaidUser:!1,initialValues:void 0,disabled:!1,saveButtonText:void 0,permissions:void 0,titleText:void 0,shouldHaveEmailField:!1},F.propTypes={isPaidUser:f.default.bool,isSubmitting:f.default.bool,show:f.default.bool,onSubmit:f.default.func.isRequired,fetchPermissions:f.default.func.isRequired,initialValues:f.default.shape({description:f.default.string,read:f.default.bool,write:f.default.bool,operationType:f.default.object,acl:f.default.arrayOf(f.default.string),referers:f.default.arrayOf(f.default.string),sources:f.default.arrayOf(f.default.string),include_fields:f.default.arrayOf(f.default.string),exclude_fields:f.default.arrayOf(f.default.string),ip_limit:f.default.oneOfType([f.default.number,f.default.string]),ttl:f.default.number,meta:f.default.object}),isPermissionPresent:f.default.bool.isRequired,appName:f.default.string.isRequired,handleCancel:f.default.func.isRequired,isLoadingMappings:f.default.bool.isRequired,disabled:f.default.bool,permissions:f.default.array,saveButtonText:f.default.string,errors:f.default.array.isRequired,plan:f.default.oneOf(["free","growth","bootstrap"]).isRequired,titleText:f.default.string,shouldHaveEmailField:f.default.bool};var R=(0,h.connect)(e=>{const t=(0,C.getTraversedMappingsByAppName)(e),a=(0,C.getAppPermissionsByName)(e),r=(0,C.getAppPlanByName)(e);return{isPaidUser:(0,g.default)(r,"isPaid"),appName:(0,g.default)(e,"$getCurrentApp.name"),mappings:t||[],isPermissionPresent:!!a,isLoadingMappings:(0,g.default)(e,"$getAppMappings.isFetching")||(0,g.default)(e,"$getAppPermissions.isFetching"),credentials:(0,g.default)(a,"credentials"),plan:(0,g.default)(r,"plan"),isSubmitting:(0,g.default)(e,"$createAppPermission.isFetching")||(0,g.default)(e,"$updateAppPermission.isFetching")||(0,g.default)(e,"$createAppShare.isFetching"),errors:[(0,g.default)(e,"$getAppMappings.error"),(0,g.default)(e,"$createAppPermission.error"),(0,g.default)(e,"$updateAppPermission.error"),(0,g.default)(e,"$createAppShare.error")]}},e=>({fetchMappings:(t,a)=>e((0,P.getAppMappings)(t,a)),fetchPermissions:t=>e((0,w.getPermission)(t))}))(F);t.default=R},1107:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCredentials=t.hoverMessage=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(a(1));t.hoverMessage=(()=>r.default.createElement("div",{style:{maxWidth:220}},"All appbase.io paid plans offer setting ACLs, rate limits per IP and advanced security permissions based on IP sources, HTTP Referers and restricting what fields are accessible."));const i={email:()=>r.default.createElement("div",{style:{maxWidth:220}},"An email to share credential key."),description:()=>r.default.createElement("div",{style:{maxWidth:220}},"An optional description for your credential key."),operationType:()=>r.default.createElement("div",{style:{maxWidth:220}},"Depending on the selection, the key can perform read-only, write-only or both read and write operations."),acls:()=>r.default.createElement("div",{style:{maxWidth:220}},"Authorize API access to only selected operations."),security:()=>r.default.createElement("div",{style:{maxWidth:220}},"Authorize API access based on selected HTTP Referers and IP Source values."),referers:()=>r.default.createElement("div",{style:{maxWidth:220}},"Only selected HTTP Referers (aka URIs) are authorized to call the API with this credential."),sources:()=>r.default.createElement("div",{style:{maxWidth:220}},"Only selected IP ranges (in CIDR format) are authorized to call the API with this credential."),fieldFiltering:()=>r.default.createElement("div",{style:{maxWidth:220}},"Restrict fields that are returned when performing a search operation."),include:()=>r.default.createElement("div",{style:{maxWidth:220}},"All selected fields are returned in the search response."),exclude:()=>r.default.createElement("div",{style:{maxWidth:220}},"Selected fields aren't returned in the search response. In case of a field being present in both include and exclude, exclude has a priority."),ttl:()=>r.default.createElement("div",{style:{maxWidth:220}},"Expiry time for this credential (in seconds). 0 means that it doesn't expire."),ipLimit:r.default.createElement("div",{style:{maxWidth:220}},"Set a per hour ratelimit on API calls per IP address.")};t.createCredentials=i},1108:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(36);a(337);var i=f(a(340));a(17),a(764);var l=f(a(755));a(546);var n=f(a(14)),s=f(a(1)),o=f(a(0)),d=f(a(745)),c=f(a(790)),u=f(a(313)),p=a(938);function f(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends s.default.Component{constructor(e){super(e),h(this,"handleSelectOption",e=>{this.setState(()=>{const t=this.props.control;return e&&!t.value.includes(e)?(t.onChange([...t.value,e]),{text:void 0}):{text:void 0}})}),h(this,"hanldeOnChange",e=>{this.setState({text:e})}),h(this,"handleOnSearch",e=>{e&&e.startsWith("**")||this.setState({text:e.trim()})}),h(this,"removeItem",e=>{const t=this.props.control,a=t.value,r=a.indexOf(e);r>-1&&(a.splice(r,1),t.onChange(a))}),h(this,"submitOnBlur",()=>{this.props.control.value.includes(this.state.text)?(this.setState({text:void 0}),this.props.control.setErrors(void 0)):(0,p.ipValidator)(this.state.text)?(this.props.control.onChange([...this.props.control.value,this.state.text]),this.setState({text:void 0})):this.state.text?this.props.control.setErrors({invalidIP:!0}):this.props.control.setErrors(void 0)}),this.inputRef=void 0,this.state={text:void 0}}render(){const e=this.props,t=e.label,a=e.inputProps,o=e.defaultSuggestionValue,f=e.control,h=f.value,g=f.handler,x=f.hasError,b=f.disabled,y=f.enabled,v=e.type,w=e.toolTipMessage,E=this.state.text;return s.default.createElement(c.default,{label:s.default.createElement("span",{className:(0,r.css)(d.default.subHeader)},t),toolTipMessage:w,component:s.default.createElement(u.default,{className:(0,r.css)("width:100%;position:relative"),flexDirection:"column"},h.map(e=>s.default.createElement(u.default,{key:e,justifyContent:"space-between",className:(0,r.css)(d.default.addedWhiteList)},s.default.createElement("div",null,s.default.createElement("div",null,e),"dropdown"===v&&s.default.createElement("div",{className:(0,r.css)("font-size:12px;font-weight:normal")},(0,p.getSuggestionCode)(e))),y&&s.default.createElement("div",{className:(0,r.css)("cursor:pointer")},s.default.createElement(n.default,{onClick:()=>this.removeItem(e),type:"close-circle-o"})))),s.default.createElement("div",null,"dropdown"===v?s.default.createElement(l.default,m({showSearch:!0},a,{value:E,onSearch:this.handleOnSearch,onSelect:this.handleSelectOption,onBlur:this.handleSelectOption,defaultActiveFirstOption:!!E,showArrow:!1,filterOption:!1,disabled:b,style:{width:"100%"}}),"*"===E&&1===E.length?s.default.createElement(l.default.Option,{key:"*"},s.default.createElement(u.default,{justifyContent:"space-between"},s.default.createElement("span",null,"*"),s.default.createElement("span",{className:(0,r.css)(d.default.description)},(0,p.getSuggestionCode)("*")))):Object.keys(p.Suggestions).map(e=>{const t=p.Suggestions[e];if(E){const e=`${t.prefix}${E}${t.suffix}`;return s.default.createElement(l.default.Option,{key:e},s.default.createElement(u.default,{justifyContent:"space-between"},s.default.createElement("span",null,e),s.default.createElement("span",{className:(0,r.css)(d.default.description)},t.description)))}return s.default.createElement(l.default.Option,{className:(0,r.css)("pointer-events:none"),key:e},s.default.createElement(u.default,{justifyContent:"space-between",className:(0,r.css)("color:#d9d9d9;font-weight:100;font-size:12px")},s.default.createElement("span",null,t.prefix,o,t.suffix),s.default.createElement("span",{className:(0,r.css)(d.default.description)},t.description)))})):s.default.createElement(i.default,m({},a,g(),{value:E,onChange:e=>{this.hanldeOnChange(e.target.value)},onBlur:this.submitOnBlur,onKeyPress:e=>{"Enter"===e.key&&this.submitOnBlur()}})),x("invalidIP")&&s.default.createElement("div",{className:(0,r.css)(d.default.error)},"Not a valid IP")))})}}g.propTypes={label:o.default.string,toolTipMessage:o.default.any,inputProps:o.default.object,defaultSuggestionValue:o.default.string,control:o.default.object,type:o.default.oneOf(["dropdown"])};var x=g;t.default=x},1540:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(328);var r=v(a(133));a(946);var i=v(a(947));a(75);var l=v(a(21));a(591);var n=v(a(597));a(594);var s=v(a(595)),o=a(36);a(17);var d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(1)),c=v(a(51)),u=a(129),p=a(0),f=v(a(1106)),m=v(a(570)),h=a(320),g=v(a(1541)),x=a(698),b=a(329),y=v(a(619));function v(e){return e&&e.__esModule?e:{default:e}}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const E=[{title:"Type",key:"description",render:({permissionInfo:e})=>e.description||"No Description",width:"50%"},{title:"Credentials",render:e=>d.default.createElement(g.default,e),key:"credentials",width:"50%"}];class P extends d.Component{constructor(e){super(e),w(this,"refetchPermissions",()=>{const e=this.props,t=e.appName;(0,e.fetchPermissions)(t)}),w(this,"handleCancel",()=>{this.setState({showCredForm:!1})}),w(this,"updatePermission",(e,t)=>{const a=this.props,r=a.appName;(0,a.handleEditPermission)(r,t,e).then(({payload:e})=>{e&&this.setState({showCredForm:!1},()=>{this.refetchPermissions()})})}),w(this,"showForm",e=>{e?this.setState({showCredForm:!0,currentPermissionInfo:e}):this.setState({showCredForm:!0,currentPermissionInfo:void 0})}),w(this,"newPermission",e=>{const t=this.props,a=t.appName;(0,t.handleCreatePermission)(a,e).then(({payload:e})=>{e&&this.setState({showCredForm:!1},()=>{this.refetchPermissions()})})}),w(this,"deletePermission",e=>{const t=this.props,a=t.appName;(0,t.handleDeletePermission)(a,e).then(({payload:e})=>{e&&this.refetchPermissions()})}),w(this,"deleteApp",()=>{const e=this.props;(0,e.handleDeleteApp)(e.appId).then(({payload:e})=>{e&&(window.location=window.origin)})}),w(this,"handleSubmit",(e,t)=>{const a=this.state.currentPermissionInfo,r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){w(e,t,a[t])})}return e}({},e.value.operationType,e.value);delete r.operationType,Object.keys(r).forEach(e=>{void 0!==r[e]&&("ttl"===e&&(r[e]=parseInt(r[e],10)),"ip_limit"===e&&(r[e]=parseFloat(r[e],10)))}),a||t?this.updatePermission(r,t):this.newPermission(r)}),this.state={showCredForm:!1,currentPermissionInfo:void 0}}componentDidMount(){this.refetchPermissions()}componentDidUpdate(e){const t=this.props,a=t.appName,r=t.errors;e.appName!==a&&this.initialize(),(0,x.displayErrors)(r,e.errors)}render(){const e=this.state,t=e.showCredForm,a=e.currentPermissionInfo,u=e.mappings,p=this.props,h=p.isLoading,g=p.permissions,x=p.isOwner;return h?d.default.createElement(y.default,null):d.default.createElement(m.default,null,d.default.createElement(n.default,{title:"Credentials"},d.default.createElement(s.default,{scroll:{x:700},dataSource:g.map(e=>({permissionInfo:e,deletePermission:this.deletePermission,showForm:this.showForm})),rowKey:e=>`${(0,c.default)(e,"permissionInfo.username")}${(0,c.default)(e,"permissionInfo.password")}`,columns:E,className:(0,o.css)("tr:hover td{background:transparent;}")})),t&&d.default.createElement(f.default,{disabled:!x,titleText:x?void 0:"Credentials Details",onSubmit:this.handleSubmit,show:t,handleCancel:this.handleCancel,mappings:u,initialValues:a}),x&&d.default.createElement(l.default,{style:{margin:"10px 0px"},onClick:()=>this.showForm(),size:"large",type:"primary"},"New Credentials"),x&&d.default.createElement(r.default,{placement:"rightTop",title:"Deleting an app is a permanent action, and will delete all the associated data, credentials and team sharing settings."},d.default.createElement(i.default,{title:"Are you sure delete this app?",onConfirm:this.deleteApp,okText:"Yes",cancelText:"No",placement:"topLeft"},d.default.createElement(l.default,{style:{margin:"10px 10px",float:"right"},type:"danger",size:"large"},"Delete App"))))}}P.defaultProps={isLoading:!1},P.propTypes={appName:p.string.isRequired,appId:p.string.isRequired,permissions:p.array.isRequired,fetchPermissions:p.func.isRequired,handleCreatePermission:p.func.isRequired,handleDeletePermission:p.func.isRequired,handleEditPermission:p.func.isRequired,isOwner:p.bool.isRequired,isLoading:p.bool,errors:p.array.isRequired,handleDeleteApp:p.func.isRequired};var O=(0,u.connect)(e=>{const t=(0,c.default)((0,h.getAppInfoByName)(e),"owner"),a=(0,c.default)(e,"user.data.email"),r=(0,h.getAppPermissionsByName)(e);return{appName:(0,c.default)(e,"$getCurrentApp.name"),appId:(0,c.default)(e,"$getCurrentApp.id"),permissions:(0,c.default)(r,"results",[]),isPaidUser:(0,c.default)((0,h.getAppPlanByName)(e),"isPaid"),isOwner:t===a,isLoading:(0,c.default)(e,"$getAppPermissions.isFetching"),errors:[(0,c.default)(e,"$getAppPermissions.error"),(0,c.default)(e,"$createAppPermission.error"),(0,c.default)(e,"$deleteAppPermission.error"),(0,c.default)(e,"$updateAppPermission.error"),(0,c.default)(e,"$deleteApp.error")]}},e=>({fetchPermissions:t=>e((0,b.getPermission)(t)),handleCreatePermission:(t,a)=>e((0,b.createPermission)(t,a)),handleDeletePermission:(t,a)=>e((0,b.deletePermission)(t,a)),handleEditPermission:(t,a,r)=>e((0,b.updatePermission)(t,a,r)),handleDeleteApp:t=>e((0,b.deleteApp)(t))}))(P);t.default=O},1541:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(946);var r=f(a(947));a(328);var i=f(a(133));a(75);var l=f(a(21)),n=a(36);a(652);var s=f(a(653)),o=f(a(1)),d=a(96),c=a(0),u=a(804),p=f(a(313));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const h=a(1104).default,g=a(1103).default,x=a(1101).default,b=a(1102).default,y=a(1105).default,v=(0,d.css)(".ant-btn{border:transparent;margin-left:5px;padding:0 5px;}"),w=(0,d.css)("border:1px solid #e8e8e8;padding:2px 10px;.ant-btn{border:transparent;background-color:transparent;margin-left:5px;padding:0 5px;}width:500px;");class E extends o.default.Component{constructor(...e){super(...e),m(this,"state",{viewKey:!1}),m(this,"handleViewClick",()=>{this.setState(e=>({viewKey:!e.viewKey}))}),m(this,"handleCopyCred",()=>{s.default.success({message:"Credentials have been copied successfully!"})}),m(this,"handleEditCred",()=>{const e=this.props,t=e.permissionInfo;(0,e.showForm)({description:t.description,read:t.read,write:t.write,acl:t.acl,referers:t.referers,sources:t.sources,include_fields:t.include_fields,exclude_fields:t.exclude_fields,ip_limit:t.ip_limit,ttl:t.ttl,meta:{username:t.username}})}),m(this,"handleDeleteCred",async()=>{const e=this.props,t=e.permissionInfo;(0,e.deletePermission)(t.username)})}get key(){const e=this.props.permissionInfo;return`${e.username}:${e.password}`}render(){const e=this.state.viewKey;return o.default.createElement(p.default,{className:(0,n.css)(v),alignItems:"center"},o.default.createElement(p.default,{justifyContent:"space-between",alignItems:"center",className:(0,n.css)(w)},o.default.createElement("span",null,e?this.key:"########################################"),o.default.createElement(p.default,null,o.default.createElement(i.default,{placement:"topLeft",title:e?"Hide credentials":"View credentials"},o.default.createElement(l.default,{onClick:this.handleViewClick,type:"normal"},e?o.default.createElement(g,{size:16}):o.default.createElement(h,{size:16}))),o.default.createElement(u.CopyToClipboard,{text:this.key,onCopy:this.handleCopyCred},o.default.createElement(i.default,{placement:"topLeft",title:"Copy To Clipboard"},o.default.createElement(l.default,{type:"normal"},o.default.createElement(x,{size:16})))),o.default.createElement(i.default,{placement:"topLeft",title:"Edit credentials"},o.default.createElement(l.default,{onClick:this.handleEditCred,type:"normal"},o.default.createElement(b,{size:16}))))),o.default.createElement(r.default,{title:"Are you sure delete this key?",onConfirm:this.handleDeleteCred,okText:"Yes",cancelText:"No"},o.default.createElement(l.default,{type:"danger"},o.default.createElement(y,{size:16}))))}}E.propTypes={permissionInfo:c.object.isRequired,showForm:c.func.isRequired,deletePermission:c.func.isRequired};var P=E;t.default=P},570:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(a(576)).default;t.default=r},576:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(17);var r=a(36),i=function(e){return e&&e.__esModule?e:{default:e}}(a(1));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function n(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=e=>{let t=e.children,a=e.compact,s=n(e,["children","compact"]);return i.default.createElement("div",l({className:(0,r.css)({width:"100%",maxWidth:1300,margin:"0 auto",padding:a?"0px 20px 20px":"45px 20px"})},s),t)};t.default=s},619:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(323);var r=o(a(324)),i=a(36);a(546);var l=o(a(14)),n=o(a(1)),s=o(a(313));function o(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}t.default=(e=>{const t=n.default.createElement(l.default,{type:"loading",style:{fontSize:50},spin:!0});return n.default.createElement(s.default,d({justifyContent:"center",alignItems:"center",className:(0,i.css)("min-height:300px;")},e),n.default.createElement(r.default,{indicator:t}))})},745:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(36),i={formLabel:(0,r.css)("font-weight:500;color:black;font-size:14px;"),subHeader:(0,r.css)("margin-left:10px;font-weight:100;font-size:14px;"),addedWhiteList:(0,r.css)("background-color:#fbfcfe;border:solid 1px #83a2ee;border-radius:2px;padding:5px 10px;color:#343e54;margin-bottom:15px;width:100%;"),description:(0,r.css)("font-size:12px,font-weight:100;"),serachResultsCls:(0,r.css)("border:solid 1px #d9d9d9;border-top:none;border-radius:3px;position:absolute;width:100%;background-color:#fff;z-index:1;"),error:(0,r.css)("color:red;font-size:12px;padding:5px;"),fieldBadge:(0,r.css)("margin-left:2px;font-size:10px;background-color:#a2a4aa;border-radius:3px;padding:1px 2px;color:#fff;"),overlay:(0,r.css)("position:absolute;top:160px;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.8);z-index:9999;color:black;"),upgradePlan:(0,r.css)("margin-top:200px;font-size:16px;font-weight:500;text-align:center;")};t.default=i},790:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(17);var r=a(36);a(328);var i=c(a(133));a(546);var l=c(a(14)),n=c(a(1)),s=c(a(0)),o=c(a(745)),d=c(a(313));function c(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const f=e=>{let t=e.label,a=e.component,s=e.toolTipMessage,c=e.gridRatio,f=p(e,["label","component","toolTipMessage","gridRatio"]);return n.default.createElement(d.default,u({className:(0,r.css)("margin-top:30px")},f),n.default.createElement(d.default,{className:(0,r.css)("flex:",100*c,"%;")},n.default.createElement("div",null,n.default.createElement("span",{className:(0,r.css)(o.default.formLabel)},t,s&&n.default.createElement(i.default,{className:(0,r.css)("margin-left:5px;color:#898989"),overlay:s,mouseLeaveDelay:0,placement:"rightTop"},n.default.createElement(l.default,{type:"info-circle",theme:"outlined"}))))),n.default.createElement(d.default,{className:(0,r.css)("flex:",100*(1-c),"%;margin-left:20px;")},a))};f.defaultProps={label:"",component:null,toolTipMessage:void 0,gridRatio:.25},f.propTypes={label:s.default.oneOfType([s.default.string,s.default.node]),component:s.default.node,toolTipMessage:s.default.any,gridRatio:s.default.number};var m=f;t.default=m},791:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promotionContainer=t.ErrorLogger=t.Input=t.deleteBtn=t.Button=t.Footer=t.subItem=t.item=t.dropdown=t.title=t.row=t.heading=t.Header=t.HeaderWrapper=t.card=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(96));const i=(0,r.css)("width:100%;max-width:980px;margin:25px auto;background-color:#fff;border-radius:3px;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);box-sizing:border-box;i{margin:3px 3px 0px 8px;}.card-info{border-bottom:1px solid #eee;padding:20px;display:flex;align-items:center;justify-content:space-between;@media (max-width:620px){align-items:flex-start;flex-direction:column;}}.card-button{@media (max-width:620px){margin-left:0;margin-top:10px;}}");t.card=i;const l=(0,r.default)("div",{target:"e1779ibv0"})("display:flex;flex-direction:column;align-items:flex-start;justify-content:center;p{font-size:13px;margin:6px 0 0;color:#999;}");t.HeaderWrapper=l;const n=(0,r.default)("header",{target:"e1779ibv1"})("display:flex;flex-direction:row;justify-content:space-between;font-weight:600;padding-top:20px;@media (max-width:700px){flex-direction:column;padding:0 10px;}.col-container{display:flex;justify-content:space-between;}.col{min-width:150px;display:inline-flex;margin:0 0 0 12px;text-align:center;&:first-child{margin:0;}&.col--grow{flex-grow:1;}@media (max-width:460px){min-width:80px;}}");t.Header=n;const s=(0,r.css)("font-size:16px;letter-spacing:0.015rem;font-weight:600;margin:0;padding:0;");t.heading=s;const o=(0,r.css)("box-sizing:border-box;background-color:rgba(0,0,0,0.02);padding:15px 0 15px 15px;margin:15px 0;border:1px solid rgba(0,0,0,0.05);");t.row=o;const d=(0,r.css)("font-size:15px;letter-spacing:0.015rem;font-weight:600;margin:0 0 12px 0;padding:0;");t.title=d;const c=(0,r.css)("width:auto;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;margin-left:12px;padding:6px 15px 6px 6px;text-transform:capitalize;@media (max-width:700px){margin-left:0px;margin-top:10px;padding:0;}@media (max-width:460px){min-width:80px;}");t.dropdown=c;const u=(0,r.css)("display:flex;flex-direction:row;justify-content:space-between;padding:10px;margin-bottom:2px;align-items:center;background-color:rgba(255,255,255,0.8);@media (max-width:700px){flex-direction:column;align-items:flex-start;}");t.item=u;const p=(0,r.css)("display:flex;flex-direction:row;align-items:center;@media (max-width:700px){width:100%;justify-content:space-between;}");t.subItem=p;const f=(0,r.default)("footer",{target:"e1779ibv2"})("position:sticky;bottom:0;width:100%;height:66px;box-shadow:0 -3px 5px 0 rgba(0,0,0,0.02);background-color:#fff;transition:all 0.3s ease;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:0 20px;display:flex;flex-direction:row-reverse;align-items:center;");t.Footer=f;const m=(0,r.default)("a",{target:"e1779ibv3"})("display:inline-flex;height:42px;padding:0 20px;justify-content:center;align-items:center;color:#53683b;font-weight:600;background-color:",e=>e.ghost?"#efefef":"#b6ef7e",";text-transform:uppercase;box-shadow:0 3px 3px 0 rgba(0,0,0,0.1);cursor:pointer;margin-left:12px;&:hover,&:focus{background-color:",e=>e.ghost?"#fafafa":"#c3f295",";box-shadow:0 5px 5px 0 rgba(0,0,0,0.1);text-decoration:none;}");t.Button=m;const h=(0,r.css)("display:flex;flex-grow:1;alignitems:center;flex-direction:row;cursor:pointer;@media (max-width:700px){width:100%;font-weight:600;}span{max-width:calc(100% - 40px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}a{display:none;cursor:pointer;color:#444;margin-left:15px;transition:all 0.3s ease;color:tomato;@media (max-width:700px){display:inline;}}&:hover a,&:focus a{display:inline;&:hover,&:focus{color:red;}}");t.deleteBtn=h;const g=(0,r.default)("input",{target:"e1779ibv4"})("diplay:flex;flex-grow:1;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;padding:5px;");t.Input=g;const x=(0,r.default)("pre",{target:"e1779ibv5"})("height:auto;max-height:200px;overflow-y:scroll;width:100%;background-color:#eee;padding:10px;font-family:monospace;font-size:14px;");t.ErrorLogger=x;const b=(0,r.css)("display:flex;flex-direction:row;align-items:center;@media (max-width:940px){margin:10px 0;align-items:flex-start;flex-direction:column;}.promotional-button{@media (max-width:940px){margin-left:0;margin-top:10px;}}.promotional-info{margin:0 8px 0 0;color:#888;@media (max-width:940px){font-size:14px;font-weight:400;}}");t.promotionContainer=b},938:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aclOptionsLabel=t.getDefaultAclOptionsByPlan=t.getAclOptionsByPlan=t.defaultAclOptions=t.aclOptions=t.Types=t.isNegative=t.ipValidator=t.getSuggestionCode=t.Suggestions=void 0,a(593);const r={1:{prefix:"",suffix:"",description:"Matches exactly"},2:{prefix:"",suffix:"*",description:"Matches referers starting with"},3:{prefix:"*",suffix:"",description:"Matches referers ending with"},4:{prefix:"*",suffix:"*",description:"Matches referers containing"}};t.Suggestions=r;t.getSuggestionCode=(e=>"*"===e?"Matches All":e.startsWith("*")&&e.endsWith("*")?r[4].description:e.startsWith("*")?r[3].description:e.endsWith("*")?r[2].description:r[1].description);t.ipValidator=(e=>{const t=e&&e.split("/");if(t&&/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t[0])){const e=parseInt(t[1],10);return e>-1&&e<33}return!1});t.isNegative=(e=>{if(e.value&&parseInt(e.value,10)<0)return{isNegative:!0}});t.Types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}};const i=["index","get","search","settings","stream","bulk","delete"];t.aclOptions=i;const l=["index","get","search","settings","stream","bulk","delete"];t.defaultAclOptions=l;t.getAclOptionsByPlan=(e=>"growth"===e?[...i,"analytics"]:i);t.getDefaultAclOptionsByPlan=(e=>"growth"===e?[...l,"analytics"]:l);t.aclOptionsLabel={index:"Index",get:"Get",search:"Search",settings:"Settings",stream:"Stream",bulk:"Bulk",delete:"Delete",analytics:"Analytics"}}}]);