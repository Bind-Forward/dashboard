(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{308:function(e,t,o){"use strict";t.__esModule=!0;var n=o(1),r=s(n),a=o(16),i=s(o(353));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o));return n.importerUrl="https://importer.appbase.io/?header=false",n.confirmInfo={title:"Switch to Dashboard",description:r.default.createElement("p",null," ","Do you want to abort the import process and go back to the dashboard? The current progress will not be saved."),buttons:{confirm:"Confirm"}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleLogout(),this.props.directImporter&&this.open()},t.prototype.handleLogout=function(){window.addEventListener("message",this.onLogout.bind(this),!1)},t.prototype.onLogout=function(e){var t=this;setTimeout(function(){"loggedOut"===e.data&&t.close()},1e3)},t.prototype.close=function(){a.appbaseService.pushUrl("/apps")},t.prototype.getImporterUrl=function(){var e=this.importerUrl;if(a.appbaseService.importerConfig){var t=Object.assign(a.appbaseService.importerConfig,{platform:"appbase"});e=e+"&app="+JSON.stringify(t),a.appbaseService.importerApp=null}return e},t.prototype.render=function(){return r.default.createElement("div",{className:"ad-importer"},r.default.createElement("iframe",{src:this.getImporterUrl(),frameBorder:"0",className:"ad-importer-iframe"}),r.default.createElement(i.default,{info:this.confirmInfo,onConfirm:this.close,type:"danger"},r.default.createElement("a",{title:"back",className:"ad-theme-btn danger transparent ad-importer-close"},"Switch to Dashboard")))},t}(n.Component);t.default=l},353:function(e,t,o){"use strict";t.__esModule=!0;var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=o(1),i=(n=a)&&n.__esModule?n:{default:n},s=o(370),l=o(38);var p=function(e){function t(o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o));return n.state={showModal:!!n.props.showModal&&n.props.showModal,validate:!1,inputValue:null},n.open=n.open.bind(n),n.onConfirm=n.onConfirm.bind(n),n.onCancel=n.onCancel.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose&&this.props.onClose(),this.setState({showModal:!1})},t.prototype.open=function(){this.props.onOpen&&this.props.onOpen(),this.setState({showModal:!0})},t.prototype.onConfirm=function(){this.props.onConfirm&&this.props.onConfirm(),this.close()},t.prototype.onCancel=function(){this.props.onCancel&&this.props.onCancel(),this.close()},t.prototype.getType=function(){return"modal-"+(this.props.type?this.props.type:"info")},t.prototype.handleInputChange=function(e){this.setState({inputValue:e.target.value,validate:e.target.value===this.props.info.validate.value})},t.prototype.render=function(){var e=this,t=i.default.Children.map(this.props.children,function(t){return i.default.cloneElement(t,{onClick:e.open})});return i.default.createElement("div",null,t,i.default.createElement(s.Modal,{className:this.getType(),show:this.state.showModal,onHide:function(){return e.close()}},i.default.createElement(s.Modal.Header,{closeButton:!0},this.props.info&&this.props.info.title?i.default.createElement(s.Modal.Title,null,this.props.info.title):null),i.default.createElement(s.Modal.Body,{className:"clearfix"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12"},this.props.info.description),this.props.info&&this.props.info.validate?i.default.createElement("div",{className:"col-xs-12 form-group"},i.default.createElement("input",{placeholder:this.props.info.validate.placeholder,type:"text",className:"form-control",defaultValue:this.state.inputValue,onChange:this.handleInputChange})):null),i.default.createElement("div",{className:"col-xs-12 p-0"},this.props.info.buttons.confirm?i.default.createElement("button",r({className:"ad-theme-btn ad-confirm-btn"},l.common.isDisabled(this.props.info.validate&&!this.state.validate),{onClick:this.onConfirm}),this.props.info.buttons.confirm):null,this.props.info.buttons.cancel?i.default.createElement("button",{className:"ad-theme-btn ad-cancel-btn",onClick:this.onCancel},this.props.info.buttons.cancel):null))))},t}(a.Component);t.default=p,p.propTypes={},p.defaultProps={}}}]);