(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{318:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),o=d(n),r=(a(57),a(16)),i=a(360),s=d(a(911)),l=d(a(907)),p=d(a(364)),c=d(a(906)),u=d(a(905));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a)),o=Number(window.sessionStorage.getItem("currentCalls"));return n.currentRecords=Number(window.sessionStorage.getItem("currentRecords")),n.state={info:{},plan:null,graphMethod:"month",config:{chartConfig:{}},totalApiCalls:o||0,apiCalls:0,waitingForApiCalls:!0},n.themeColor="#CDDC39",n.trailColor="#fff",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.stopUpdate=!1,this.initialize(this.props)},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.componentWillReceiveProps=function(e){e.params.appId!=this.appName&&this.setState({waitingForApiCalls:!0},this.initialize.bind(this,e))},t.prototype.initialize=function(e){this.appName=e.params.appId,this.appId=r.appbaseService.userInfo.body.apps[this.appName],this.getInfo(),this.getBillingInfo()},t.prototype.getBillingInfo=function(){var e=this;if(r.appbaseService.userInfo&&r.appbaseService.userInfo.body&&r.appbaseService.userInfo.body.c_id){var t={c_id:r.appbaseService.userInfo.body.c_id};i.billingService.getCustomer(t).then(function(t){var a=Object.keys(i.billingService.planLimits).indexOf(t.plan)>-1?t.plan:"free";e.setState({billingInfo:t,plan:a})}).catch(function(t){e.setState({plan:"free"}),console.log(t)})}},t.prototype.getApiCalls=function(e){var t=0;return e.body.month.buckets.forEach(function(e){t+=e.apiCalls.value}),t},t.prototype.getInfo=function(){var e=this;this.info={},r.appbaseService.getPermission(this.appId).then(function(t){e.info.permission=t,e.stopUpdate||e.setState({info:e.info})}),r.appbaseService.getAppInfo(this.appId).then(function(t){e.info.appInfo=t,e.stopUpdate||e.setState({info:e.info})}),r.appbaseService.getMetrics(this.appId).then(function(t){e.info.metrics=t;var a=e.getTotalApiCalls(t);e.info.appStats=r.appbaseService.computeMetrics(t),e.stopUpdate||e.setState({info:e.info,apiCalls:e.getApiCalls(t),totalApiCalls:a,waitingForApiCalls:!1})})},t.prototype.getTotalApiCalls=function(e){var t=0;return(e.body&&e.body.month&&e.body.month.buckets?e.body.month.buckets:[]).forEach(function(e){t+=e.apiCalls.value}),t},t.prototype.pretify=function(e){return JSON.stringify(e,null,4)},t.prototype.calcPercentage=function(e,t){var a="action"===t?e.info&&e.info.appStats&&e.info.appStats.calls?e.info.appStats.calls:0:e.info&&e.info.appStats&&e.info.appStats.records?e.info.appStats.records:0,n=100*a/i.billingService.planLimits[this.state.plan][t];return{percentage:n=n<100?n:100,count:a}},t.prototype.appCount=function(){var e={action:{percentage:0,count:0},records:{percentage:0,count:0}};return this.state.plan&&(e={action:this.calcPercentage(this.state,"action"),records:this.calcPercentage(this.state,"records")}),e},t.prototype.render=function(){var e=Boolean(this.state.totalApiCalls)||Boolean(this.appCount().records.count)||Boolean(this.currentRecords);return o.default.createElement(p.default,{pageInfo:{currentView:"dashboard",appName:this.appName,appId:this.appId}},o.default.createElement("div",{className:"ad-detail-page ad-dashboard row"},o.default.createElement("main",{className:"ad-detail-page-body col-xs-12"},o.default.createElement("section",{className:"col-xs-12 col-sm-8"},e?o.default.createElement(s.default,{apiCalls:this.state.apiCalls,graphMethod:this.state.graphMethod,info:this.state.info}):o.default.createElement(u.default,{appName:this.appName,appId:this.appId})),o.default.createElement("section",{className:"col-xs-12 col-sm-4"},o.default.createElement(l.default,{plan:this.state.plan,appCount:this.appCount()}),o.default.createElement(c.default,{plan:this.state.plan,appCount:this.appCount()})))))},t}(n.Component);t.default=f},360:function(e,t,a){"use strict";t.__esModule=!0,t.billingService=void 0;var n=a(38);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.address="https://accapi.appbase.io/",this.billingAddress="https://transactions.appbase.io",this.planLimits={free:{action:1e5,records:1e4},bootstrap:{action:1e6,records:1e5},growth:{action:1e7,records:1e6}},this.prices={monthly:{bootstrap:29,growth:89,dedicated:499},annual:{bootstrap:19,growth:59,dedicated:299}}}return e.prototype.getCustomer=function(e){return n.$http.start({url:this.billingAddress+"/api/me",data:e,method:"POST"})},e.prototype.createCustomer=function(e){return n.$http.start({url:this.billingAddress+"/api/createCustomer",data:e,method:"POST"})},e.prototype.stripeConnect=function(e){return n.$http.start({url:this.billingAddress+"/api/stripeConnect",data:e,method:"POST"})},e.prototype.updateStripeCustomer=function(e){return n.$http.start({url:this.billingAddress+"/api/updateStripeCustomer",data:e,method:"POST"})},e.prototype.updateCustomer=function(e,t){return n.$http.start({url:this.billingAddress+"/api/updateCustomer/"+t,data:e,method:"POST"})},e.prototype.paymentInfo=function(e,t){return n.$http.start({url:this.billingAddress+"/api/paymentInfo",data:e,method:"POST"})},e.prototype.updateSubscribe=function(e){return n.$http.start({url:this.billingAddress+"/billing/subscribe",data:e,method:"PUT"})},e.prototype.cancelSubscription=function(e){return n.$http.start({url:this.billingAddress+"/billing/cancelSubscription",data:e,method:"POST"})},e.prototype.usage=function(e,t){var a=this.billingAddress+"/usage";return e&&t&&(a=this.billingAddress+"/usage?start="+e+"&end="+t),n.$http.start({url:a,method:"GET"})},e.prototype.calculator=function(){return n.$http.start({url:this.billingAddress+"/calculator",method:"GET"})},e}();t.billingService=new o},363:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),o=u(n),r=a(57),i=u(a(36)),s=u(a(127)),l=a(38),p=u(a(83)),c=a(16);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.config=p.default,n.contextPath=c.appbaseService.getContextPath(),n.state={activeApp:n.props.appName},n.stopUpdate=!1,n.links=[{label:"Dashboard",link:n.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:o.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Browser",link:n.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:o.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+n.config.name+"/sidebar/browser.svg"})},{label:"Mappings",link:n.contextPath+"mappings/",type:"internal",name:"gem",tooltip:"View app mappings",img:o.default.createElement("img",{className:"img-responsive mappings",alt:"mapping",src:"../../../assets/images/"+n.config.name+"/sidebar/mapping.svg"})},{label:"Builder",link:n.contextPath+"builder/",type:"internal",name:"mirage",tooltip:"Create and save queries with a GUI",img:o.default.createElement("img",{className:"img-responsive",alt:"builder",src:"../../../assets/images/"+n.config.name+"/sidebar/builder.svg"})},{label:"Credentials",link:n.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:o.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+n.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:n.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:o.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+n.config.name+"/sidebar/team.svg"})}],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,a=null;switch(e){case"links":a=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,a){var n=(0,i.default)({active:t.props.currentView===e.name}),l=o.default.createElement("div",{className:"img-container"},e.img),p=o.default.createElement(r.Link,{className:n,to:e.link+t.state.activeApp},l,o.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return o.default.createElement(s.default,{overlay:o.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(a+1)},o.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(a+1)},p))})}return a},t.prototype.render=function(){var e=this;return o.default.createElement("aside",{className:"ad-detail-sidebar"},o.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(n.Component);t.default=d},364:function(e,t,a){"use strict";t.__esModule=!0;var n=p(a(0)),o=a(1),r=p(o),i=p(a(363)),s=p(a(83)),l=a(16);function p(e){return e&&e.__esModule?e:{default:e}}var c=function(){return r.default.createElement("div",{className:"page404"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col s12"},r.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col s12"},"Go to"," ",r.default.createElement("a",{href:"/apps"},"/apps",r.default.createElement("i",{className:"fa fa-cursor"})))))},u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={showChild:!1},n.selectedApp=n.props.pageInfo.appName,n.config=s.default,n.getAllApps(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var a=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!a||!a.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=r.default.Children.map(this.props.children,function(e){return r.default.cloneElement(e,{})});return r.default.createElement("div",{className:"ad-detail row"},r.default.createElement(i.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),r.default.createElement("main",{className:"ad-detail-view-container"},r.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?r.default.createElement(c,null):null)))},t}(o.Component);t.default=u,u.propTypes={pageInfo:n.default.shape({currentView:n.default.string.isRequired,appName:n.default.string.isRequired,appId:n.default.oneOfType([n.default.number.isRequired,n.default.string.isRequired])})},u.defaultProps={}},905:function(e,t,a){"use strict";t.__esModule=!0;var n,o=a(83),r=(n=o)&&n.__esModule?n:{default:n};t.default=function(){return r.default.dashboardGettingStarted}},906:function(e,t,a){"use strict";t.__esModule=!0;var n,o=a(1),r=(n=o)&&n.__esModule?n:{default:n},i=a(57);var s=function(e){function t(a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.appCount.action.percentage>=100||this.props.appCount.records.percentage>=100?"danger":(this.props.appCount.action.percentage>=80||this.props.appCount.records.percentage>=80)&&"warning",r.default.createElement("div",null,this.props.appCount.action.percentage>80||this.props.appCount.records.percentage>80?r.default.createElement("section",{className:"api-view upgrade"},r.default.createElement("main",{className:"ad-detail-page-body-card-body body-card-body-api-view row"},r.default.createElement(i.Link,{to:"/billing",className:"ad-theme-btn primary"},"Upgrade My Plan"))):null)},t}(o.Component);t.default=s},907:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),o=p(n),r=a(482),i=(a(16),a(360)),s=a(38),l=p(a(83));function p(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.themeColor=l.default.accent,n.trailColor="#eee",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement("section",{className:"ad-detail-page-body-card api-view"},o.default.createElement("header",{className:"ad-detail-page-body-card-title"},o.default.createElement("span",null,"Usage this month")),o.default.createElement("main",{className:"ad-detail-page-body-card-body body-card-body-api-view row ad-metrics-summary"},o.default.createElement("div",{className:"col-xs-12"},o.default.createElement("div",{className:"col-xs-12 col-sm-6 progress-container"},o.default.createElement("span",{className:"progress-wrapper"},o.default.createElement(r.Circle,{percent:this.props.appCount.action.percentage,strokeWidth:"10",trailWidth:"10",trailColor:this.trailColor,strokeColor:this.themeColor})),o.default.createElement("div",{className:"progress-text"},o.default.createElement("div",{className:"sub-title"},"API calls"),this.props.plan?o.default.createElement("div",null,o.default.createElement("strong",null,s.common.compressNumber(this.props.appCount.action.count))," / ",o.default.createElement("span",null,s.common.compressNumber(i.billingService.planLimits[this.props.plan].action))):null)),o.default.createElement("div",{className:"col-xs-12 col-sm-6 progress-container"},o.default.createElement("span",{className:"progress-wrapper"},o.default.createElement(r.Circle,{percent:this.props.appCount.records.percentage,strokeWidth:"10",trailWidth:"10",trailColor:this.trailColor,strokeColor:this.themeColor})),o.default.createElement("div",{className:"progress-text"},o.default.createElement("div",{className:"sub-title"},"Records"),this.props.plan?o.default.createElement("div",null,o.default.createElement("strong",null,s.common.compressNumber(this.props.appCount.records.count))," / ",o.default.createElement("span",null,s.common.compressNumber(i.billingService.planLimits[this.props.plan].records))):null)))))},t}(n.Component);t.default=c},910:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),o=i(n),r=i(a(909));function i(e){return e&&e.__esModule?e:{default:e}}var s=a(571),l=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={config:{chartConfig:{}}},n.columns={indexCalls:[],miscAggregation:[],searchCalls:[],settingsCalls:[],streamCalls:[]},n.columnLabels={indexCalls:"index",miscAggregation:"aggregation",searchCalls:"search",settingsCalls:"settings",streamCalls:"stream"},n.columnColors=["red","#9F9F9F","#13C4A5","#50BAEF","yellow"],n.chartConfig={},n.chartConfig.overview={chart:{type:"spline"},tooltip:{style:{padding:10,fontWeight:"bold"}},symbols:["circle"],series:[],xAxis:{categories:[]},yAxis:{title:"",floor:0},loading:!0,title:{text:""},credits:!1},n.chartConfig.breakdown={colors:n.columnColors,chart:{type:"column",spacingBottom:50},tooltip:{style:{padding:10,fontWeight:"lighter"},headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},symbols:["circle"],series:[],xAxis:{categories:[]},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},yAxis:{title:"",floor:0,stackLabels:{enabled:!0,style:{fontWeight:"bold"}}},legend:{align:"right",verticalAlign:"bottom",y:40,floating:!0,backgroundColor:"white",borderColor:"#CCC",borderWidth:1,shadow:!1},loading:!0,title:{text:""},credits:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;e.info&&e.info.metrics&&e.graphMethod&&e.infoType&&setTimeout(function(){t.prepareGraph()},100)},t.prototype.defaultValues=function(e,t,a){t.strike={};var n=e.body.month.buckets;t.noData=0===n.length;$(".graph-part").width();return t.cap=1e5,t.chart={},t.chart.month=0,t.chartConfig=this.chartConfig[this.props.infoType],t},t.prototype.prepareGraph=function(){var e=new Date,t=new Date(e.getTime()+6e4*e.getTimezoneOffset()),a=this.props.graphMethod,n=this.state.config;n.graphActive=this.props.graphMethod,n=this.defaultValues(this.props.info.metrics,n);var o={week:function(){a=t.setDate(t.getDate()-7)},month:function(){a=(a=new Date(s(t).format("YYYY-MM")+"-01")).getTime()},all:function(){a=0}};if(a||(a="month"),o[a]){var r=a;o[a]()}var i=this.getGraphData(a,this.props.info.metrics),l=i.data;$.isEmptyObject(l)?r&&"all"!==r&&(n.strike[r]=!0):(n.chart.month=n.chart.month||i.month,n.chartConfig.xAxis.categories=i.xAxis,"overview"===this.props.infoType?(n.chartConfig.series=[],"month"===n.graphActive?n.chartConfig.colors=["#50BAEF"]:"all"===n.graphActive?n.chartConfig.colors=["#9F9F9F"]:n.chartConfig.colors=["#13C4A5"],n.chartConfig.series.push({data:l.apiCalls,name:"API Calls"})):n.chartConfig.series=l),n.chartConfig.loading=!1,this.setState({config:n})},t.prototype.getGraphData=function(e,t){var a=this,n=t.body.month.buckets,o=[],r=0,i=[];t="overview"===this.props.infoType?{apiCalls:[]}:Object.assign(this.getColumns(),{});for(var s in n)if(n[s].hasOwnProperty("apiCalls")){var l=parseInt(n[s].key);if(l>=e){if(o[o.length-1]!=l&&o.push(l),"overview"===this.props.infoType){var p=n[s].apiCalls.value;t.apiCalls.push(p)}else Object.keys(this.columns).forEach(function(e){var a=n[s][e].value;t[e].push(a)});r+=p=n[s].apiCalls.value}}var c=[];return o.forEach(function(e){var t=(e=new Date(e)).getUTCMonth()+1+"/"+e.getUTCDate();c.push(t)}),"breakdown"===this.props.infoType&&Object.keys(t).forEach(function(e,n){var o={id:n,name:a.columnLabels[e],data:t[e]};i.push(o)}),{data:"breakdown"===this.props.infoType?i:t,xAxis:c,month:r}},t.prototype.getColumns=function(){var e={};return Object.keys(this.columns).forEach(function(t){e[t]=[]}),e},t.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement(r.default,{config:this.state.config.chartConfig}))},t}(n.Component);t.default=l},911:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),o=i(n),r=i(a(910));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a)),o=new Date;return n.state={graphMethod:o.getDate()<3?"week":"month",infoType:"overview"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.graph=function(e){this.setState({graphMethod:e})},t.prototype.info=function(e){this.setState({infoType:e})},t.prototype.render=function(){var e=this;return o.default.createElement("section",{className:"ad-detail-page-body-card graph-view"},o.default.createElement("header",{className:"ad-detail-page-body-card-title body-card-title-highchart"},o.default.createElement("span",null,"API Calls"),o.default.createElement("span",{className:"ad-dropdown dropdown pull-right charts-api-calls"},o.default.createElement("button",{className:"dropdown-toggle",type:"button",id:"sortby-menu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},this.state.graphMethod,"  ",o.default.createElement("span",{className:"caret"})),o.default.createElement("ul",{className:"ad-dropdown-menu dropdown-menu pull-right","aria-labelledby":"sortby-menu"},o.default.createElement("li",null,o.default.createElement("a",{className:"week"===this.state.graphMethod?"active":"",onClick:function(){return e.graph("week")}},"Week")),o.default.createElement("li",null,o.default.createElement("a",{className:"month"===this.state.graphMethod?"active":"",onClick:function(){return e.graph("month")}},"Month")),o.default.createElement("li",null,o.default.createElement("a",{className:"all"===this.state.graphMethod?"active":"",onClick:function(){return e.graph("all")}},"All"))))),o.default.createElement("main",{className:"ad-detail-page-body-card-body"},o.default.createElement("header",{className:"tab-container col-xs-12"},o.default.createElement("ul",{className:"nav-tab pull-left"},o.default.createElement("li",null,o.default.createElement("a",{className:"overview"===this.state.infoType?"active":"",onClick:function(){return e.info("overview")}},"Overview")),o.default.createElement("li",null,o.default.createElement("a",{className:"breakdown"===this.state.infoType?"active":"",onClick:function(){return e.info("breakdown")}},"Breakdown")))),o.default.createElement(r.default,{id:"chart1",graphMethod:this.state.graphMethod,info:this.props.info,infoType:this.state.infoType})))},t}(n.Component);t.default=s}}]);