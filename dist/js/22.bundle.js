(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{336:function(t,e,o){"use strict";e.__esModule=!0;var n=o(1),r=s(n),i=o(16),a=s(o(440));function s(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return n.importerUrl="https://importer.appbase.io/?header=false",n.confirmInfo={title:"Switch to Dashboard",description:r.default.createElement("p",null," ","Do you want to abort the import process and go back to the dashboard? The current progress will not be saved."),buttons:{confirm:"Confirm"}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.handleLogout(),this.props.directImporter&&this.open()},e.prototype.handleLogout=function(){window.addEventListener("message",this.onLogout.bind(this),!1)},e.prototype.onLogout=function(t){var e=this;setTimeout(function(){"loggedOut"===t.data&&e.close()},1e3)},e.prototype.close=function(){i.appbaseService.pushUrl("/apps")},e.prototype.getImporterUrl=function(){var t=this.importerUrl;if(i.appbaseService.importerConfig){var e=Object.assign(i.appbaseService.importerConfig,{platform:"appbase"});t=t+"&app="+JSON.stringify(e),i.appbaseService.importerApp=null}return t},e.prototype.render=function(){return r.default.createElement("div",{className:"ad-importer"},r.default.createElement("iframe",{src:this.getImporterUrl(),frameBorder:"0",className:"ad-importer-iframe"}),r.default.createElement(a.default,{info:this.confirmInfo,onConfirm:this.close,type:"danger"},r.default.createElement("a",{title:"back",className:"ad-theme-btn danger transparent ad-importer-close"},"Switch to Dashboard")))},e}(n.Component);e.default=p},384:function(t,e,o){"use strict";function n(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function r(t){this.setState(function(e){var o=this.constructor.getDerivedStateFromProps(t,e);return null!==o&&void 0!==o?o:null}.bind(this))}function i(t,e){try{var o=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(o,n)}finally{this.props=o,this.state=n}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var o=null,a=null,s=null;if("function"==typeof e.componentWillMount?o="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(o="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==o||null!==a||null!==s){var p=t.displayName||t.name,l="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+p+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=n,e.componentWillReceiveProps=r),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,o){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:o;c.call(this,t,e,n)}}return t}o.r(e),o.d(e,"polyfill",function(){return a}),n.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},440:function(t,e,o){"use strict";e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},r=o(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r),a=o(508),s=o(39);var p=function(t){function e(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return n.state={showModal:!!n.props.showModal&&n.props.showModal,validate:!1,inputValue:null},n.open=n.open.bind(n),n.onConfirm=n.onConfirm.bind(n),n.onCancel=n.onCancel.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.close=function(){this.props.onClose&&this.props.onClose(),this.setState({showModal:!1})},e.prototype.open=function(){this.props.onOpen&&this.props.onOpen(),this.setState({showModal:!0})},e.prototype.onConfirm=function(){this.props.onConfirm&&this.props.onConfirm(),this.close()},e.prototype.onCancel=function(){this.props.onCancel&&this.props.onCancel(),this.close()},e.prototype.getType=function(){return"modal-"+(this.props.type?this.props.type:"info")},e.prototype.handleInputChange=function(t){this.setState({inputValue:t.target.value,validate:t.target.value===this.props.info.validate.value})},e.prototype.render=function(){var t=this,e=i.default.Children.map(this.props.children,function(e){return i.default.cloneElement(e,{onClick:t.open})});return i.default.createElement("div",null,e,i.default.createElement(a.Modal,{className:this.getType(),show:this.state.showModal,onHide:function(){return t.close()}},i.default.createElement(a.Modal.Header,{closeButton:!0},this.props.info&&this.props.info.title?i.default.createElement(a.Modal.Title,null,this.props.info.title):null),i.default.createElement(a.Modal.Body,{className:"clearfix"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12"},this.props.info.description),this.props.info&&this.props.info.validate?i.default.createElement("div",{className:"col-xs-12 form-group"},i.default.createElement("input",{placeholder:this.props.info.validate.placeholder,type:"text",className:"form-control",defaultValue:this.state.inputValue,onChange:this.handleInputChange})):null),i.default.createElement("div",{className:"col-xs-12 p-0"},this.props.info.buttons.confirm?i.default.createElement("button",n({className:"ad-theme-btn ad-confirm-btn"},s.common.isDisabled(this.props.info.validate&&!this.state.validate),{onClick:this.onConfirm}),this.props.info.buttons.confirm):null,this.props.info.buttons.cancel?i.default.createElement("button",{className:"ad-theme-btn ad-cancel-btn",onClick:this.onCancel},this.props.info.buttons.cancel):null))))},e}(r.Component);e.default=p,p.propTypes={},p.defaultProps={}}}]);