(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1550:function(e,t,n){"use strict";t.__esModule=!0,t.getPreferences=function(e){return new Promise(function(t,n){fetch(o.ACC_API+"/app/"+e+"/preferences",{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return t(e.message)}).catch(function(e){console.error(e),n(e)})})},t.setPreferences=function(e,t){return new Promise(function(n,r){fetch(o.ACC_API+"/app/"+e+"/preferences",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){return n()}).catch(function(e){console.error(e),r(e)})})};var o=n(406)},1551:function(e,t,n){var o,r=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function r(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,function(n){return r(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":a._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),o=0,r=t.length;o<r;o++){var i=t.charCodeAt(o);n[2*o]=i>>>8,n[2*o+1]=i%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return a.decompress(t);for(var n=new Array(t.length/2),o=0,r=n.length;o<r;o++)n[o]=256*t[2*o]+t[2*o+1];var i=[];return n.forEach(function(t){i.push(e(t))}),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,function(t){return r(n,e.charAt(t))}))},compress:function(t){return a._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var o,r,a,i={},s={},l="",c="",p="",u=2,d=3,f=2,m=[],h=0,y=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(i,l)||(i[l]=d++,s[l]=!0),c=p+l,Object.prototype.hasOwnProperty.call(i,c))p=c;else{if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,y==t-1?(y=0,m.push(n(h)),h=0):y++;for(r=p.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1}else{for(r=1,o=0;o<f;o++)h=h<<1|r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r=0;for(r=p.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete s[p]}else for(r=i[p],o=0;o<f;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1;0==--u&&(u=Math.pow(2,f),f++),i[c]=d++,p=String(l)}if(""!==p){if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,y==t-1?(y=0,m.push(n(h)),h=0):y++;for(r=p.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1}else{for(r=1,o=0;o<f;o++)h=h<<1|r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r=0;for(r=p.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete s[p]}else for(r=i[p],o=0;o<f;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1;0==--u&&(u=Math.pow(2,f),f++)}for(r=2,o=0;o<f;o++)h=h<<1|1&r,y==t-1?(y=0,m.push(n(h)),h=0):y++,r>>=1;for(;;){if(h<<=1,y==t-1){m.push(n(h));break}y++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,o){var r,a,i,s,l,c,p,u=[],d=4,f=4,m=3,h="",y=[],g={val:o(0),position:n,index:1};for(r=0;r<3;r+=1)u[r]=r;for(i=0,l=Math.pow(2,2),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),i|=(s>0?1:0)*c,c<<=1;switch(i){case 0:for(i=0,l=Math.pow(2,8),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),i|=(s>0?1:0)*c,c<<=1;p=e(i);break;case 1:for(i=0,l=Math.pow(2,16),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),i|=(s>0?1:0)*c,c<<=1;p=e(i);break;case 2:return""}for(u[3]=p,a=p,y.push(p);;){if(g.index>t)return"";for(i=0,l=Math.pow(2,m),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),i|=(s>0?1:0)*c,c<<=1;switch(p=i){case 0:for(i=0,l=Math.pow(2,8),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),i|=(s>0?1:0)*c,c<<=1;u[f++]=e(i),p=f-1,d--;break;case 1:for(i=0,l=Math.pow(2,16),c=1;c!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),i|=(s>0?1:0)*c,c<<=1;u[f++]=e(i),p=f-1,d--;break;case 2:return y.join("")}if(0==d&&(d=Math.pow(2,m),m++),u[p])h=u[p];else{if(p!==f)return null;h=a+a.charAt(0)}y.push(h),u[f++]=a+h.charAt(0),a=h,0==--d&&(d=Math.pow(2,m),m++)}}};return a}();void 0===(o=function(){return r}.call(t,n,t,e))||(e.exports=o)},1552:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1551);t.getParameters=function(e){return function(e){return o.compressToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(JSON.stringify(e))}},1553:function(e,t,n){"use strict";t.__esModule=!0;var o=n(1552);t.getParameters=o.getParameters},1554:function(e,t,n){"use strict";t.__esModule=!0,t.SandboxContext=void 0;var o=w(n(462)),r=w(n(499)),a=w(n(461)),i=w(n(379)),s=w(n(363)),l=w(n(510)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};n(463),n(431),n(556),n(409),n(437),n(607);var p=n(1),u=w(p),d=n(139),f=n(1553),m=w(n(0)),h=n(594),y=n(1550),g=n(406),b=n(752),v=w(b);function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var C=(0,d.css)("padding:15px;"),k="SEARCH_SANDBOX_NEW_PROFILE_APPBASE",S="SEARCH_SANDBOX_SAVE_NEW_PROFILE_APPBASE",E=t.SandboxContext=u.default.createContext(),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.getLocalPref=function(){var e=localStorage.getItem(o.props.appName);e&&(e=JSON.parse(e)),o.pref=e||{};var t=Array.from(new Set([].concat(o.state.profileList,Object.keys(o.pref)))),n=o.pref[o.state.profile]||{};o.setState({componentProps:n,profileList:t,filterCount:Object.keys(n).filter(function(e){return"search"!==e&&"result"!==e})})},o.setLocalPref=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.stringify(e);localStorage.setItem(o.props.appName,t)},o.getActiveConfig=function(){return o.state.configs.find(function(e){return e.profile===o.state.profile})},o.setFilterCount=function(e){o.setState({filterCount:e})},o.savePreferences=function(){var e;o.pref=c({},o.pref,((e={})[o.state.profile]=o.state.componentProps,e)),o.props.isDashboard?(0,y.setPreferences)(o.props.appName,o.pref).catch(function(){return o.setLocalPref(o.pref)}):o.setLocalPref(o.pref)},o.deleteComponent=function(e){var t=o.state.componentProps,n=(t[e],x(t,[e]));o.setState({componentProps:n},o.savePreferences)},o.handleProfileChange=function(e){var t=e.key;if(t===k)o.setState({showNewProfileModal:!0,filterCount:0});else if(t===S)o.newComponentProps=o.pref[o.state.profile],o.setState({showNewProfileModal:!0,filterCount:Object.keys(o.newComponentProps).filter(function(e){return"search"!==e&&"result"!==e})});else{var n=o.pref[t]||{};o.setState({profile:t,componentProps:n,filterCount:Object.keys(n).filter(function(e){return"search"!==e&&"result"!==e})})}},o.handleComponentPropChange=function(e,t){t.onData;var n=x(t,["onData"]);o.setState(function(t){var o;return c({},t,{componentProps:c({},t.componentProps,(o={},o[e]=c({},t.componentProps[e],n),o))})},o.savePreferences)},o.handleSaveProfile=function(){var e=o.profileInput.current.input.value,t=o.newComponentProps||{};o.state.profileList.includes(e)?o.setState({profileModalError:"A search profile with the same name already exists"}):o.setState({profileList:[].concat(o.state.profileList,[e]),profile:e,componentProps:t,showNewProfileModal:!1,profileModalError:""}),o.newComponentProps=null},o.handleCancel=function(){o.newComponentProps=null,o.setState({showNewProfileModal:!1,profileModalError:""})},o.openSandbox=function(){var e={appId:o.props.appId||null,appName:o.props.appName||null,url:o.props.url,credentials:o.props.credentials||null,componentProps:o.state.componentProps,mappings:o.state.mappings,attribution:o.props.attribution||null},t=(0,v.default)(e),n=(0,b.getTemplateStyles)(),r=(0,f.getParameters)({files:{"index.js":{content:t},"package.json":{content:{dependencies:{react:"16.3.2","react-dom":"16.3.2",antd:"^3.6.6","@appbaseio/reactivesearch":"latest","react-expand-collapse":"latest"}}},"index.html":{content:'<div id="root"></div>'},"styles.css":{content:n}}});window.open("https://codesandbox.io/api/v1/sandboxes/define?parameters="+r,"_blank")};return o.profileInput=u.default.createRef(),o.state={profile:"default",profileList:["default"],configs:[],mappings:null,filterCount:0,componentProps:{},showNewProfileModal:!1,profileModalError:""},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.isDashboard?(0,y.getPreferences)(this.props.appName).then(function(t){e.pref=t||{};var n=Array.from(new Set([].concat(e.state.profileList,Object.keys(e.pref)))),o=e.pref[e.state.profile]||{};e.setState({componentProps:o,profileList:n,filterCount:Object.keys(o).filter(function(e){return"search"!==e&&"result"!==e})})}).catch(function(){return e.getLocalPref()}):this.getLocalPref(),(0,h.getMappings)(this.props.appName,this.props.credentials,this.props.url).then(function(t){var n=Object.keys(t).length>0?Object.keys(t)[0]:"";e.setState({mappings:(0,h.getMappingsTree)(t),mappingsType:n})})},t.prototype.render=function(){var e={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20,height:300,fontSize:16,lineHeight:26};if(!this.state.mappings)return u.default.createElement("div",{style:e},"Loading...");if(!Object.keys(this.state.mappings).length)return u.default.createElement("div",{style:e},"No data found. Please insert data to use this feature");var t=u.default.createElement(l.default,{onClick:this.handleProfileChange,style:{maxHeight:300,overflowY:"scroll"}},this.state.profileList.map(function(e){return u.default.createElement(l.default.Item,{key:e},e)}),u.default.createElement(l.default.Divider,null),u.default.createElement(l.default.Item,{key:k},u.default.createElement(s.default,{type:"plus"}),"  Create a New Profile"),u.default.createElement(l.default.Item,{key:S},u.default.createElement(s.default,{type:"save"}),"  Save as New Profile")),n={appId:this.props.appId||null,appName:this.props.appName||null,url:this.props.url,credentials:this.props.credentials||null,profile:this.state.profile,config:this.getActiveConfig(),mappings:this.state.mappings,mappingsType:this.state.mappingsType,componentProps:this.state.componentProps,onPropChange:this.handleComponentPropChange,filterCount:this.state.filterCount,setFilterCount:this.setFilterCount,deleteComponent:this.deleteComponent};return u.default.createElement(E.Provider,{value:n},u.default.createElement("div",{className:C,key:this.state.profile},u.default.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",padding:"10px 20px 0"}},this.props.isDashboard?u.default.createElement(a.default,{overlay:t,trigger:["click"]},u.default.createElement(i.default,{size:"large",style:{marginLeft:8}},"Search Profile - ",this.state.profile," ",u.default.createElement(s.default,{type:"down"}))):null,u.default.createElement(i.default,{onClick:this.openSandbox,size:"large",type:"primary"},"Open in Codesandbox")),u.default.Children.map(this.props.children,function(e){return u.default.createElement(E.Consumer,null,function(t){return u.default.cloneElement(e,c({},t))})})),u.default.createElement(o.default,{title:"Create a new Search Profile",visible:this.state.showNewProfileModal,onOk:this.handleSaveProfile,onCancel:this.handleCancel,destroyOnClose:!0},u.default.createElement("div",{style:{margin:"0 0 6px"},className:"ant-form-extra"},"Set search profile name"),u.default.createElement(r.default,{type:"text",ref:this.profileInput,placeholder:"Search Profile Name"}),this.state.profileModalError?u.default.createElement("p",{style:{color:"tomato"}},this.state.profileModalError):null))},t}(p.Component);t.default=_,_.propTypes={appId:m.default.string,appName:m.default.string.isRequired,attribution:m.default.object,credentials:m.default.string.isRequired,isDashboard:m.default.bool,url:m.default.string},_.defaultProps={isDashboard:!1,url:g.SCALR_API}},329:function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),r=c(o),a=c(n(434)),i=c(n(1554)),s=n(16),l=n(406);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.initialize=function(e){o.appId=s.appbaseService.userInfo.body.apps[e],(0,l.getCredentials)(o.appId).then(function(t){var n=t.username,r=t.password;o.setState({credentials:n+":"+r,appName:e})}).catch(function(){})},o.state={credentials:null,appName:n.params.appId},o.appId=s.appbaseService.userInfo.body.apps[o.state.appName],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,l.getCredentials)(this.appId).then(function(t){var n=t.username,o=t.password;e.setState({credentials:n+":"+o})}).catch(function(){})},t.prototype.componentWillReceiveProps=function(e){e.params.appId&&e.params.appId!==this.state.appName&&this.initialize(e.params.appId)},t.prototype.render=function(){return this.pageInfo={currentView:"search-sandbox",appName:this.state.appName,appId:this.appId},this.state.credentials?r.default.createElement(a.default,{pageInfo:this.pageInfo},r.default.createElement(i.default,{key:this.state.appName,appId:this.appId,appName:this.state.appName,credentials:this.state.credentials,isDashboard:!0},this.props.children)):r.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20,height:300,fontSize:16,lineHeight:26}},"Loading...")},t}(o.Component);t.default=p},395:function(e,t,n){"use strict";var o=n(8),r=n.n(o),a=n(4),i=n.n(a),s=n(12),l=n.n(s),c=n(3),p=n.n(c),u=n(5),d=n.n(u),f=n(1),m=n(0),h=n.n(m),y=function(e){function t(){return i()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale,o=this.context.antLocale,a=o&&o[t];return r()({},"function"==typeof n?n():n,a||{})}},{key:"getLocaleCode",value:function(){var e=this.context.antLocale,t=e&&e.locale;return e&&e.exist&&!t?"en-us":t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode())}}]),t}(f.Component);t.a=y,y.contextTypes={antLocale:h.a.object}},396:function(e,t){var n,o,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var l,c=[],p=!1,u=-1;function d(){p&&l&&(p=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!p){var e=s(d);p=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,p=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||p||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},400:function(e,t,n){"use strict";var o=n(438),r=n(8),a=n.n(r),i={placeholder:"Select time"},s={lang:a()({placeholder:"Select date",rangePlaceholder:["Start date","End date"]},{today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:a()({},i)},l=s;t.a={locale:"en",Pagination:o.a,DatePicker:s,TimePicker:i,Calendar:l,Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],notFoundContent:"Not Found",searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items"},Select:{notFoundContent:"Not Found"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file"}}},406:function(e,t,n){"use strict";t.__esModule=!0,t.getCredentials=function(e){return new Promise(function(t,n){fetch(o+"/app/"+e+"/permissions",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")&&e.include_fields.includes("*")});n||(n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")})),n||(n=e.body.find(function(e){return e.read&&e.write})),n||(n=e.body.find(function(e){return e.read})),t(n)}).catch(function(e){n(e)})})},t.checkUserStatus=function(){return new Promise(function(e,t){fetch(o+"/user",{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e.body.c_id?e.body.c_id:(t(),null)}).then(a).then(function(e){return e.json()}).then(function(t){t.plan&&"free"!==t.plan||e({isPaidUser:!!t.plan,plan:t.plan}),e({isPaidUser:!!t.plan,plan:t.plan})}).catch(function(){t()})})};var o=t.ACC_API="https://accapi.appbase.io",r=(t.SCALR_API="https://scalr.api.appbase.io",t.BILLING_API="https://transactions.appbase.io");function a(e){return fetch(r+"/api/me",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({c_id:e})})}},433:function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),r=u(o),a=n(42),i=u(n(37)),s=u(n(141)),l=n(39),c=u(n(91)),p=n(16);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.config=c.default,o.contextPath=p.appbaseService.getContextPath(),o.state={activeApp:o.props.appName},o.stopUpdate=!1,o.links=[{label:"Dashboard",link:o.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:r.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+o.config.name+"/sidebar/dashboard.svg"})},{label:"Mappings",link:o.contextPath+"mappings/",type:"internal",name:"mappings",tooltip:"View or update mappings",img:r.default.createElement("img",{className:"img-responsive",alt:"mappings",src:"../../../assets/images/"+o.config.name+"/sidebar/mapping.svg"})},{label:"Browser",link:o.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:r.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+o.config.name+"/sidebar/browser.svg"})},{label:"Search Sandbox",link:o.contextPath+"search-sandbox/",type:"internal",name:"search-sandbox",tooltip:"Update search preferences",img:r.default.createElement("img",{className:"img-responsive",alt:"search-sandbox",src:"../../../assets/images/"+o.config.name+"/sidebar/sandbox.svg"})},{label:"Analytics",link:o.contextPath+"analytics/",type:"internal",name:"analytics",tooltip:"View app analytics",img:r.default.createElement("img",{className:"img-responsive",alt:"analytics",src:"../../../assets/images/"+o.config.name+"/sidebar/dashboard.svg"})},{label:"Credentials",link:o.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:r.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+o.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:o.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:r.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+o.config.name+"/sidebar/team.svg"})}],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"links":n=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,n){var o=(0,i.default)({active:t.props.currentView===e.name}),l=r.default.createElement("div",{className:"img-container"},e.img),c=r.default.createElement(a.Link,{className:o,to:e.link+t.state.activeApp},l,r.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return r.default.createElement(s.default,{overlay:r.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(n+1)},r.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(n+1)},c))})}return n},t.prototype.render=function(){var e=this;return r.default.createElement("aside",{className:"ad-detail-sidebar"},r.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(o.Component);t.default=d},434:function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(0)),r=n(1),a=c(r),i=c(n(433)),s=c(n(91)),l=n(16);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){return a.default.createElement("div",{className:"page404"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col s12"},a.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col s12"},"Go to"," ",a.default.createElement("a",{href:"/apps"},"/apps",a.default.createElement("i",{className:"fa fa-cursor"})))))},u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={showChild:!1},o.selectedApp=o.props.pageInfo.appName,o.config=s.default,o.getAllApps(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var n=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!n||!n.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=a.default.Children.map(this.props.children,function(e){return a.default.cloneElement(e,{})});return a.default.createElement("div",{className:"ad-detail row"},a.default.createElement(i.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),a.default.createElement("div",{className:"ad-detail-view-container"},a.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?a.default.createElement(p,null):null)))},t}(r.Component);t.default=u,u.propTypes={pageInfo:o.default.shape({currentView:o.default.string.isRequired,appName:o.default.string.isRequired,appId:o.default.oneOfType([o.default.number.isRequired,o.default.string.isRequired])})},u.defaultProps={}},438:function(e,t,n){"use strict";t.a={items_per_page:"/ page",jump_to:"Goto",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"}},439:function(e,t,n){"use strict";var o=n(578),r=n.n(o),a={};t.a=function(e,t){e||a[t]||(r()(!1,t),a[t]=!0)}},462:function(e,t,n){"use strict";n.r(t);var o=n(8),r=n.n(o),a=n(4),i=n.n(a),s=n(12),l=n.n(s),c=n(3),p=n.n(c),u=n(5),d=n.n(u),f=n(1),m=n(6),h=n(378),y=n(45),g=n(40),b=function(e){function t(){return i()(this,t),p()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.shouldComponentUpdate=function(e){return!!e.hiddenClassName||!!e.visible},t.prototype.render=function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=r()({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,f.createElement("div",r()({},t))},t}(f.Component),v=void 0;var w=0,x=0;function C(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],o="scroll"+(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}function k(e,t){var n=e.style;["Webkit","Moz","Ms","ms"].forEach(function(e){n[e+"TransformOrigin"]=t}),n.transformOrigin=t}var S=function(e){function t(){i()(this,t);var n=p()(this,e.apply(this,arguments));return n.onAnimateLeave=function(){var e=n.props.afterClose;n.wrap&&(n.wrap.style.display="none"),n.inTransition=!1,n.removeScrollingEffect(),e&&e()},n.onMaskClick=function(e){Date.now()-n.openTime<300||e.target===e.currentTarget&&n.close(e)},n.onKeyDown=function(e){var t=n.props;if(t.keyboard&&e.keyCode===h.a.ESC&&n.close(e),t.visible&&e.keyCode===h.a.TAB){var o=document.activeElement,r=n.wrap;e.shiftKey?o===r&&n.sentinel.focus():o===n.sentinel&&r.focus()}},n.getDialogElement=function(){var e=n.props,t=e.closable,o=e.prefixCls,a={};void 0!==e.width&&(a.width=e.width),void 0!==e.height&&(a.height=e.height);var i=void 0;e.footer&&(i=f.createElement("div",{className:o+"-footer",ref:n.saveRef("footer")},e.footer));var s=void 0;e.title&&(s=f.createElement("div",{className:o+"-header",ref:n.saveRef("header")},f.createElement("div",{className:o+"-title",id:n.titleId},e.title)));var l=void 0;t&&(l=f.createElement("button",{onClick:n.close,"aria-label":"Close",className:o+"-close"},f.createElement("span",{className:o+"-close-x"})));var c=r()({},e.style,a),p=n.getTransitionName(),u=f.createElement(b,{key:"dialog-element",role:"document",ref:n.saveRef("dialog"),style:c,className:o+" "+(e.className||""),visible:e.visible},f.createElement("div",{className:o+"-content"},l,s,f.createElement("div",r()({className:o+"-body",style:e.bodyStyle,ref:n.saveRef("body")},e.bodyProps),e.children),i),f.createElement("div",{tabIndex:0,ref:n.saveRef("sentinel"),style:{width:0,height:0,overflow:"hidden"}},"sentinel"));return f.createElement(g.a,{key:"dialog",showProp:"visible",onLeave:n.onAnimateLeave,transitionName:p,component:"",transitionAppear:!0},e.visible||!e.destroyOnClose?u:null)},n.getZIndexStyle=function(){var e={},t=n.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},n.getWrapStyle=function(){return r()({},n.getZIndexStyle(),n.props.wrapStyle)},n.getMaskStyle=function(){return r()({},n.getZIndexStyle(),n.props.maskStyle)},n.getMaskElement=function(){var e=n.props,t=void 0;if(e.mask){var o=n.getMaskTransitionName();t=f.createElement(b,r()({style:n.getMaskStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible},e.maskProps)),o&&(t=f.createElement(g.a,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:o},t))}return t},n.getMaskTransitionName=function(){var e=n.props,t=e.maskTransitionName,o=e.maskAnimation;return!t&&o&&(t=e.prefixCls+"-"+o),t},n.getTransitionName=function(){var e=n.props,t=e.transitionName,o=e.animation;return!t&&o&&(t=e.prefixCls+"-"+o),t},n.setScrollbar=function(){n.bodyIsOverflowing&&void 0!==n.scrollbarWidth&&(document.body.style.paddingRight=n.scrollbarWidth+"px")},n.addScrollingEffect=function(){1===++x&&(n.checkScrollbar(),n.setScrollbar(),document.body.style.overflow="hidden")},n.removeScrollingEffect=function(){0===--x&&(document.body.style.overflow="",n.resetScrollbar())},n.close=function(e){var t=n.props.onClose;t&&t(e)},n.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}n.bodyIsOverflowing=document.body.clientWidth<e,n.bodyIsOverflowing&&(n.scrollbarWidth=function(e){if(e||void 0===v){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),o=n.style;o.position="absolute",o.top=0,o.left=0,o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;r===a&&(a=n.clientWidth),document.body.removeChild(n),v=r-a}return v}())},n.resetScrollbar=function(){document.body.style.paddingRight=""},n.adjustDialog=function(){if(n.wrap&&void 0!==n.scrollbarWidth){var e=n.wrap.scrollHeight>document.documentElement.clientHeight;n.wrap.style.paddingLeft=(!n.bodyIsOverflowing&&e?n.scrollbarWidth:"")+"px",n.wrap.style.paddingRight=(n.bodyIsOverflowing&&!e?n.scrollbarWidth:"")+"px"}},n.resetAdjustments=function(){n.wrap&&(n.wrap.style.paddingLeft=n.wrap.style.paddingLeft="")},n.saveRef=function(e){return function(t){n[e]=t}},n}return d()(t,e),t.prototype.componentWillMount=function(){this.inTransition=!1,this.titleId="rcDialogTitle"+w++},t.prototype.componentDidMount=function(){this.componentDidUpdate({})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=this.props.mousePosition;if(t.visible){if(!e.visible){this.openTime=Date.now(),this.addScrollingEffect(),this.tryFocus();var o=m.findDOMNode(this.dialog);if(n){var r=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow;return n.left+=C(r),n.top+=C(r,!0),n}(o);k(o,n.x-r.left+"px "+(n.y-r.top)+"px")}else k(o,"")}}else if(e.visible&&(this.inTransition=!0,t.mask&&this.lastOutSideFocusNode)){try{this.lastOutSideFocusNode.focus()}catch(e){this.lastOutSideFocusNode=null}this.lastOutSideFocusNode=null}},t.prototype.componentWillUnmount=function(){(this.props.visible||this.inTransition)&&this.removeScrollingEffect()},t.prototype.tryFocus=function(){Object(y.a)(this.wrap,document.activeElement)||(this.lastOutSideFocusNode=document.activeElement,this.wrap.focus())},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.maskClosable,o=this.getWrapStyle();return e.visible&&(o.display=null),f.createElement("div",null,this.getMaskElement(),f.createElement("div",r()({tabIndex:-1,onKeyDown:this.onKeyDown,className:t+"-wrap "+(e.wrapClassName||""),ref:this.saveRef("wrap"),onClick:n?this.onMaskClick:void 0,role:"dialog","aria-labelledby":e.title?this.titleId:null,style:o},e.wrapProps),this.getDialogElement()))},t}(f.Component),E=S;S.defaultProps={className:"",mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog"};var _=n(98),P=n(97),O="createPortal"in m,N=function(e){function t(){i()(this,t);var n=p()(this,e.apply(this,arguments));return n.saveDialog=function(e){n._component=e},n.getComponent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.createElement(E,r()({ref:n.saveDialog},n.props,e,{key:"dialog"}))},n.getContainer=function(){var e=document.createElement("div");return n.props.getContainer?n.props.getContainer().appendChild(e):document.body.appendChild(e),e},n}return d()(t,e),t.prototype.shouldComponentUpdate=function(e){var t=e.visible;return!(!this.props.visible&&!t)},t.prototype.componentWillUnmount=function(){O||(this.props.visible?this.renderComponent({afterClose:this.removeContainer,onClose:function(){},visible:!1}):this.removeContainer())},t.prototype.render=function(){var e=this,t=this.props.visible,n=null;return O?((t||this._component)&&(n=f.createElement(P.a,{getContainer:this.getContainer},this.getComponent())),n):f.createElement(_.a,{parent:this,visible:t,autoDestroy:!1,getComponent:this.getComponent,getContainer:this.getContainer},function(t){var n=t.renderComponent,o=t.removeContainer;return e.renderComponent=n,e.removeContainer=o,null})},t}(f.Component);N.defaultProps={visible:!1};var T=N,A=n(0),j=n.n(A),I=n(17),M=n(379),F=n(395),L=n(400),D=r()({},L.a.Modal);function R(){return D}var z=void 0,B=void 0,W=function(e){function t(){i()(this,t);var e=p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleCancel=function(t){var n=e.props.onCancel;n&&n(t)},e.handleOk=function(t){var n=e.props.onOk;n&&n(t)},e.renderFooter=function(t){var n=e.props,o=n.okText,a=n.okType,i=n.cancelText,s=n.confirmLoading;return f.createElement("div",null,f.createElement(M.default,r()({onClick:e.handleCancel},e.props.cancelButtonProps),i||t.cancelText),f.createElement(M.default,r()({type:a,loading:s,onClick:e.handleOk},e.props.okButtonProps),o||t.okText))},e}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){B||(Object(I.a)(document.documentElement,"click",function(e){z={x:e.pageX,y:e.pageY},setTimeout(function(){return z=null},100)}),B=!0)}},{key:"render",value:function(){var e=this.props,t=e.footer,n=e.visible,o=f.createElement(F.a,{componentName:"Modal",defaultLocale:R()},this.renderFooter);return f.createElement(T,r()({},this.props,{footer:void 0===t?o:t,visible:n,mousePosition:z,onClose:this.handleCancel}))}}]),t}(f.Component),U=W;W.defaultProps={prefixCls:"ant-modal",width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary",okButtonDisabled:!1,cancelButtonDisabled:!1},W.propTypes={prefixCls:j.a.string,onOk:j.a.func,onCancel:j.a.func,okText:j.a.node,cancelText:j.a.node,width:j.a.oneOfType([j.a.number,j.a.string]),confirmLoading:j.a.bool,visible:j.a.bool,align:j.a.object,footer:j.a.node,title:j.a.node,closable:j.a.bool};var Y=n(37),V=n.n(Y),q=n(363),H=function(e){function t(e){i()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){var e=n.props,t=e.actionFn,o=e.closeModal;if(t){var r=void 0;t.length?r=t(o):(r=t())||o(),r&&r.then&&(n.setState({loading:!0}),r.then(function(){o.apply(void 0,arguments)},function(){n.setState({loading:!1})}))}else o()},n.state={loading:!1},n}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){if(this.props.autoFocus){var e=m.findDOMNode(this);this.timeoutId=setTimeout(function(){return e.focus()})}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.children,o=this.state.loading;return f.createElement(M.default,{type:t,onClick:this.onClick,loading:o},n)}}]),t}(f.Component),$=!!m.createPortal,G=function(e){var t=e.onCancel,n=e.onOk,o=e.close,r=e.zIndex,a=e.afterClose,i=e.visible,s=e.keyboard,l=e.iconType||"question-circle",c=e.okType||"primary",p=e.prefixCls||"ant-confirm",u=!("okCancel"in e)||e.okCancel,d=e.width||416,m=e.style||{},h=void 0!==e.maskClosable&&e.maskClosable,y=R(),g=e.okText||(u?y.okText:y.justOkText),b=e.cancelText||y.cancelText,v=V()(p,p+"-"+e.type,e.className),w=u&&f.createElement(H,{actionFn:t,closeModal:o},b);return f.createElement(U,{className:v,onCancel:o.bind(void 0,{triggerCancel:!0}),visible:i,title:"",transitionName:"zoom",footer:"",maskTransitionName:"fade",maskClosable:h,style:m,width:d,zIndex:r,afterClose:a,keyboard:s},f.createElement("div",{className:p+"-body-wrapper"},f.createElement("div",{className:p+"-body"},f.createElement(q.default,{type:l}),f.createElement("span",{className:p+"-title"},e.title),f.createElement("div",{className:p+"-content"},e.content)),f.createElement("div",{className:p+"-btns"},w,f.createElement(H,{type:c,actionFn:n,closeModal:o,autoFocus:!0},g))))};function J(e){var t=document.createElement("div");function n(){for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];$?a(r()({},e,{close:n,visible:!1,afterClose:o.bind.apply(o,[this].concat(i))})):o.apply(void 0,i)}function o(){m.unmountComponentAtNode(t)&&t.parentNode&&t.parentNode.removeChild(t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=o&&o.length&&o.some(function(e){return e&&e.triggerCancel});e.onCancel&&a&&e.onCancel.apply(e,o)}function a(e){m.render(f.createElement(G,e),t)}return document.body.appendChild(t),a(r()({},e,{visible:!0,close:n})),{destroy:n}}U.info=function(e){return J(r()({type:"info",iconType:"info-circle",okCancel:!1},e))},U.success=function(e){return J(r()({type:"success",iconType:"check-circle",okCancel:!1},e))},U.error=function(e){return J(r()({type:"error",iconType:"cross-circle",okCancel:!1},e))},U.warning=U.warn=function(e){return J(r()({type:"warning",iconType:"exclamation-circle",okCancel:!1},e))},U.confirm=function(e){return J(r()({type:"confirm",okCancel:!0},e))};t.default=U},463:function(e,t,n){"use strict";n.r(t);n(354),n(492),n(409)},466:function(e,t,n){(function(t){for(var o=n(577),r="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=r["request"+i],l=r["cancel"+i]||r["cancelRequest"+i],c=0;!s&&c<a.length;c++)s=r[a[c]+"Request"+i],l=r[a[c]+"Cancel"+i]||r[a[c]+"CancelRequest"+i];if(!s||!l){var p=0,u=0,d=[];s=function(e){if(0===d.length){var t=o(),n=Math.max(0,1e3/60-(t-p));p=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(p)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,n(90))},491:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,'/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n.ant-modal {\n  font-family: "Monospaced Number", "Chinese Quote", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.65);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: relative;\n  width: auto;\n  margin: 0 auto;\n  top: 100px;\n  padding-bottom: 24px;\n}\n.ant-modal-wrap {\n  position: fixed;\n  overflow: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  -webkit-overflow-scrolling: touch;\n  outline: 0;\n}\n.ant-modal-title {\n  margin: 0;\n  font-size: 16px;\n  line-height: 22px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.85);\n}\n.ant-modal-content {\n  position: relative;\n  background-color: #fff;\n  border: 0;\n  border-radius: 4px;\n  background-clip: padding-box;\n  -webkit-box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n.ant-modal-close {\n  cursor: pointer;\n  border: 0;\n  background: transparent;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 10;\n  font-weight: 700;\n  line-height: 1;\n  text-decoration: none;\n  -webkit-transition: color .3s;\n  transition: color .3s;\n  color: rgba(0, 0, 0, 0.45);\n  outline: 0;\n  padding: 0;\n}\n.ant-modal-close-x {\n  display: block;\n  font-style: normal;\n  vertical-align: baseline;\n  text-align: center;\n  text-transform: none;\n  text-rendering: auto;\n  width: 56px;\n  height: 56px;\n  line-height: 56px;\n  font-size: 16px;\n}\n.ant-modal-close-x:before {\n  content: "\\E633";\n  display: block;\n  font-family: "anticon" !important;\n}\n.ant-modal-close:focus,\n.ant-modal-close:hover {\n  color: #444;\n  text-decoration: none;\n}\n.ant-modal-header {\n  padding: 16px 24px;\n  border-radius: 4px 4px 0 0;\n  background: #fff;\n  color: rgba(0, 0, 0, 0.65);\n  border-bottom: 1px solid #e8e8e8;\n}\n.ant-modal-body {\n  padding: 24px;\n  font-size: 14px;\n  line-height: 1.5;\n  word-wrap: break-word;\n}\n.ant-modal-footer {\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  border-radius: 0 0 4px 4px;\n}\n.ant-modal-footer button + button {\n  margin-left: 8px;\n  margin-bottom: 0;\n}\n.ant-modal.zoom-enter,\n.ant-modal.zoom-appear {\n  -webkit-animation-duration: 0.3s;\n          animation-duration: 0.3s;\n  -webkit-transform: none;\n      -ms-transform: none;\n          transform: none;\n  opacity: 0;\n}\n.ant-modal-mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.65);\n  height: 100%;\n  z-index: 1000;\n  filter: alpha(opacity=50);\n}\n.ant-modal-mask-hidden {\n  display: none;\n}\n.ant-modal-open {\n  overflow: hidden;\n}\n@media (max-width: 767px) {\n  .ant-modal {\n    width: auto !important;\n    margin: 10px;\n  }\n  .vertical-center-modal .ant-modal {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n  }\n}\n.ant-confirm .ant-modal-header {\n  display: none;\n}\n.ant-confirm .ant-modal-close {\n  display: none;\n}\n.ant-confirm .ant-modal-body {\n  padding: 32px 32px 24px;\n}\n.ant-confirm-body-wrapper {\n  zoom: 1;\n}\n.ant-confirm-body-wrapper:before,\n.ant-confirm-body-wrapper:after {\n  content: "";\n  display: table;\n}\n.ant-confirm-body-wrapper:after {\n  clear: both;\n}\n.ant-confirm-body .ant-confirm-title {\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 22px;\n  display: block;\n  overflow: auto;\n}\n.ant-confirm-body .ant-confirm-content {\n  margin-left: 38px;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.65);\n  margin-top: 8px;\n}\n.ant-confirm-body > .anticon {\n  font-size: 22px;\n  margin-right: 16px;\n  float: left;\n}\n.ant-confirm .ant-confirm-btns {\n  margin-top: 24px;\n  float: right;\n}\n.ant-confirm .ant-confirm-btns button + button {\n  margin-left: 8px;\n  margin-bottom: 0;\n}\n.ant-confirm-error .ant-confirm-body > .anticon {\n  color: #f5222d;\n}\n.ant-confirm-warning .ant-confirm-body > .anticon,\n.ant-confirm-confirm .ant-confirm-body > .anticon {\n  color: #faad14;\n}\n.ant-confirm-info .ant-confirm-body > .anticon {\n  color: #1890ff;\n}\n.ant-confirm-success .ant-confirm-body > .anticon {\n  color: #52c41a;\n}\n',""])},492:function(e,t,n){var o=n(491);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(60)(o,r);o.locals&&(e.exports=o.locals)},577:function(e,t,n){(function(t){(function(){var n,o,r,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},o=t.hrtime,a=(n=function(){var e;return 1e9*(e=o())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n(396))},593:function(e,t,n){"use strict";t.__esModule=!0,t.default={aggs:{fields:{keyword:{type:"keyword"}},analyzer:"standard",search_analyzer:"standard"},search:{fields:{search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},searchaggs:{fields:{keyword:{type:"keyword",index:"not_analyzed"},search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},none:{}}},594:function(e,t,n){"use strict";t.__esModule=!0,t.REMOVED_KEYS=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.getMappings=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(o,a){fetch(n+"/"+e+"/_mapping",{method:"GET",headers:r({},u(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(t){var n=Object.keys(t[e].mappings).filter(function(e){return!p.includes(e)}),a={};n.forEach(function(n){var o;a=r({},a,((o={})[n]=t[e].mappings[n],o))}),o(a)}).catch(function(e){a(e)})})},t.getSettings=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(o,a){fetch(n+"/"+e+"/_settings",{method:"GET",headers:r({},u(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(e){o(e)}).catch(function(e){a(e)})})},t.closeIndex=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(o,a){fetch(n+"/"+e+"/_close",{method:"POST",headers:r({},u(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(e){o(e)}).catch(function(e){a(e)})})},t.updateSynonyms=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API,o=arguments[3];return new Promise(function(a,i){fetch(n+"/"+e+"/_settings",{method:"PUT",headers:r({},u(t),{"Content-Type":"application/json"}),body:JSON.stringify({analysis:{filter:{synonyms_filter:{type:"synonym",synonyms:o}},analyzer:{search_analyzer:{tokenizer:"standard",filter:["lowercase","synonyms_filter"]}}}})}).then(function(e){return e.json()}).then(function(e){a(e)}).catch(function(e){i(e)})})},t.openIndex=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(o,a){fetch(n+"/"+e+"/_open",{method:"POST",headers:r({},u(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(e){o(e)}).catch(function(e){a(e)})})},t.reIndex=function(e,t,n){var o={mappings:e,settings:i.default,exclude_fields:n,es_version:"5"};return new Promise(function(e,n){fetch(s.ACC_API+"/app/"+t+"/reindex",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(t){t.error&&n(t.error),t.body&&t.body.response_info.failures.length&&n(t.body.response_info.failures),"App has been successfully reindexed."!==t.message&&n(t.message),e(t.body.response_info.took)}).catch(function(e){n(e)})})},t.hasAggs=d,t.transformToES5=function e(t){var n=r({},t);Object.keys(n).every(function(t){if(c.includes(t))return!1;if("string"===n[t].type){var i,s=!!n[t].fields,l=r({},n[t]);s&&(n[t].fields.search?l=a.default.search:d(n[t].field)&&(l=a.default.aggs)),n=r({},n,((i={})[t]=r({},l,{type:"text"}),i))}else if("object"===o(n[t])&&!Array.isArray(n[t])){var p;n=r({},n,((p={})[t]=r({},n[t],e(n[t])),p))}return!0});return n},t.updateMapping=function e(t,n,i,s){var l=r({},t);Object.keys(l).every(function(t){if(c.includes(t))return!1;if(t===n){var p,u={};s&&(u=a.default[s]),l=r({},l,((p={})[t]=r({},u,{type:i}),p))}else if("object"===o(l[t])&&!Array.isArray(l[t])){var d;l=r({},l,((d={})[t]=r({},l[t],e(l[t],n,i,s)),d))}return!0});return l},t.traverseMapping=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(e).forEach(function(o){return function(e,o){n[o]=[],function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.properties&&Object.keys(r.properties).forEach(function(i){t||n[o].push(""+a+i);var s=r.properties[i];s&&s.properties?e(s,""+a+i+"."):t&&n[o].push(""+a+i)})}(e)}(e[o],o)}),n},t.getMappingsTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){e[n].properties&&(t=r({},t,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o={};return Object.keys(t).forEach(function(a){if(t[a].properties)o=r({},o,e(t[a].properties,a));else{var i,s=t[a].fields;o=r({},o,((i={})[(n?n+".":"")+a]={type:t[a].type,fields:t[a].fields?Object.keys(t[a].fields):[],originalFields:s||{}},i))}}),o}(e[n].properties,null)))}),t};var a=l(n(593)),i=l(n(698)),s=n(406);function l(e){return e&&e.__esModule?e:{default:e}}var c=["meta"],p=t.REMOVED_KEYS=["~logs","~percolator",".logs",".percolator","_default_"];function u(e){return e?{Authorization:"Basic "+btoa(e)}:{}}function d(e){if(!e)return!1;var t=!1;return Object.keys(e).forEach(function(n){("keyword"===e[n].type||"string"===e[n].type&&"not_analyzed"===e[n].index)&&(t=!0)}),t}},606:function(e,t,n){"use strict";t.__esModule=!0,t.default={dataField:{label:"Data Field",description:"Select the field for which you want to generate this filter for.",types:["keyword","integer","float","double","date"],input:"dropdown",multiple:!1},title:{label:"Title",description:"",input:"string"},size:{label:"Size",description:"Total number of list items to fetch.",input:"number",default:100},sortBy:{label:"Sort By",description:"Sort the results by either Count, Ascending or Descending order.",input:"dropdown",options:[{label:"Count",key:"count"},{label:"Ascending",key:"asc"},{label:"Descending",key:"desc"}],default:"count"},showSearch:{label:"Show Search",description:"Show a search bar to filter list items.",input:"bool",default:!0},showCount:{label:"Show Count",description:"Show a frequency count next to each list item.",input:"bool",default:!0},showCheckbox:{label:"Show Checkbox",description:"Show a checkbox icon next to each list item.",input:"bool",default:!0},queryFormat:{label:"Match All or Any",description:"When multiple values are selected, enable either match All values or match Any values.",input:"dropdown",options:[{label:"Any",key:"or"},{label:"All",key:"and"}],default:"or"}}},698:function(e,t,n){"use strict";t.__esModule=!0,t.default={analysis:{analyzer:{autosuggest_analyzer:{filter:["lowercase","asciifolding","autosuggest_filter"],tokenizer:"standard",type:"custom"},ngram_analyzer:{filter:["lowercase","asciifolding","ngram_filter"],tokenizer:"standard",type:"custom"}},filter:{autosuggest_filter:{max_gram:"20",min_gram:"1",token_chars:["letter","digit","punctuation","symbol"],type:"edge_ngram"},ngram_filter:{max_gram:"9",min_gram:"2",token_chars:["letter","digit","punctuation","symbol"],type:"ngram"}}}}},732:function(e,t,n){"use strict";t.__esModule=!0,t.default={dataField:{label:"Sort Field",description:"Select the field you want to sort results by.",types:["text","string","long","integer","short","byte","double","float","half_float","scaled_float","date","boolean"],input:"dropdown",multiple:!1},sortBy:{label:"Sort Order",description:"Sort the results by one of Best Match, Ascending or Descending order.",input:"dropdown",options:[{label:"Best Match",key:"_score"},{label:"Ascending",key:"asc"},{label:"Descending",key:"desc"}],default:"_score"},size:{label:"Size",description:"Total number of results to fetch (maximum value is 1000).",input:"number",default:10},pagination:{label:"Show Pages",description:"Enable pagination within the results. If set to false, it creates an infinite scroll view.",input:"bool",default:!0},stream:{label:"Stream",description:"Enable streaming of live result updates.",input:"bool",default:!1},includeFields:{label:"Include Fields",description:"Select which fields should be included in the results (aka whitelisting).",input:"multiDropdown",options:[],default:["*"]},excludeFields:{label:"Exclude Fields",description:"Select which fields should be excluded from the results.",input:"multiDropdown",options:[],default:[]},showResultStats:{label:"Show Result Stats",description:"Enable displaying result stats (time taken and total results).",input:"bool",default:!0},loader:{label:"Loading Message",description:"Add an optional message to show while results are loading.",input:"string",default:""}}},733:function(e,t,n){"use strict";t.__esModule=!0,t.default={dataField:{label:"Data Field",description:"Select the fields (and their weights) to perform search on.",types:["text","keyword","string"],input:"dropdown",multiple:!0},title:{label:"Title",description:"",input:"string"},placeholder:{label:"Placeholder",description:"",input:"string"},highlight:{label:"Highlight Results",description:"Enable highlighting within results.",input:"bool",default:!1},autosuggest:{label:"Auto Suggest",description:"Enable auto suggestions as you type.",input:"bool",default:!1},size:{label:"Size",description:"Total number of suggestions to fetch (applicable if autosuggest is enabled).",input:"number",default:10},fuzziness:{label:"Typo Tolerance",description:"Set the typo tolerance level of the search query. 0 implies no typos, 1 implies 1 character typo is tolerated and so on.",input:"number",default:0},queryFormat:{label:"Match All or Any",description:"When multiple search terms are present, should All be matched or should Any term be matched.",input:"dropdown",options:[{label:"Or",key:"or"},{label:"And",key:"and"}],default:"Or"}}},734:function(e,t,n){"use strict";t.__esModule=!0,t.generateFieldWeights=t.generateDataField=void 0;var o=i(n(733)),r=i(n(606)),a=i(n(732));function i(e){return e&&e.__esModule?e:{default:e}}var s={DataSearch:o.default,MultiList:r.default,ReactiveList:a.default},l=function(e,t,n){return e[t]&&e[t].fields&&e[t].fields.length?[].concat(e[t].fields.filter(function(o){return n.includes(e[t].originalFields[o].type)}).map(function(e){return t+"."+e})):[t]};t.generateDataField=function(e,t,n){if("ReactiveList"===e){if(n[t].fields.length>0){var o=function(e){return Object.keys(e).find(function(t){return"keyword"===e[t].type||"not_analyzed"===e[t].index&&"string"===e[t].type})}(n[t].originalFields);return t+(o?"."+o:"")}return t}var r=s[e].dataField,a=r.types;if(r.multiple){var i=[];return t.forEach(function(e){i=[e].concat(i,l(n,e,a))}),i}var c=l(n,t,a);return c?c[0]:null},t.generateFieldWeights=function(e,t,n){var o=[];return e.forEach(function(e,r){o=[].concat(o,[parseInt(t[r],10)],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e[t]&&e[t].fields&&e[t].fields.length?[].concat(e[t].fields.map(function(e){var t=1;return"keyword"===e&&(t=n),parseInt(t,10)})):[]}(n,e,t[r]))}),o}},751:function(e,t,n){"use strict";var o=n(1),r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(o),a=function(e,t){return 0===e?"":new Array(e*t).fill(" ").join("")},i=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)};function s(e){return!0===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}var l=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)})}});!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(l);var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=l.default,u=function(e,t,n){var o=[];return function e(t,n,r){(n=n||{}).indent=n.indent||"\t",r=r||"";var a=void 0;a=void 0===n.inlineCharacterLimit?{newLine:"\n",newLineOrSpace:"\n",pad:r,indent:r+n.indent}:{newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};var i=function(e){if(void 0===n.inlineCharacterLimit)return e;var t=e.replace(new RegExp(a.newLine,"g"),"").replace(new RegExp(a.newLineOrSpace,"g")," ").replace(new RegExp(a.pad+"|"+a.indent,"g"),"");return t.length<=n.inlineCharacterLimit?t:e.replace(new RegExp(a.newLine+"|"+a.newLineOrSpace,"g"),"\n").replace(new RegExp(a.pad,"g"),r).replace(new RegExp(a.indent,"g"),r+n.indent)};if(-1!==o.indexOf(t))return'"[Circular]"';if(null===t||void 0===t||"number"==typeof t||"boolean"==typeof t||"function"==typeof t||"symbol"===(void 0===t?"undefined":c(t))||function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(t))return String(t);if(t instanceof Date)return"new Date('"+t.toISOString()+"')";if(Array.isArray(t)){if(0===t.length)return"[]";o.push(t);var s="["+a.newLine+t.map(function(o,i){var s=t.length-1===i?a.newLine:","+a.newLineOrSpace,l=e(o,n,r+n.indent);return n.transform&&(l=n.transform(t,i,l)),a.indent+l+s}).join("")+a.pad+"]";return o.pop(t),i(s)}if(function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var l=Object.keys(t).concat(p(t));if(n.filter&&(l=l.filter(function(e){return n.filter(t,e)})),0===l.length)return"{}";o.push(t);var u="{"+a.newLine+l.map(function(o,i){var s=l.length-1===i?a.newLine:","+a.newLineOrSpace,p="symbol"===(void 0===o?"undefined":c(o)),u=!p&&/^[a-z$_][a-z$_0-9]*$/i.test(o),d=p||u?o:e(o,n),f=e(t[o],n,r+n.indent);return n.transform&&(f=n.transform(t,o,f)),a.indent+String(d)+": "+f+s}).join("")+a.pad+"}";return o.pop(t),i(u)}return t=String(t).replace(/[\r\n]/g,function(e){return"\n"===e?"\\n":"\\r"}),!1===n.singleQuotes?'"'+(t=t.replace(/"/g,'\\"'))+'"':"'"+(t=t.replace(/\\?'/g,"\\'"))+"'"}(e,t,n)},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function f(e){return null===e||"object"!==(void 0===e?"undefined":d(e))?e:e instanceof Date||e instanceof RegExp?e:Array.isArray(e)?e.map(f):Object.keys(e).sort().reduce(function(t,n){return t[n]=f(e[n]),t},{})}var m=function(e){return{type:"string",value:e}},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=Boolean(o.Fragment),g=function(e){return e.type.displayName||e.type.name||("function"==typeof e.type?"No Display Name":e.type)},b=function(e,t){return"children"!==t},v=function(e){return!0!==e&&!1!==e&&null!==e&&""!==e},w=function(e,t){var n={};return Object.keys(e).filter(function(n){return t(e[n],n)}).forEach(function(t){return n[t]=e[t]}),n},x=function e(t,n){var a=n.displayName,i=void 0===a?g:a;if("string"==typeof t)return m(t);if("number"==typeof t)return function(e){return{type:"number",value:e}}(t);if(!r.isValidElement(t))throw new Error("react-element-to-jsx-string: Expected a React.Element, got `"+(void 0===t?"undefined":h(t))+"`");var s=i(t),l=w(t.props,b);null!==t.ref&&(l.ref=t.ref);var c=t.key;"string"==typeof c&&c.search(/^\./)&&(l.key=c);var p=w(t.type.defaultProps||{},b),u=r.Children.toArray(t.props.children).filter(v).map(function(t){return e(t,n)});return y&&t.type===o.Fragment?function(e,t){return{type:"ReactFragment",key:e,childrens:t}}(c,u):function(e,t,n,o){return{type:"ReactElement",displayName:e,props:t,defaultProps:n,childrens:o}}(s,l,p,u)};function C(){}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(){},E=function(e){return e},_=function(e,t,n,r){if("number"==typeof e)return"{"+String(e)+"}";if("string"==typeof e)return'"'+function(e){return e.replace(/"/g,"&quot;")}(e)+'"';if("symbol"===(void 0===e?"undefined":k(e))){var i=e.valueOf().toString().replace(/Symbol\((.*)\)/,"$1");return i?"{Symbol('"+i+"')}":"{Symbol()}"}if("function"==typeof e){var l=r.functionValue,c=void 0===l?E:l;return r.showFunctions||c!==E?"{"+c(e)+"}":"{"+c(S)+"}"}return o.isValidElement(e)?"{"+M(x(e,r),!0,n,r)+"}":e instanceof Date?'{new Date("'+e.toISOString()+'")}':function(e){var t,n;return!1!==s(e)&&"function"==typeof(t=e.constructor)&&!1!==s(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}(e)||Array.isArray(e)?"{"+function(e,t,n,r){var i=f(e),s=u(i,{transform:function(e,t,a){var i=e[t];return i&&o.isValidElement(i)?M(x(i,r),!0,n,r):"function"==typeof i?C:a}});return t?s.replace(/\s+/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\[ /g,"[").replace(/ ]/g,"]"):s.replace(/\t/g,a(1,r.tabStop)).replace(/\n([^$])/g,"\n"+a(n+1,r.tabStop)+"$1")}(e,t,n,r)+"}":"{"+String(e)+"}"},P=function(e,t){var n=e.slice(0,e.length>0?e.length-1:0),o=e[e.length-1];return!o||"string"!==t.type&&"number"!==t.type||"string"!==o.type&&"number"!==o.type?(o&&n.push(o),n.push(t)):n.push(m(String(o.value)+String(t.value))),n},O=function(e,t,n){return function(o){return function(e,t,n,o,r){var i=r.tabStop;return"string"===e.type?t.split("\n").map(function(e,t){return 0===t?e:""+a(o,i)+e}).join("\n"):t}(o,M(o,e,t,n),0,t,n)}},N=function(e,t,n,o,r){return r?a(n,o).length+t.length>r:e.length>1},T=function(e,t,n,o){var r=e.type,i=e.displayName,s=void 0===i?"":i,l=e.childrens,c=e.props,p=void 0===c?{}:c,u=e.defaultProps,d=void 0===u?{}:u;if("ReactElement"!==r)throw new Error('The "formatReactElementNode" function could only format node of type "ReactElement". Given:  '+r);var f=o.filterProps,m=o.maxInlineAttributesLineLength,h=o.showDefaultProps,y=o.sortProps,g=o.tabStop,b="<"+s,v=b,w=b,x=!1,C=[];Object.keys(p).filter(function(e){return-1===f.indexOf(e)}).filter(function(e,t){return function(n){var o=Object.keys(e).includes(n);return!o||o&&e[n]!==t[n]}}(d,p)).forEach(function(e){return C.push(e)}),Object.keys(d).filter(function(e){return-1===f.indexOf(e)}).filter(function(){return h}).filter(function(e){return!C.includes(e)}).forEach(function(e){return C.push(e)});var k=C.sort(function(e){return function(t,n){return t===n?0:["key","ref"].includes(t)?-1:["key","ref"].includes(n)?1:e?t<n?-1:1:0}}(y));if(k.forEach(function(e){var r=function(e,t,n,o,r,i,s,l){if(!t&&!o)throw new Error('The prop "'+e+'" has no value and no default: could not be formatted');var c=t?n:r,p=l.useBooleanShorthandSyntax,u=l.tabStop,d=_(c,i,s,l),f=" ",m="\n"+a(s+1,u),h=d.includes("\n");return p&&"{false}"===d&&!o?(f="",m=""):p&&"{true}"===d?(f+=""+e,m+=""+e):(f+=e+"="+d,m+=e+"="+d),{attributeFormattedInline:f,attributeFormattedMultiline:m,isMultilineAttribute:h}}(e,Object.keys(p).includes(e),p[e],Object.keys(d).includes(e),d[e],t,n,o),i=r.attributeFormattedInline,s=r.attributeFormattedMultiline;r.isMultilineAttribute&&(x=!0),v+=i,w+=s}),w+="\n"+a(n,g),b=function(e,t,n,o,r,a,i){return(N(e,t,r,a,i)||n)&&!o}(k,v,x,t,n,g,m)?w:v,l&&l.length>0){var S=n+1;b+=">",t||(b+="\n",b+=a(S,g)),b+=l.reduce(P,[]).map(O(t,S,o)).join(t?"":"\n"+a(S,g)),t||(b+="\n",b+=a(S-1,g)),b+="</"+s+">"}else N(k,v,n,g,m)||(b+=" "),b+="/>";return b},A=function(e,t,n,o){var r=e.type,a=e.key,i=e.childrens;if("ReactFragment"!==r)throw new Error('The "formatReactFragmentNode" function could only format node of type "ReactFragment". Given: '+r);var s=void 0;return s=o.useFragmentShortSyntax?function(e){return 0===e.childrens.length}(e)||function(e){var t=e.key;return Boolean(t)}(e)?"React.Fragment":"":"React.Fragment",T(function(e,t,n){var o={};return t&&(o={key:t}),{type:"ReactElement",displayName:e,props:o,defaultProps:{},childrens:n}}(s,a,i),t,n,o)},j=["<",">","{","}"],I=function(e){return function(e){return j.some(function(t){return e.includes(t)})}(e)?"{`"+e+"`}":e},M=function(e,t,n,o){if("number"===e.type)return String(e.value);if("string"===e.type)return e.value?""+function(e){var t=e;return t.endsWith(" ")&&(t=t.replace(/^(\S*)(\s*)$/,"$1{'$2'}")),t.startsWith(" ")&&(t=t.replace(/^(\s*)(\S*)$/,"{'$1'}$2")),t}(I(String(e.value))):"";if("ReactElement"===e.type)return T(e,t,n,o);if("ReactFragment"===e.type)return A(e,t,n,o);throw new TypeError('Unknow format type "'+e.type+'"')};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.filterProps,o=void 0===n?[]:n,r=t.showDefaultProps,a=void 0===r||r,i=t.showFunctions,s=void 0!==i&&i,l=t.functionValue,c=t.tabStop,p=void 0===c?2:c,u=t.useBooleanShorthandSyntax,d=void 0===u||u,f=t.useFragmentShortSyntax,m=void 0===f||f,h=t.sortProps,y=void 0===h||h,g=t.maxInlineAttributesLineLength,b=t.displayName;if(!e)throw new Error("react-element-to-jsx-string: Expected a ReactElement");var v={filterProps:o,showDefaultProps:a,showFunctions:s,functionValue:l,tabStop:p,useBooleanShorthandSyntax:d,useFragmentShortSyntax:m,sortProps:y,maxInlineAttributesLineLength:g,displayName:b};return function(e,t){return M(e,!1,0,t)}(x(e,v),v)}},752:function(e,t,n){"use strict";t.__esModule=!0,t.getTemplateStyles=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.getComponentCode=c,t.default=function(e){return""+l+function(e){var t="",n="",r="",a={},i=e.componentProps.search||{},s=e.componentProps.result||{};Object.keys(e.componentProps).forEach(function(l){switch(l){case"search":i=o({},i,{highlightField:e.componentProps.search.dataField}),a={component:"DataSearch",mappings:e.mappings,componentProps:i,componentId:l},n=c(a);break;case"result":s=o({size:5,pagination:!0},s,{react:{and:Object.keys(e.componentProps).filter(function(e){return"result"!==e})}}),a={component:"ReactiveList",mappings:e.mappings,componentProps:s},r=c(a);break;default:var p={dataField:e.componentProps[l].dataField};a={component:"MultiList",mappings:e.mappings,componentId:l,componentProps:p},t=t?t+"\n"+c(a):c(a)}});var l="";if(e.attribution){var u=e.attribution.link?'<a href="'+e.attribution.link+'" rel="noopener noreferrer" target="_blank">\n\t\t\t\t\t'+e.attribution.text+"\n\t\t\t\t</a>":""+e.attribution.text;l='<Affix\n\t\t\tstyle={{\n\t\t\t\tposition: "fixed",\n\t\t\t\tbottom: "20px",\n\t\t\t\tleft: "25px",\n\t\t\t\tpadding: "5px 10px",\n\t\t\t\tbackground:\'white\',\n\t\t\t\tboxShadow: "0px 0px 2px rgba(0,0,0,0.3)"\n\t\t\t}}\n\t\t>\n\t\t\t'+u+"\n\t\t</Affix>"}return'\nconst App = () => (\n\t<ReactiveBase\n\t\tapp="'+e.appName+'"\n\t\tcredentials="'+e.credentials+'"\n\t\turl="'+e.url+'"\n\t>\n\t\t<Row gutter={16} style={{ padding: 20 }}>\n\t\t\t<Col span={12}>\n\t\t\t\t<Card>\n\t\t\t\t'+p(t)+"\n\t\t\t\t</Card>\n\t\t\t</Col>\n\t\t\t<Col span={12}>\n\t\t\t\t"+p(n)+"\n\n\t\t\t\t<SelectedFilters />\n\n\t\t\t\t"+p(r)+"\n\t\t\t</Col>\n\t\t\t"+l+"\n\t\t</Row>\n\t</ReactiveBase>\n);\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n);\n"}(e)};var r=s(n(1)),a=s(n(751)),i=n(734);function s(e){return e&&e.__esModule?e:{default:e}}var l="\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n\tReactiveBase,\n\tDataSearch,\n\tMultiList,\n\tSelectedFilters,\n\tReactiveList\n} from '@appbaseio/reactivesearch';\nimport {\n\tRow,\n\tCol,\n\tCard,\n\tSwitch,\n\tTree,\n\tPopover,\n\tAffix\n} from 'antd';\nimport ExpandCollapse from 'react-expand-collapse';\n\nimport 'antd/dist/antd.css';\nimport './styles.css';\n\nconst { TreeNode } = Tree;\n\nfunction onData(res) {\n\treturn (\n\t\t<div className=\"list-item\" key={res._id}>\n\t\t\t<ExpandCollapse\n\t\t\t\tpreviewHeight=\"390px\"\n\t\t\t\texpandText=\"Show more\"\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\t<Tree showLine>\n\t\t\t\t\t\t{renderAsTree(res)}\n\t\t\t\t\t</Tree>\n\t\t\t\t}\n\t\t\t</ExpandCollapse>\n\t\t</div>\n\t);\n};\n\nconst renderAsTree = (res, key = '0') => {\n\tif (!res) return null;\n\tconst iterable = Array.isArray(res) ? res : Object.keys(res);\n\treturn iterable.map((item, index) => {\n\t\tconst type = typeof res[item];\n\t\tif (type === 'string' || type === 'number') {\n\t\t\treturn (\n\t\t\t\t<TreeNode\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span>{item}:</span>&nbsp;\n\t\t\t\t\t\t\t<span dangerouslySetInnerHTML={{ __html: res[item] }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\tkey={key + \"-\" + (index + 1)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tconst hasObject = (res[item] === undefined && typeof item !== 'string');\n\t\tconst node = hasObject ? item : res[item];\n\t\treturn (\n\t\t\t<TreeNode\n\t\t\t\ttitle={typeof item !== 'string' ? 'Object' : '' + (node || Array.isArray(res) ? item : item + ': null')}\n\t\t\t\tkey={key + \"-\" + (index + 1)}\n\t\t\t>\n\t\t\t\t{renderAsTree(node, key + \"-\" + (index + 1))}\n\t\t\t</TreeNode>\n\t\t);\n\t});\n};\n";function c(e){var t=e.componentProps||{},n={};switch(e.component){case"ReactiveList":t=o({componentId:"SearchResult",size:5,pagination:!0},e.componentProps,{react:{and:Object.values(e.componentProps.react.and)},onData:"{onData}"}),n={marginTop:20};break;case"DataSearch":t=o({componentId:e.componentId},e.componentProps,{fieldWeights:(0,i.generateFieldWeights)(e.componentProps.dataField,e.componentProps.fieldWeights,e.mappings),dataField:(0,i.generateDataField)("DataSearch",e.componentProps.dataField,e.mappings),highlightField:e.componentProps.dataField}),n={marginBottom:20};break;case"MultiList":t=o({componentId:e.componentId},e.componentProps,{dataField:(0,i.generateDataField)("MultiList",e.componentProps.dataField,e.mappings)}),n={marginBottom:20};break;default:return"Nothing to Display"}var s=(0,a.default)(r.default.createElement("div",o({style:n},t)),{showFunctions:!1,useBooleanShorthandSyntax:!1});return s=(s=s.replace('onData="{onData}"',"onData = {onData}")).replace("div",e.component)}function p(e){return e.split("\n").join("\n\t\t\t\t")}t.getTemplateStyles=function(){return"\n.list-item {\n\tpadding: 20px 0;\n\tfont-size: 16px;\n\tline-height: 30px;\n\tborder-bottom: 1px solid #eee;\n}\n\n.list-item mark {\n\tbackground-color: #f5ff00;\n}\n\n.list-item li {\n\tword-wrap: break-word;\n\twidth: 100%;\n\toverflow: hidden;\n}\n\n.list-item > div {\n\tmargin-bottom: 4px;\n}\n\n.list-item:last-child {\n\tborder: 0;\n}\n\n.react-expand-collapse__content {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.react-expand-collapse__body {\n\tdisplay: inline;\n}\n\n/* expand-collapse button */\n.react-expand-collapse__button {\n\tcolor: #22a7f0;\n\tposition: absolute;\n\tbottom: 0;\n\tright: 0;\n\tbackground-color: #fff;\n\tcursor: pointer;\n\t-webkit-tap-highlight-color: transparent;\n}\n\n.react-expand-collapse__button:before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: -20px;\n\twidth: 20px;\n\theight: 100%;\n\tbackground: linear-gradient(to right, transparent 0, #fff 100%);\n}\n\n/* expanded state */\n.react-expand-collapse--expanded .react-expand-collapse__button {\n\tpadding-left: 5px;\n\tposition: relative;\n\tbottom: auto;\n\tright: auto;\n}\n\n.react-expand-collapse--expanded .react-expand-collapse__button:before {\n\tcontent: none;\n}\n"}}}]);