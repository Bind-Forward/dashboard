<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
(window.webpackJsonp=window.webpackJsonp||[]).push([[27,26],{1626:function(t,n,a){"use strict";n.__esModule=!0;var r=a(1),l=i(r),o=i(a(450));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(t){function n(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,a));return r.toggleHidden=function(){r.setState(function(e){return{hidden:!e.hidden}})},r.copySuccess=function(e){toastr.success(e+" credentials have been copied successully!")},r.copyError=function(){toastr.error("Error",e)},r.state={hidden:!0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){var e=this;return l.default.createElement("div",{className:"creds-box"},l.default.createElement("span",{style:{width:402}},this.state.hidden?"#######################################":this.props.text),l.default.createElement("span",null,l.default.createElement("a",{onClick:this.toggleHidden},l.default.createElement("i",{className:"fas "+(this.state.hidden?"fa-eye":"fa-eye-slash")})),l.default.createElement(o.default,{type:"danger",onSuccess:function(){return e.copySuccess(e.props.name)},onError:function(){return e.copyError(e.props.name)}},l.default.createElement("a",{"data-clipboard-text":this.props.text},l.default.createElement("i",{className:"far fa-clone"})))))},n}(r.Component);n.default=s},322:function(e,t,n){"use strict";t.__esModule=!0,t.regions=void 0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(42),o=n(603),i=n(321);var s=t.regions={eastus:{name:"East US",flag:"united-states.png"},centralus:{name:"East US",flag:"united-states.png"},westeurope:{name:"West Europe",flag:"europe.png"},canadacentral:{name:"Canada Central",flag:"canada.png"},canadaeast:{name:"Canada East",flag:"canada.png"}},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getFromPricing=function(e,t){var n=Object.values(i.machineMarks).find(function(t){return t.label===e});return(n?n[t]:"-")||"-"},a.initClusters=function(){(0,o.getClusters)().then(function(e){a.setState({clustersAvailable:!!e.length,clusters:e,isLoading:!1}),e.every(function(e){return"in progress"!==e.status||(setTimeout(a.initClusters,3e4),!1)})}).catch(function(e){console.error(e),a.setState({isLoading:!1})})},a.renderClusterRegion=function(e){if(!e)return null;var t=s[e],n=t.name,a=t.flag;return r.default.createElement("div",{className:"region-info"},r.default.createElement("img",{src:"/assets/images/flags/"+a,alt:"US"}),r.default.createElement("span",null,n))},a.state={isLoading:!0,clustersAvailable:!0,clusters:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.initClusters()},t.prototype.render=function(){var e=this,t={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)",width:"100%",fontSize:"20px"};return this.state.isLoading?r.default.createElement("div",{style:t},"Loading clusters..."):this.state.isLoading||this.state.clustersAvailable?r.default.createElement("section",{className:"cluster-container container"},r.default.createElement("article",null,r.default.createElement("h2",null,"My Clusters"),r.default.createElement("ul",{className:"clusters-list"},this.state.clusters.map(function(t){return r.default.createElement("li",{key:t.name,className:"cluster-card compact"},r.default.createElement("h3",null,t.name,r.default.createElement("span",{className:"tag"},"delInProg"===t.status?"deletion in progress":t.status)),r.default.createElement("div",{className:"info-row"},r.default.createElement("div",null,r.default.createElement("h4",null,"Region"),e.renderClusterRegion(t.region)),r.default.createElement("div",null,r.default.createElement("h4",null,"Pricing Plan"),r.default.createElement("div",null,t.pricing_plan)),r.default.createElement("div",null,r.default.createElement("h4",null,"ES Version"),r.default.createElement("div",null,t.es_version)),r.default.createElement("div",null,r.default.createElement("h4",null,"Memory"),r.default.createElement("div",null,e.getFromPricing(t.pricing_plan,"memory")," GB")),r.default.createElement("div",null,r.default.createElement("h4",null,"Disk Size"),r.default.createElement("div",null,e.getFromPricing(t.pricing_plan,"storage")," GB")),r.default.createElement("div",null,r.default.createElement("h4",null,"Nodes"),r.default.createElement("div",null,t.total_nodes)),r.default.createElement("div",null,r.default.createElement(l.Link,{to:"/clusters/"+t.id},r.default.createElement("button",{className:"ad-theme-btn primary"},"View Details")))))})),r.default.createElement("div",{style:{textAlign:"center",margin:"40px 0"}},r.default.createElement(l.Link,{to:"/clusters/new"},r.default.createElement("button",{className:"ad-theme-btn primary"},r.default.createElement("i",{className:"fas fa-plus"}),"  Create a New Cluster"))))):r.default.createElement("div",{style:t},r.default.createElement("i",{className:"fas fa-gift",style:{fontSize:36}}),r.default.createElement("h2",{style:{fontSize:22}},"You","'","ve unlocked 14 days free trial"),r.default.createElement("p",{style:{margin:"15px 0 20px",fontSize:16}},"Get started with clusters today"),r.default.createElement("div",{style:{textAlign:"center"}},r.default.createElement(l.Link,{to:"/clusters/new"},r.default.createElement("button",{className:"ad-theme-btn primary"},r.default.createElement("i",{className:"fas fa-plus"}),"  Create a New Cluster"))))},t}(a.Component);t.default=c},339:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),l=d(r),o=n(42),i=n(603),s=n(322),c=n(321),u=d(n(1626)),f=d(n(598));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.getFromPricing=function(e,t){var n=Object.values(c.machineMarks).find(function(t){return t.label===e});return(n?n[t]:"-")||"-"},r.setConfig=function(e,t){var n;r.setState(((n={})[e]=t,n))},r.init=function(){(0,i.getClusterData)(r.props.routeParams.id).then(function(e){r.originalCluster=e;var t=e.cluster,n=e.deployment;t&&n?(r.setState({cluster:t,deployment:n,kibana:!!n.kibana&&!!Object.keys(n.kibana).length,logstash:!!n.logstash&&!!Object.keys(n.logstash).length,elasticsearch:!!n.elasticsearch&&!!Object.keys(n.elasticsearch).length,mirage:!!n.mirage&&!!Object.keys(n.mirage).length}),"in progress"===t.status&&setTimeout(r.init,3e4)):r.setState({loadingError:!0})}).catch(function(e){r.setState({error:e})})},r.toggleConfig=function(e){r.setState(function(t){var n;return a({},t,((n={})[e]=!t[e],n))})},r.includedInOriginal=function(e){var t=r.originalCluster.deployment;return!!t[e]&&!!Object.keys(t[e]).length},r.deleteCluster=function(){(0,i.deleteCluster)(r.props.routeParams.id).then(function(){o.browserHistory.push("/clusters")}).catch(function(e){r.setState({deploymentError:e,showError:!0})})},r.saveClusterSettings=function(){var e={remove_deployments:[]};r.state.kibana&&!r.includedInOriginal("kibana")?e.kibana={create_node:!1,version:r.state.cluster.es_version}:!r.state.kibana&&r.includedInOriginal("kibana")&&(e.remove_deployments=[].concat(e.remove_deployments,["kibana"])),r.state.logstash&&!r.includedInOriginal("logstash")?e.logstash={create_node:!1,version:r.state.cluster.es_version}:!r.state.logstash&&r.includedInOriginal("logstash")&&(e.remove_deployments=[].concat(e.remove_deployments,["logstash"])),r.state.dejavu&&!r.includedInOriginal("dejavu")?(e.addons=e.addons||[],e.addons=[].concat(e.addons,[{name:"dejavu",image:"appbaseio/dejavu:1.5.0",exposed_port:1358}])):!r.state.dejavu&&r.includedInOriginal("dejavu")&&(e.remove_deployments=[].concat(e.remove_deployments,["dejavu"])),r.state.mirage&&!r.includedInOriginal("mirage")?(e.addons=e.addons||[],e.addons=[].concat(e.addons,[{name:"mirage",image:"appbaseio/mirage:0.8.0",exposed_port:3030}])):!r.state.mirage&&r.includedInOriginal("mirage")&&(e.remove_deployments=[].concat(e.remove_deployments,["mirage"])),r.state.elasticsearch&&!r.includedInOriginal("elasticsearch")?(e.addons=e.addons||[],e.addons=[].concat(e.addons,[{name:"elasticsearch-hq",image:"elastichq/elasticsearch-hq:release-v3.4.0",exposed_port:5e3}])):!r.state.elasticsearch&&r.includedInOriginal("elasticsearch")&&(e.remove_deployments=[].concat(e.remove_deployments,["elasticsearch"])),(0,i.deployCluster)(e,r.props.routeParams.id).then(function(){o.browserHistory.push("/clusters")}).catch(function(e){r.setState({deploymentError:e,showError:!0})})},r.hideErrorModal=function(){r.setState({showError:!1,deploymentError:""})},r.renderClusterRegion=function(e){if(!e)return null;var t=s.regions[e],n=t.name,a=t.flag;return l.default.createElement("div",{className:"region-info"},l.default.createElement("img",{src:"/assets/images/flags/"+a,alt:"US"}),l.default.createElement("span",null,n))},r.renderClusterEndpoint=function(e){if(Object.keys(e).length){var t=e.username||e.dashboard_username,n=e.password||e.dashboard_password,a=(e.url||e.dashboard_url).split("://"),r=a.protocol,o=a.url;return l.default.createElement("div",{key:e.name,className:"cluster-endpoint"},l.default.createElement("h4",null,l.default.createElement("a",{href:r+"://"+t+":"+n+"@"+o,target:"_blank",rel:"noopener noreferrer"},l.default.createElement("i",{className:"fas fa-external-link-alt"}),e.name)),l.default.createElement(u.default,{name:e.name,text:t+":"+n}))}return null},r.renderErrorScreen=function(){return l.default.createElement("section",{className:"cluster-container container",style:{textAlign:"center",paddingTop:40}},l.default.createElement("article",null,l.default.createElement("h2",null,"Some error occurred"),l.default.createElement("p",null,r.state.error),l.default.createElement("div",{style:{marginTop:30}},l.default.createElement("button",{className:"ad-theme-btn",onClick:function(){return o.browserHistory.push("/clusters")}},l.default.createElement("i",{className:"fas fa-arrow-left"}),"    Go Back"),l.default.createElement("button",{className:"ad-theme-btn",onClick:r.deleteCluster,style:{marginLeft:12,color:"tomato"}},"Delete Cluster    ",l.default.createElement("i",{className:"fas fa-trash-alt"})))))},r.state={cluster:null,deployment:null,kibana:!1,logstash:!1,elasticsearch:!1,mirage:!1,error:"",deploymentError:"",showError:!1,loadingError:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.init()},t.prototype.render=function(){var e=this,t={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)",width:"100%",fontSize:"20px"};return this.state.error?this.renderErrorScreen():this.state.cluster?l.default.createElement("section",{className:"cluster-container container"},l.default.createElement(f.default,{show:this.state.showError,message:this.state.deploymentError,onClose:this.hideErrorModal}),l.default.createElement("article",null,l.default.createElement("h2",null,this.state.cluster.name,l.default.createElement("span",{className:"tag"},"delInProg"===this.state.cluster.status?"Deletion in progress":this.state.cluster.status)),l.default.createElement("ul",{className:"clusters-list"},l.default.createElement("li",{key:this.state.cluster.name,className:"cluster-card compact"},l.default.createElement("div",{className:"info-row"},l.default.createElement("div",null,l.default.createElement("h4",null,"Region"),this.renderClusterRegion(this.state.cluster.region)),l.default.createElement("div",null,l.default.createElement("h4",null,"Pricing Plan"),l.default.createElement("div",null,this.state.cluster.pricing_plan)),l.default.createElement("div",null,l.default.createElement("h4",null,"ES Version"),l.default.createElement("div",null,this.state.cluster.es_version)),l.default.createElement("div",null,l.default.createElement("h4",null,"Memory"),l.default.createElement("div",null,this.getFromPricing(this.state.cluster.pricing_plan,"memory")," GB")),l.default.createElement("div",null,l.default.createElement("h4",null,"Disk Size"),l.default.createElement("div",null,this.getFromPricing(this.state.cluster.pricing_plan,"storage")," GB")),l.default.createElement("div",null,l.default.createElement("h4",null,"Nodes"),l.default.createElement("div",null,this.state.cluster.total_nodes)))),"in progress"===this.state.cluster.status?null:l.default.createElement("li",{className:"card"},l.default.createElement("div",{className:"col light"},l.default.createElement("h3",null,"Dashboard"),l.default.createElement("p",null,"Manage your cluster")),l.default.createElement("div",{className:"col"},this.renderClusterEndpoint(this.state.cluster))),"in progress"===this.state.cluster.status?null:l.default.createElement("li",{className:"card"},l.default.createElement("div",{className:"col light"},l.default.createElement("h3",null,"Endpoints"),l.default.createElement("p",null,"Plug-ins and Add-ons")),l.default.createElement("div",{className:"col"},Object.keys(this.state.deployment).filter(function(e){return"addons"!==e}).map(function(t){return e.renderClusterEndpoint(e.state.deployment[t])}))),"in progress"===this.state.cluster.status?null:l.default.createElement("li",{className:"card"},l.default.createElement("div",{className:"col light"},l.default.createElement("h3",null,"Edit Cluster Settings"),l.default.createElement("p",null,"Customise as per your needs")),l.default.createElement("div",{className:"col grow"},l.default.createElement("div",{className:"settings-item"},l.default.createElement("h4",null,"Kibana"),l.default.createElement("div",{className:"form-check"},l.default.createElement("label",{htmlFor:"yes"},l.default.createElement("input",{type:"radio",name:"kibana",defaultChecked:this.state.kibana,id:"yes",onChange:function(){return e.setConfig("kibana",!0)}}),"Yes"),l.default.createElement("label",{htmlFor:"no"},l.default.createElement("input",{type:"radio",name:"kibana",defaultChecked:!this.state.kibana,id:"no",onChange:function(){return e.setConfig("kibana",!1)}}),"No"))),l.default.createElement("div",{className:"settings-item"},l.default.createElement("h4",null,"Logstash"),l.default.createElement("div",{className:"form-check"},l.default.createElement("label",{htmlFor:"yes2"},l.default.createElement("input",{type:"radio",name:"logstash",defaultChecked:this.state.logstash,id:"yes2",onChange:function(){return e.setConfig("logstash",!0)}}),"Yes"),l.default.createElement("label",{htmlFor:"no2"},l.default.createElement("input",{type:"radio",name:"logstash",defaultChecked:!this.state.logstash,id:"no2",onChange:function(){return e.setConfig("logstash",!1)}}),"No"))),l.default.createElement("div",{className:"settings-item"},l.default.createElement("h4",null,"Add-ons"),l.default.createElement("div",{className:"form-check"},l.default.createElement("label",{htmlFor:"dejavu"},l.default.createElement("input",{type:"checkbox",defaultChecked:this.state.dejavu,id:"dejavu",onChange:function(){return e.toggleConfig("dejavu")}}),"Dejavu"),l.default.createElement("label",{htmlFor:"elasticsearch"},l.default.createElement("input",{type:"checkbox",defaultChecked:this.state.elasticsearch,id:"elasticsearch",onChange:function(){return e.toggleConfig("elasticsearch")}}),"Elasticsearch-HQ"),l.default.createElement("label",{htmlFor:"mirage"},l.default.createElement("input",{type:"checkbox",defaultChecked:this.state.mirage,id:"mirage",onChange:function(){return e.toggleConfig("mirage")}}),"Mirage")))))),"in progress"===this.state.cluster.status?l.default.createElement("p",{style:{textAlign:"center"}},"Deployment is in progress. Please wait."):l.default.createElement("div",{style:{textAlign:"right",marginBottom:40}},l.default.createElement("button",{className:"ad-theme-btn",onClick:this.deleteCluster,style:{marginRight:12,color:"tomato"}},"Delete Cluster    ",l.default.createElement("i",{className:"fas fa-trash-alt"})),l.default.createElement("button",{className:"ad-theme-btn primary",onClick:this.saveClusterSettings},"Save Cluster Settings    ",l.default.createElement("i",{className:"fas fa-arrow-right"}))))):this.state.loadingError?l.default.createElement("div",{style:t},"Cluster status isn","'","t available yet",l.default.createElement("br",null),"It typically takes 15-30 minutes before a cluster comes live.",l.default.createElement("div",{style:{marginTop:20}},l.default.createElement("button",{className:"ad-theme-btn",onClick:function(){return o.browserHistory.push("/clusters")}},l.default.createElement("i",{className:"fas fa-arrow-left"}),"    Go Back"),l.default.createElement("button",{className:"ad-theme-btn",onClick:this.deleteCluster,style:{marginLeft:12,color:"tomato"}},"Delete Cluster    ",l.default.createElement("i",{className:"fas fa-trash-alt"})))):l.default.createElement("div",{style:t},"Loading cluster data...")},t}(r.Component);t.default=m},450:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=o(a),l=o(n(451));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getRef=a.getRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.cp&&this.cp.destroy()},t.prototype.getRef=function(e){if(e){var t=e;this.cp&&this.cp.destroy(),this.cp=new l.default(t),this.cp.on("success",this.props.onSuccess),this.cp.on("error",this.props.onError)}},t.prototype.render=function(){var e=this,t=r.default.Children.map(this.props.children,function(t){return r.default.cloneElement(t,{ref:e.getRef})});return r.default.createElement("span",null,t)},t}(a.Component);t.default=i,i.propTypes={},i.defaultProps={}},451:function(e,t,n){
=======
(window.webpackJsonp=window.webpackJsonp||[]).push([[27,26],{1626:function(t,n,a){"use strict";n.__esModule=!0;var r=a(1),l=i(r),o=i(a(450));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(t){function n(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,a));return r.toggleHidden=function(){r.setState(function(e){return{hidden:!e.hidden}})},r.copySuccess=function(e){toastr.success(e+" credentials have been copied successully!")},r.copyError=function(){toastr.error("Error",e)},r.state={hidden:!0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){var e=this;return l.default.createElement("div",{className:"creds-box"},l.default.createElement("span",{style:{width:402}},this.state.hidden?"#######################################":this.props.text),l.default.createElement("span",null,l.default.createElement("a",{onClick:this.toggleHidden},l.default.createElement("i",{className:"fas "+(this.state.hidden?"fa-eye":"fa-eye-slash")})),l.default.createElement(o.default,{type:"danger",onSuccess:function(){return e.copySuccess(e.props.name)},onError:function(){return e.copyError(e.props.name)}},l.default.createElement("a",{"data-clipboard-text":this.props.text},l.default.createElement("i",{className:"far fa-clone"})))))},n}(r.Component);n.default=s},322:function(e,t,n){"use strict";t.__esModule=!0,t.regions=void 0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(42),o=n(603),i=n(321);var s=t.regions={eastus:{name:"East US",flag:"united-states.png"},centralus:{name:"East US",flag:"united-states.png"},westeurope:{name:"West Europe",flag:"europe.png"},canadacentral:{name:"Canada Central",flag:"canada.png"},canadaeast:{name:"Canada East",flag:"canada.png"}},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getFromPricing=function(e,t){var n=Object.values(i.machineMarks).find(function(t){return t.label===e});return(n?n[t]:"-")||"-"},a.initClusters=function(){(0,o.getClusters)().then(function(e){a.setState({clustersAvailable:!!e.length,clusters:e,isLoading:!1}),e.every(function(e){return"in progress"!==e.status||(setTimeout(a.initClusters,3e4),!1)})}).catch(function(e){console.error(e),a.setState({isLoading:!1})})},a.renderClusterRegion=function(e){if(!e)return null;var t=s[e],n=t.name,a=t.flag;return r.default.createElement("div",{className:"region-info"},r.default.createElement("img",{src:"/assets/images/flags/"+a,alt:"US"}),r.default.createElement("span",null,n))},a.state={isLoading:!0,clustersAvailable:!0,clusters:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.initClusters()},t.prototype.render=function(){var e=this,t={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)",width:"100%",fontSize:"20px"};return this.state.isLoading?r.default.createElement("div",{style:t},"Loading clusters..."):this.state.isLoading||this.state.clustersAvailable?r.default.createElement("section",{className:"cluster-container container"},r.default.createElement("article",null,r.default.createElement("h2",null,"My Clusters"),r.default.createElement("ul",{className:"clusters-list"},this.state.clusters.map(function(t){return r.default.createElement("li",{key:t.name,className:"cluster-card compact"},r.default.createElement("h3",null,t.name,r.default.createElement("span",{className:"tag"},"delInProg"===t.status?"deletion in progress":t.status)),r.default.createElement("div",{className:"info-row"},r.default.createElement("div",null,r.default.createElement("h4",null,"Region"),e.renderClusterRegion(t.region)),r.default.createElement("div",null,r.default.createElement("h4",null,"Pricing Plan"),r.default.createElement("div",null,t.pricing_plan)),r.default.createElement("div",null,r.default.createElement("h4",null,"ES Version"),r.default.createElement("div",null,t.es_version)),r.default.createElement("div",null,r.default.createElement("h4",null,"Memory"),r.default.createElement("div",null,e.getFromPricing(t.pricing_plan,"memory")," GB")),r.default.createElement("div",null,r.default.createElement("h4",null,"Disk Size"),r.default.createElement("div",null,e.getFromPricing(t.pricing_plan,"storage")," GB")),r.default.createElement("div",null,r.default.createElement("h4",null,"Nodes"),r.default.createElement("div",null,t.total_nodes)),r.default.createElement("div",null,r.default.createElement(l.Link,{to:"/clusters/"+t.id},r.default.createElement("button",{className:"ad-theme-btn primary"},"View Details")))))})),r.default.createElement("div",{style:{textAlign:"center",margin:"40px 0"}},r.default.createElement(l.Link,{to:"/clusters/new"},r.default.createElement("button",{className:"ad-theme-btn primary"},r.default.createElement("i",{className:"fas fa-plus"}),"  Create a New Cluster"))))):r.default.createElement("div",{style:t},r.default.createElement("i",{className:"fas fa-gift",style:{fontSize:36}}),r.default.createElement("h2",{style:{marginTop:24,fontSize:22}},"You","'","ve unlocked 14 days free trial"),r.default.createElement("p",{style:{margin:"15px 0 20px",fontSize:16}},"Get started with clusters today"),r.default.createElement("div",{style:{textAlign:"center"}},r.default.createElement(l.Link,{to:"/clusters/new"},r.default.createElement("button",{className:"ad-theme-btn primary"},r.default.createElement("i",{className:"fas fa-plus"}),"  Create a New Cluster"))))},t}(a.Component);t.default=c},339:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),l=d(r),o=n(42),i=n(603),s=n(322),c=n(321),u=d(n(1626)),f=d(n(598));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.getFromPricing=function(e,t){var n=Object.values(c.machineMarks).find(function(t){return t.label===e});return(n?n[t]:"-")||"-"},r.setConfig=function(e,t){var n;r.setState(((n={})[e]=t,n))},r.init=function(){(0,i.getClusterData)(r.props.routeParams.id).then(function(e){r.originalCluster=e;var t=e.cluster,n=e.deployment;t&&n?(r.setState({cluster:t,deployment:n,kibana:!!n.kibana&&!!Object.keys(n.kibana).length,logstash:!!n.logstash&&!!Object.keys(n.logstash).length,elasticsearch:!!n.elasticsearch&&!!Object.keys(n.elasticsearch).length,mirage:!!n.mirage&&!!Object.keys(n.mirage).length}),"in progress"===t.status&&setTimeout(r.init,3e4)):r.setState({loadingError:!0})}).catch(function(e){r.setState({error:e})})},r.toggleConfig=function(e){r.setState(function(t){var n;return a({},t,((n={})[e]=!t[e],n))})},r.includedInOriginal=function(e){var t=r.originalCluster.deployment;return!!t[e]&&!!Object.keys(t[e]).length},r.deleteCluster=function(){(0,i.deleteCluster)(r.props.routeParams.id).then(function(){o.browserHistory.push("/clusters")}).catch(function(e){r.setState({deploymentError:e,showError:!0})})},r.saveClusterSettings=function(){var e={remove_deployments:[]};r.state.kibana&&!r.includedInOriginal("kibana")?e.kibana={create_node:!1,version:r.state.cluster.es_version}:!r.state.kibana&&r.includedInOriginal("kibana")&&(e.remove_deployments=[].concat(e.remove_deployments,["kibana"])),r.state.logstash&&!r.includedInOriginal("logstash")?e.logstash={create_node:!1,version:r.state.cluster.es_version}:!r.state.logstash&&r.includedInOriginal("logstash")&&(e.remove_deployments=[].concat(e.remove_deployments,["logstash"])),r.state.dejavu&&!r.includedInOriginal("dejavu")?(e.addons=e.addons||[],e.addons=[].concat(e.addons,[{name:"dejavu",image:"appbaseio/dejavu:1.5.0",exposed_port:1358}])):!r.state.dejavu&&r.includedInOriginal("dejavu")&&(e.remove_deployments=[].concat(e.remove_deployments,["dejavu"])),r.state.mirage&&!r.includedInOriginal("mirage")?(e.addons=e.addons||[],e.addons=[].concat(e.addons,[{name:"mirage",image:"appbaseio/mirage:0.8.0",exposed_port:3030}])):!r.state.mirage&&r.includedInOriginal("mirage")&&(e.remove_deployments=[].concat(e.remove_deployments,["mirage"])),r.state.elasticsearch&&!r.includedInOriginal("elasticsearch")?(e.addons=e.addons||[],e.addons=[].concat(e.addons,[{name:"elasticsearch-hq",image:"elastichq/elasticsearch-hq:release-v3.4.0",exposed_port:5e3}])):!r.state.elasticsearch&&r.includedInOriginal("elasticsearch")&&(e.remove_deployments=[].concat(e.remove_deployments,["elasticsearch"])),(0,i.deployCluster)(e,r.props.routeParams.id).then(function(){o.browserHistory.push("/clusters")}).catch(function(e){r.setState({deploymentError:e,showError:!0})})},r.hideErrorModal=function(){r.setState({showError:!1,deploymentError:""})},r.renderClusterRegion=function(e){if(!e)return null;var t=s.regions[e],n=t.name,a=t.flag;return l.default.createElement("div",{className:"region-info"},l.default.createElement("img",{src:"/assets/images/flags/"+a,alt:"US"}),l.default.createElement("span",null,n))},r.renderClusterEndpoint=function(e){if(Object.keys(e).length){var t=e.username||e.dashboard_username,n=e.password||e.dashboard_password,a=(e.url||e.dashboard_url).split("://"),r=a[0],o=a[1];return l.default.createElement("div",{key:e.name,className:"cluster-endpoint"},l.default.createElement("h4",null,l.default.createElement("a",{href:r+"://"+t+":"+n+"@"+o,target:"_blank",rel:"noopener noreferrer"},l.default.createElement("i",{className:"fas fa-external-link-alt"}),e.name)),l.default.createElement(u.default,{name:e.name,text:t+":"+n}))}return null},r.renderErrorScreen=function(){return l.default.createElement("section",{className:"cluster-container container",style:{textAlign:"center",paddingTop:40}},l.default.createElement("article",null,l.default.createElement("h2",null,"Some error occurred"),l.default.createElement("p",null,r.state.error),l.default.createElement("div",{style:{marginTop:30}},l.default.createElement("button",{className:"ad-theme-btn",onClick:function(){return o.browserHistory.push("/clusters")}},l.default.createElement("i",{className:"fas fa-arrow-left"}),"    Go Back"),l.default.createElement("button",{className:"ad-theme-btn",onClick:r.deleteCluster,style:{marginLeft:12,color:"tomato"}},"Delete Cluster    ",l.default.createElement("i",{className:"fas fa-trash-alt"})))))},r.state={cluster:null,deployment:null,kibana:!1,logstash:!1,elasticsearch:!1,mirage:!1,error:"",deploymentError:"",showError:!1,loadingError:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.init()},t.prototype.render=function(){var e=this,t={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)",width:"100%",fontSize:"20px",textAlign:"center",lineHeight:"36px"};return this.state.error?this.renderErrorScreen():this.state.cluster?l.default.createElement("section",{className:"cluster-container container"},l.default.createElement(f.default,{show:this.state.showError,message:this.state.deploymentError,onClose:this.hideErrorModal}),l.default.createElement("article",null,l.default.createElement("h2",null,this.state.cluster.name,l.default.createElement("span",{className:"tag"},"delInProg"===this.state.cluster.status?"Deletion in progress":this.state.cluster.status)),l.default.createElement("ul",{className:"clusters-list"},l.default.createElement("li",{key:this.state.cluster.name,className:"cluster-card compact"},l.default.createElement("div",{className:"info-row"},l.default.createElement("div",null,l.default.createElement("h4",null,"Region"),this.renderClusterRegion(this.state.cluster.region)),l.default.createElement("div",null,l.default.createElement("h4",null,"Pricing Plan"),l.default.createElement("div",null,this.state.cluster.pricing_plan)),l.default.createElement("div",null,l.default.createElement("h4",null,"ES Version"),l.default.createElement("div",null,this.state.cluster.es_version)),l.default.createElement("div",null,l.default.createElement("h4",null,"Memory"),l.default.createElement("div",null,this.getFromPricing(this.state.cluster.pricing_plan,"memory")," GB")),l.default.createElement("div",null,l.default.createElement("h4",null,"Disk Size"),l.default.createElement("div",null,this.getFromPricing(this.state.cluster.pricing_plan,"storage")," GB")),l.default.createElement("div",null,l.default.createElement("h4",null,"Nodes"),l.default.createElement("div",null,this.state.cluster.total_nodes)))),"in progress"===this.state.cluster.status?null:l.default.createElement("li",{className:"card"},l.default.createElement("div",{className:"col light"},l.default.createElement("h3",null,"Dashboard"),l.default.createElement("p",null,"Manage your cluster")),l.default.createElement("div",{className:"col"},this.renderClusterEndpoint(this.state.cluster))),"in progress"===this.state.cluster.status?null:l.default.createElement("li",{className:"card"},l.default.createElement("div",{className:"col light"},l.default.createElement("h3",null,"Endpoints"),l.default.createElement("p",null,"Plug-ins and Add-ons")),l.default.createElement("div",{className:"col"},Object.keys(this.state.deployment).filter(function(e){return"addons"!==e}).map(function(t){return e.renderClusterEndpoint(e.state.deployment[t])}))),"in progress"===this.state.cluster.status?null:l.default.createElement("li",{className:"card"},l.default.createElement("div",{className:"col light"},l.default.createElement("h3",null,"Edit Cluster Settings"),l.default.createElement("p",null,"Customise as per your needs")),l.default.createElement("div",{className:"col grow"},l.default.createElement("div",{className:"settings-item"},l.default.createElement("h4",null,"Kibana"),l.default.createElement("div",{className:"form-check"},l.default.createElement("label",{htmlFor:"yes"},l.default.createElement("input",{type:"radio",name:"kibana",defaultChecked:this.state.kibana,id:"yes",onChange:function(){return e.setConfig("kibana",!0)}}),"Yes"),l.default.createElement("label",{htmlFor:"no"},l.default.createElement("input",{type:"radio",name:"kibana",defaultChecked:!this.state.kibana,id:"no",onChange:function(){return e.setConfig("kibana",!1)}}),"No"))),l.default.createElement("div",{className:"settings-item"},l.default.createElement("h4",null,"Logstash"),l.default.createElement("div",{className:"form-check"},l.default.createElement("label",{htmlFor:"yes2"},l.default.createElement("input",{type:"radio",name:"logstash",defaultChecked:this.state.logstash,id:"yes2",onChange:function(){return e.setConfig("logstash",!0)}}),"Yes"),l.default.createElement("label",{htmlFor:"no2"},l.default.createElement("input",{type:"radio",name:"logstash",defaultChecked:!this.state.logstash,id:"no2",onChange:function(){return e.setConfig("logstash",!1)}}),"No"))),l.default.createElement("div",{className:"settings-item"},l.default.createElement("h4",null,"Add-ons"),l.default.createElement("div",{className:"form-check"},l.default.createElement("label",{htmlFor:"dejavu"},l.default.createElement("input",{type:"checkbox",defaultChecked:this.state.dejavu,id:"dejavu",onChange:function(){return e.toggleConfig("dejavu")}}),"Dejavu"),l.default.createElement("label",{htmlFor:"elasticsearch"},l.default.createElement("input",{type:"checkbox",defaultChecked:this.state.elasticsearch,id:"elasticsearch",onChange:function(){return e.toggleConfig("elasticsearch")}}),"Elasticsearch-HQ"),l.default.createElement("label",{htmlFor:"mirage"},l.default.createElement("input",{type:"checkbox",defaultChecked:this.state.mirage,id:"mirage",onChange:function(){return e.toggleConfig("mirage")}}),"Mirage")))))),"in progress"===this.state.cluster.status?l.default.createElement("p",{style:{textAlign:"center"}},"Deployment is in progress. Please wait."):l.default.createElement("div",{style:{textAlign:"right",marginBottom:40}},l.default.createElement("button",{className:"ad-theme-btn",onClick:this.deleteCluster,style:{marginRight:12,color:"tomato"}},"Delete Cluster    ",l.default.createElement("i",{className:"fas fa-trash-alt"})),l.default.createElement("button",{className:"ad-theme-btn primary",onClick:this.saveClusterSettings},"Save Cluster Settings    ",l.default.createElement("i",{className:"fas fa-arrow-right"}))))):this.state.loadingError?l.default.createElement("div",{style:t},"Cluster status isn","'","t available yet",l.default.createElement("br",null),"It typically takes 15-30 minutes before a cluster comes live.",l.default.createElement("div",{style:{marginTop:20}},l.default.createElement("button",{className:"ad-theme-btn",onClick:function(){return o.browserHistory.push("/clusters")}},l.default.createElement("i",{className:"fas fa-arrow-left"}),"    Go Back"),l.default.createElement("button",{className:"ad-theme-btn",onClick:this.deleteCluster,style:{marginLeft:12,color:"tomato"}},"Delete Cluster    ",l.default.createElement("i",{className:"fas fa-trash-alt"})))):l.default.createElement("div",{style:t},"Loading cluster data...")},t}(r.Component);t.default=m},450:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=o(a),l=o(n(451));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getRef=a.getRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.cp&&this.cp.destroy()},t.prototype.getRef=function(e){if(e){var t=e;this.cp&&this.cp.destroy(),this.cp=new l.default(t),this.cp.on("success",this.props.onSuccess),this.cp.on("error",this.props.onError)}},t.prototype.render=function(){var e=this,t=r.default.Children.map(this.props.children,function(t){return r.default.cloneElement(t,{ref:e.getRef})});return r.default.createElement("span",null,t)},t}(a.Component);t.default=i,i.propTypes={},i.defaultProps={}},451:function(e,t,n){
>>>>>>> build
/*!
 * clipboard.js v2.0.1
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var a,r,l;r=[e,n(7)],void 0===(l="function"==typeof(a=function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=a+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":a(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l})?a.apply(t,r):a)||(e.exports=l)},function(e,t,n){var a=n(6),r=n(5);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(a.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var a=this;function r(){a.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,r=n.length;a<r;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],r=[];if(a&&t)for(var l=0,o=a.length;l<o;l++)a[l].fn!==t&&a[l].fn._!==t&&r.push(a[l]);return r.length?n[e]=r:delete n[e],this}},e.exports=n},function(e,t,n){var a,r,l;r=[e,n(0),n(2),n(1)],void 0===(l="function"==typeof(a=function(e,t,n,a){"use strict";var r=i(t),l=i(n),o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.resolveOptions(n),a.listenClick(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===s(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return f("action",e)}},{key:"defaultTarget",value:function(e){var t=f("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return f("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(l.default);function f(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})?a.apply(t,r):a)||(e.exports=l)},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){var a=n(4);function r(e,t,n,r,l){var o=function(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,o,l),{destroy:function(){e.removeEventListener(n,o,l)}}}e.exports=function(e,t,n,a,l){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,a,l)}))}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),r=document.createRange();r.selectNodeContents(e),a.removeAllRanges(),a.addRange(r),t=a.toString()}return t}}])})}}]);
=======
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1173:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=f(a(1)),o=f(a(0)),i=a(365),s=f(a(367)),l=f(a(750)),c=a(372),u=f(a(577)),p=f(a(436)),d=f(a(570));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.redirectTo=function(e){window.location=window.location.origin+"/analytics/"+n.props.appName+"/"+e},n.state={noResults:[],popularSearches:[],searchVolume:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,c.getAnalytics)(this.props.appName).then(function(t){e.setState({noResults:t.noResultSearches,popularSearches:t.popularSearches,searchVolume:t.searchVolume})}).catch(function(t){e.setState({}),console.log("ERROR=>",t)})},t.prototype.render=function(){var e=this,t=this.props,a=t.plan,o=t.appCount,c=this.state,f=c.searchVolume,h=c.popularSearches,m=c.noResults;return r.default.createElement("div",{className:(0,n.css)("padding:40px")},r.default.createElement(s.default,{justifyContent:"space-between"},r.default.createElement("div",{className:(0,n.css)("margin-right:10px")},r.default.createElement(l.default,{plan:a,appCount:o})),r.default.createElement(i.Card,{className:(0,n.css)("margin-left:10px"),title:"Daily Search Volume"},r.default.createElement(u.default,{width:window.innerWidth-580,height:210,data:f}))),r.default.createElement(s.default,{className:(0,n.css)("width:100%;margin-top:20px")},r.default.createElement("div",{className:(0,n.css)("flex:50%;margin-right:10px")},r.default.createElement(p.default,{onClick:function(){return e.redirectTo("popularSearches")},dataSource:h,title:"Popular Searches"})),r.default.createElement("div",{className:(0,n.css)("flex:50%;margin-left:10px")},r.default.createElement(p.default,{onClick:function(){return e.redirectTo("noResultSearches")},dataSource:m,title:"No Result Searches"}))),r.default.createElement("div",{className:(0,n.css)("margin-top:20px")},r.default.createElement(d.default,{changeUrlOnTabChange:!1,appName:this.props.appName})))},t}(r.default.Component);h.propTypes={plan:o.default.string,appCount:o.default.object,appName:o.default.string},t.default=h},1174:function(e,t,a){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(93));t.default=function(){return n.default.dashboardGettingStarted}},1175:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=a(39);var i=function(e){function t(a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.appCount.action.percentage>=100||this.props.appCount.records.percentage>=100?"danger":(this.props.appCount.action.percentage>=80||this.props.appCount.records.percentage>=80)&&"warning",r.default.createElement("div",null,this.props.appCount.action.percentage>80||this.props.appCount.records.percentage>80?r.default.createElement("section",{className:"api-view upgrade"},r.default.createElement("div",{className:"ad-detail-page-body-card-body body-card-body-api-view row"},r.default.createElement(o.Link,{to:"/billing",className:"ad-theme-btn primary"},"Upgrade My Plan"))):null)},t}(n.Component);t.default=i},1178:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),r=i(n),o=i(a(1177));function i(e){return e&&e.__esModule?e:{default:e}}var s=a(368),l=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={config:{chartConfig:{}}},n.columns={indexCalls:[],miscAggregation:[],searchCalls:[],settingsCalls:[],streamCalls:[]},n.columnLabels={indexCalls:"index",miscAggregation:"aggregation",searchCalls:"search",settingsCalls:"settings",streamCalls:"stream"},n.columnColors=["red","#9F9F9F","#13C4A5","#50BAEF","yellow"],n.chartConfig={},n.chartConfig.overview={chart:{type:"spline"},tooltip:{style:{padding:10,fontWeight:"bold"}},symbols:["circle"],series:[],xAxis:{categories:[]},yAxis:{title:"",floor:0},loading:!0,title:{text:""},credits:!1},n.chartConfig.breakdown={colors:n.columnColors,chart:{type:"column",spacingBottom:50},tooltip:{style:{padding:10,fontWeight:"lighter"},headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},symbols:["circle"],series:[],xAxis:{categories:[]},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},yAxis:{title:"",floor:0,stackLabels:{enabled:!0,style:{fontWeight:"bold"}}},legend:{align:"right",verticalAlign:"bottom",y:40,floating:!0,backgroundColor:"white",borderColor:"#CCC",borderWidth:1,shadow:!1},loading:!0,title:{text:""},credits:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;e.info&&e.info.metrics&&e.graphMethod&&e.infoType&&setTimeout(function(){t.prepareGraph()},100)},t.prototype.defaultValues=function(e,t,a){t.strike={};var n=e.body.month.buckets;t.noData=0===n.length;$(".graph-part").width();return t.cap=1e5,t.chart={},t.chart.month=0,t.chartConfig=this.chartConfig[this.props.infoType],t},t.prototype.prepareGraph=function(){var e=new Date,t=new Date(e.getTime()+6e4*e.getTimezoneOffset()),a=this.props.graphMethod,n=this.state.config;n.graphActive=this.props.graphMethod,n=this.defaultValues(this.props.info.metrics,n);var r={week:function(){a=t.setDate(t.getDate()-7)},month:function(){a=(a=new Date(s(t).format("YYYY-MM")+"-01")).getTime()},all:function(){a=0}};if(a||(a="month"),r[a]){var o=a;r[a]()}var i=this.getGraphData(a,this.props.info.metrics),l=i.data;$.isEmptyObject(l)?o&&"all"!==o&&(n.strike[o]=!0):(n.chart.month=n.chart.month||i.month,n.chartConfig.xAxis.categories=i.xAxis,"overview"===this.props.infoType?(n.chartConfig.series=[],"month"===n.graphActive?n.chartConfig.colors=["#50BAEF"]:"all"===n.graphActive?n.chartConfig.colors=["#9F9F9F"]:n.chartConfig.colors=["#13C4A5"],n.chartConfig.series.push({data:l.apiCalls,name:"API Calls"})):n.chartConfig.series=l),n.chartConfig.loading=!1,this.setState({config:n})},t.prototype.getGraphData=function(e,t){var a=this,n=t.body.month.buckets,r=[],o=0,i=[];t="overview"===this.props.infoType?{apiCalls:[]}:Object.assign(this.getColumns(),{});for(var s in n)if(n[s].hasOwnProperty("apiCalls")){var l=parseInt(n[s].key);if(l>=e){if(r[r.length-1]!=l&&r.push(l),"overview"===this.props.infoType){var c=n[s].apiCalls.value;t.apiCalls.push(c)}else Object.keys(this.columns).forEach(function(e){var a=n[s][e].value;t[e].push(a)});o+=c=n[s].apiCalls.value}}var u=[];return r.forEach(function(e){var t=(e=new Date(e)).getUTCMonth()+1+"/"+e.getUTCDate();u.push(t)}),"breakdown"===this.props.infoType&&Object.keys(t).forEach(function(e,n){var r={id:n,name:a.columnLabels[e],data:t[e]};i.push(r)}),{data:"breakdown"===this.props.infoType?i:t,xAxis:u,month:o}},t.prototype.getColumns=function(){var e={};return Object.keys(this.columns).forEach(function(t){e[t]=[]}),e},t.prototype.render=function(){return r.default.createElement("div",null,r.default.createElement(o.default,{config:this.state.config.chartConfig}))},t}(n.Component);t.default=l},1179:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),r=i(n),o=i(a(1178));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a)),r=new Date;return n.state={graphMethod:r.getDate()<3?"week":"month",infoType:"overview"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.graph=function(e){this.setState({graphMethod:e})},t.prototype.info=function(e){this.setState({infoType:e})},t.prototype.render=function(){var e=this;return r.default.createElement("section",{className:"ad-detail-page-body-card graph-view"},r.default.createElement("header",{className:"ad-detail-page-body-card-title body-card-title-highchart"},r.default.createElement("span",null,"API Calls"),r.default.createElement("span",{className:"ad-dropdown dropdown pull-right charts-api-calls"},r.default.createElement("button",{className:"dropdown-toggle",type:"button",id:"sortby-menu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},this.state.graphMethod,"  ",r.default.createElement("span",{className:"caret"})),r.default.createElement("ul",{className:"ad-dropdown-menu dropdown-menu pull-right","aria-labelledby":"sortby-menu"},r.default.createElement("li",null,r.default.createElement("a",{className:"week"===this.state.graphMethod?"active":"",onClick:function(){return e.graph("week")}},"Week")),r.default.createElement("li",null,r.default.createElement("a",{className:"month"===this.state.graphMethod?"active":"",onClick:function(){return e.graph("month")}},"Month")),r.default.createElement("li",null,r.default.createElement("a",{className:"all"===this.state.graphMethod?"active":"",onClick:function(){return e.graph("all")}},"All"))))),r.default.createElement("div",{className:"ad-detail-page-body-card-body"},r.default.createElement("header",{className:"tab-container col-xs-12"},r.default.createElement("ul",{className:"nav-tab pull-left"},r.default.createElement("li",null,r.default.createElement("a",{className:"overview"===this.state.infoType?"active":"",onClick:function(){return e.info("overview")}},"Overview")),r.default.createElement("li",null,r.default.createElement("a",{className:"breakdown"===this.state.infoType?"active":"",onClick:function(){return e.info("breakdown")}},"Breakdown")))),r.default.createElement(o.default,{id:"chart1",graphMethod:this.state.graphMethod,info:this.props.info,infoType:this.state.infoType})))},t}(n.Component);t.default=s},342:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),r=m(n),o=m(a(142)),i=a(16),s=a(408),l=m(a(750)),c=m(a(1179)),u=m(a(379)),p=m(a(1175)),d=m(a(1174)),f=m(a(1173)),h=m(a(419));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a)),r=Number(window.sessionStorage.getItem("currentCalls"));return n.currentRecords=Number(window.sessionStorage.getItem("currentRecords")),n.state={info:{},plan:null,graphMethod:"month",config:{chartConfig:{}},totalApiCalls:r||0,apiCalls:0,waitingForApiCalls:!0},n.themeColor="#CDDC39",n.trailColor="#fff",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.initialize(this.props)},t.prototype.componentWillReceiveProps=function(e){e.params.appId!==this.appName&&this.setState({waitingForApiCalls:!0},this.initialize.bind(this,e))},t.prototype.getBillingInfo=function(){var e=this;if(i.appbaseService.userInfo&&i.appbaseService.userInfo.body&&i.appbaseService.userInfo.body.c_id){var t={c_id:i.appbaseService.userInfo.body.c_id};s.billingService.getCustomer(t).then(function(t){var a=Object.keys(s.billingService.planLimits).indexOf(t.plan)>-1?t.plan:"free";e.setState({billingInfo:t,plan:a})}).catch(function(t){e.setState({plan:"free"}),console.log(t)})}},t.prototype.getInfo=function(){var e=this;this.info={},Promise.all([i.appbaseService.getPermission(this.appId),i.appbaseService.getAppInfo(this.appId),i.appbaseService.getMetrics(this.appId),this.getBillingInfo()]).then(function(t){var a=t[0],n=t[1],r=t[2];e.info={},e.info.permission=a,e.info.appInfo=n,e.info.metrics=r;var o=function(e){var t=0;return(e.body&&e.body.month&&e.body.month.buckets?e.body.month.buckets:[]).forEach(function(e){t+=e.apiCalls.value}),t}(r);e.info.appStats=i.appbaseService.computeMetrics(r),e.setState({info:e.info,apiCalls:function(e){var t=0;return e.body.month.buckets.forEach(function(e){t+=e.apiCalls.value}),t}(r),totalApiCalls:o,waitingForApiCalls:!1})})},t.prototype.initialize=function(e){this.appName=e.params.appId,this.appId=i.appbaseService.userInfo.body.apps[this.appName],this.getInfo()},t.prototype.calcPercentage=function(e,t){var a=void 0,n=100*(a="action"===t?(0,o.default)(e,"info.appStats.calls",0):(0,o.default)(e,"info.appStats.records",0))/s.billingService.planLimits[this.state.plan][t];return{percentage:n=n<100?n:100,count:a}},t.prototype.appCount=function(){var e={action:{percentage:0,count:0},records:{percentage:0,count:0}};return this.state.plan&&(e={action:this.calcPercentage(this.state,"action"),records:this.calcPercentage(this.state,"records")}),e},t.prototype.render=function(){if(this.state.waitingForApiCalls)return r.default.createElement(h.default,null);var e=Boolean(this.state.totalApiCalls)||Boolean(this.appCount().records.count)||Boolean(this.currentRecords);return r.default.createElement(u.default,{pageInfo:{currentView:"dashboard",appName:this.appName,appId:this.appId}},r.default.createElement("div",{className:"ad-detail-page ad-dashboard row"},"free"===this.state.plan?r.default.createElement("div",{className:"ad-detail-page-body col-xs-12"},r.default.createElement("section",{className:"col-xs-12 col-sm-8"},e?r.default.createElement(c.default,{apiCalls:this.state.apiCalls,graphMethod:this.state.graphMethod,info:this.state.info}):r.default.createElement(d.default,{appName:this.appName,appId:this.appId})),r.default.createElement("section",{className:"col-xs-12 col-sm-4"},r.default.createElement(l.default,{plan:this.state.plan,appCount:this.appCount()}),r.default.createElement(p.default,{plan:this.state.plan,appCount:this.appCount()}))):r.default.createElement(f.default,{appName:this.appName,plan:this.state.plan,appCount:this.appCount()})))},t}(n.Component);t.default=g},367:function(e,t,a){"use strict";t.__esModule=!0;var n=a(347);var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(n).default)("div",{target:"e1tnvnpn0"})("display:flex;flex-direction:",function(e){return e.flexDirection||"row"},";",function(e){var t=e.alignItems;return t&&(0,n.css)("align-items:",t,";")},";",function(e){var t=e.justifyContent;return t&&(0,n.css)("justify-content:",t,";")},";");t.default=r},372:function(e,t,a){"use strict";t.__esModule=!0,t.bannerMessages=t.requestLogs=t.popularResultsFull=t.popularSearchesFull=t.defaultColumns=t.popularResultsCol=t.popularFiltersCol=t.getTimeDuration=void 0;var n=a(140);t.getAnalytics=function(e){return new Promise(function(t,a){fetch(i.ACC_API+"/analytics/"+e+"/overview",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){a(e)})})},t.getPopularSearches=function(e){return new Promise(function(t,a){fetch(i.ACC_API+"/analytics/"+e+"/popularsearches",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e.popularSearches)}).catch(function(e){a(e)})})},t.getNoResultSearches=function(e){return new Promise(function(t,a){fetch(i.ACC_API+"/analytics/"+e+"/noresultsearches",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e.noResultSearches)}).catch(function(e){a(e)})})},t.getPopularResults=function(e){return new Promise(function(t,a){fetch(i.ACC_API+"/analytics/"+e+"/popularResults",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(){t(p.body.popularResults)}).catch(function(e){a(e)})})},t.getPopularFilters=function(e){return new Promise(function(t,a){fetch(i.ACC_API+"/analytics/"+e+"/popularFilters",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(){t(p.body.popularFilters)}).catch(function(e){a(e)})})},t.getRequestLogs=function(e){return new Promise(function(t,a){fetch(i.ACC_API+"/app/"+e+"/logs",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){a(e)})})};var r=l(a(1)),o=l(a(368)),i=a(94),s=l(a(367));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.css)("color:#00ff88;text-transform:uppercase;font-weight:500;padding:5px 10px;border-radius:3px;border:solid 1px #00ff88;"),u=(t.getTimeDuration=function(e){var t=o.default.duration((0,o.default)().diff(e)).asMilliseconds();if(t>=864e5){var a=parseInt(t/864e5,10);return{unit:"day",time:a,formattedUnit:a>1?"days":"day"}}if(t>=36e5){var n=parseInt(t/36e5,10);return{unit:"hr",time:n,formattedUnit:n>1?"hrs":"hr"}}if(t>=6e4){var r=parseInt(t/6e4,10);return{unit:"min",time:r,formattedUnit:r>1?"mins":"min"}}if(t>=1e3){var i=parseInt(t/1e3,10);return{unit:"sec",time:i,formattedUnit:i>1?"secs":"sec"}}return{unit:"ms",time:parseInt(t/1e3,10)}},t.popularFiltersCol=[{title:"Polpular Filters",dataIndex:"key",key:"key"},{title:"Impressions",dataIndex:"count",key:"count"},{title:"Click Rate",dataIndex:"clickrate",key:"clickrate"}],t.popularResultsCol=[{title:"Polpular Results",dataIndex:"key",key:"key"},{title:"Impressions",dataIndex:"count",key:"count"},{title:"Click Rate",dataIndex:"clickrate",key:"clickrate"}],t.defaultColumns=[{title:"Search Terms",dataIndex:"key",key:"key"},{title:"Total Queries",dataIndex:"count",key:"count"},{title:"Click Rate",dataIndex:"clickrate",key:"clickrate"}]),p=(t.popularSearchesFull=[].concat(u,[{title:"Clicks",dataIndex:"clicks",key:"clicks"},{title:"Click Position",dataIndex:"clickposition",key:"clickposition"},{title:"Conversion Rate",dataIndex:"conversionrate",key:"conversionrate"}]),{body:{popularsearches:[{key:"Iphone X",count:23,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:"Oculus VR",count:12,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:"One Plus",count:5,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35}],noresults:[{key:"Iphone 10",count:15,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:"Oclus VR",count:5,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:"One Plus",count:12,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35}],searchvolume:[{key:15313338e5,key_as_string:"2018-07-12T00:00:00.000Z",count:101,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:15314202e5,key_as_string:"2018-07-13T00:00:00.000Z",count:89,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:15315066e5,key_as_string:"2018-07-14T00:00:00.000Z",count:115,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:1531593e6,key_as_string:"2018-07-15T00:00:00.000Z",count:55,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:15316794e5,key_as_string:"2018-07-16T00:00:00.000Z",count:76,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:15317658e5,key_as_string:"2018-07-17T00:00:00.000Z",count:110,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:15318522e5,key_as_string:"2018-07-18T00:00:00.000Z",count:125,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35}],popularFilters:[{key:"category",value:"apple",count:3,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35},{key:"since",value:"2016-2018",count:2,clicks:25,clickposition:1.82,clickrate:12.5,conversionrate:1.35}],popularResults:[{key:"abcxyz",source:JSON.stringify({random:"a",stuff:"b"}),count:35,clicks:25,clickrate:12.5,conversionrate:1.35},{key:"12341",source:JSON.stringify({random:"a",stuff:"b"}),count:14,clicks:25,clickrate:12.5,conversionrate:1.35}]}});t.popularResultsFull=[].concat(u,[{title:"Clicks",dataIndex:"clicks",key:"clicks"},{title:"Source",dataIndex:"source",key:"source"},{title:"Conversion Rate",dataIndex:"conversionrate",key:"conversionrate"}]),t.requestLogs=[{title:"Operation",dataIndex:"operation",key:"operation",render:function(e){return r.default.createElement("div",null,r.default.createElement(s.default,null,r.default.createElement("div",{className:(0,n.css)("width:70px")},r.default.createElement("span",{className:(0,n.css)(c)},e.method)),r.default.createElement("div",null,r.default.createElement("span",{className:(0,n.css)("color:#74A2FF;margin-left:10px")},e.uri))))}},{title:"Classifier",dataIndex:"classifier",key:"classifier"},{title:"Time",dataIndex:"timeTaken",key:"timeTaken"},{title:"Status",dataIndex:"status",key:"status"}];t.bannerMessages={free:{title:"Unlock the ROI impact of your search",description:"Get a paid plan to see actionable analytics on search volume, popular searches, no results, track clicks and conversions.",buttonText:"Upgrade Now",href:"/billing"},bootstrap:{title:"Get richer analytics on clicks and conversions",description:"By upgrading to the Growth plan, you can get more actionable analytics on popular filters, popular results, and track clicks and conversions along with a 30-day retention.",buttonText:"Upgrade To Growth",href:"/billing",isHorizontal:!0},growth:{title:"Learn how to track click analytics",description:"See our docs on how to track search, filters, click events, conversions and your own custom events.",buttonText:"Read Docs",isHorizontal:!0,href:"https://docs.appbase.io"}}},378:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),r=p(n),o=a(39),i=p(a(36)),s=p(a(141)),l=a(38),c=p(a(93)),u=a(16);function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.config=c.default,n.contextPath=u.appbaseService.getContextPath(),n.state={activeApp:n.props.appName},n.stopUpdate=!1,n.links=[{label:"Dashboard",link:n.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:r.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Mappings",link:n.contextPath+"mappings/",type:"internal",name:"mappings",tooltip:"View or update mappings",img:r.default.createElement("img",{className:"img-responsive",alt:"mappings",src:"../../../assets/images/"+n.config.name+"/sidebar/mapping.svg"})},{label:"Search Sandbox",link:n.contextPath+"search-sandbox/",type:"internal",name:"search-sandbox",tooltip:"Update search preferences",img:r.default.createElement("img",{className:"img-responsive",alt:"search-sandbox",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Browser",link:n.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:r.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+n.config.name+"/sidebar/browser.svg"})},{label:"Analytics",link:n.contextPath+"analytics/",type:"internal",name:"analytics",tooltip:"View app analytics",img:r.default.createElement("img",{className:"img-responsive",alt:"analytics",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Credentials",link:n.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:r.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+n.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:n.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:r.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+n.config.name+"/sidebar/team.svg"})}],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,a=null;switch(e){case"links":a=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,a){var n=(0,i.default)({active:t.props.currentView===e.name}),l=r.default.createElement("div",{className:"img-container"},e.img),c=r.default.createElement(o.Link,{className:n,to:e.link+t.state.activeApp},l,r.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return r.default.createElement(s.default,{overlay:r.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(a+1)},r.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(a+1)},c))})}return a},t.prototype.render=function(){var e=this;return r.default.createElement("aside",{className:"ad-detail-sidebar"},r.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(n.Component);t.default=d},379:function(e,t,a){"use strict";t.__esModule=!0;var n=c(a(0)),r=a(1),o=c(r),i=c(a(378)),s=c(a(93)),l=a(16);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){return o.default.createElement("div",{className:"page404"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},o.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},"Go to"," ",o.default.createElement("a",{href:"/apps"},"/apps",o.default.createElement("i",{className:"fa fa-cursor"})))))},p=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={showChild:!1},n.selectedApp=n.props.pageInfo.appName,n.config=s.default,n.getAllApps(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var a=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!a||!a.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=o.default.Children.map(this.props.children,function(e){return o.default.cloneElement(e,{})});return o.default.createElement("div",{className:"ad-detail row"},o.default.createElement(i.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),o.default.createElement("div",{className:"ad-detail-view-container"},o.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?o.default.createElement(u,null):null)))},t}(r.Component);t.default=p,p.propTypes={pageInfo:n.default.shape({currentView:n.default.string.isRequired,appName:n.default.string.isRequired,appId:n.default.oneOfType([n.default.number.isRequired,n.default.string.isRequired])})},p.defaultProps={}},380:function(e,t,a){"use strict";t.__esModule=!0,t.ErrorLogger=t.Input=t.deleteBtn=t.Button=t.Footer=t.subItem=t.item=t.dropdown=t.title=t.row=t.heading=t.Header=t.HeaderWrapper=t.card=void 0;var n=a(347),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.card=(0,n.css)("width:100%;max-width:980px;margin:25px auto;background-color:#fff;border-radius:3px;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);box-sizing:border-box;i{margin:3px 3px 0px 8px;}"),t.HeaderWrapper=(0,r.default)("div",{target:"e1tvtz600"})("display:flex;flex-direction:column;align-items:flex-start;justify-content:center;p{font-size:13px;margin:6px 0 0;color:#999;}"),t.Header=(0,r.default)("header",{target:"e1tvtz601"})("display:flex;flex-direction:row;justify-content:space-between;font-weight:600;padding-top:20px;.col{min-width:150px;display:inline-flex;margin:0 0 0 12px;text-align:center;&:first-child{margin:0;}&.col--grow{flex-grow:1;}}"),t.heading=(0,n.css)("font-size:16px;letter-spacing:0.015rem;font-weight:600;margin:0;padding:0;"),t.row=(0,n.css)("box-sizing:border-box;background-color:rgba(0,0,0,0.02);padding:15px 0 15px 15px;margin:15px 0;border:1px solid rgba(0,0,0,0.05);"),t.title=(0,n.css)("font-size:15px;letter-spacing:0.015rem;font-weight:600;margin:0 0 12px 0;padding:0;"),t.dropdown=(0,n.css)("width:auto;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;margin-left:12px;padding:6px 15px 6px 6px;text-transform:capitalize;"),t.item=(0,n.css)("display:flex;flex-direction:row;justify-content:space-between;padding:10px;margin-bottom:2px;align-items:center;background-color:rgba(255,255,255,0.8);"),t.subItem=(0,n.css)("display:flex;flex-direction:row;align-items:center;"),t.Footer=(0,r.default)("footer",{target:"e1tvtz602"})("position:sticky;bottom:0;width:100%;height:66px;box-shadow:0 -3px 5px 0 rgba(0,0,0,0.02);background-color:#fff;transition:all .3s ease;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:0 20px;display:flex;flex-direction:row-reverse;align-items:center;"),t.Button=(0,r.default)("a",{target:"e1tvtz603"})("display:inline-flex;height:42px;padding:0 20px;justify-content:center;align-items:center;color:#53683b;font-weight:600;background-color:",function(e){return e.ghost?"#efefef":"#b6ef7e"},";;text-transform:uppercase;box-shadow:0 3px 3px 0 rgba(0,0,0,0.1);cursor:pointer;margin-left:12px;&:hover,&:focus{background-color:",function(e){return e.ghost?"#fafafa":"#c3f295"},";box-shadow:0 5px 5px 0 rgba(0,0,0,0.1);text-decoration:none;}"),t.deleteBtn=(0,n.css)("display:flex;flex-grow:1;alignItems:center;flex-direction:row;cursor:pointer;span{max-width:calc(100% - 40px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}a{display:none;cursor:pointer;color:#444;margin-left:15px;transition:all .3s ease;}&:hover a,&:focus a{display:inline;&:hover,&:focus{color:#222;}}"),t.Input=(0,r.default)("input",{target:"e1tvtz604"})("diplay:flex;flex-grow:1;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;padding:5px;"),t.ErrorLogger=(0,r.default)("pre",{target:"e1tvtz605"})("height:auto;max-height:200px;overflow-y:scroll;width:100%;background-color:#eee;padding:10px;font-family:monospace;font-size:14px;")},408:function(e,t,a){"use strict";t.__esModule=!0,t.billingService=void 0;var n=a(38),r=a(94);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.address=r.ACC_API,this.billingAddress="https://transactions.appbase.io",this.planLimits={free:{action:1e5,records:1e4},bootstrap:{action:1e6,records:5e4},growth:{action:1e7,records:1e6}},this.prices={monthly:{bootstrap:29,growth:99,dedicated:499},annual:{bootstrap:19,growth:69,dedicated:299}}}return e.prototype.getCustomer=function(e){return n.$http.start({url:this.billingAddress+"/api/me",data:e,method:"POST"})},e.prototype.createCustomer=function(e){return n.$http.start({url:this.billingAddress+"/api/createCustomer",data:e,method:"POST"})},e.prototype.stripeConnect=function(e){return n.$http.start({url:this.billingAddress+"/api/stripeConnect",data:e,method:"POST"})},e.prototype.updateStripeCustomer=function(e){return n.$http.start({url:this.billingAddress+"/api/updateStripeCustomer",data:e,method:"POST"})},e.prototype.updateCustomer=function(e,t){return n.$http.start({url:this.billingAddress+"/api/updateCustomer/"+t,data:e,method:"POST"})},e.prototype.paymentInfo=function(e,t){return n.$http.start({url:this.billingAddress+"/api/paymentInfo",data:e,method:"POST"})},e.prototype.updateSubscribe=function(e){return n.$http.start({url:this.billingAddress+"/billing/subscribe",data:e,method:"PUT"})},e.prototype.cancelSubscription=function(e){return n.$http.start({url:this.billingAddress+"/billing/cancelSubscription",data:e,method:"POST"})},e.prototype.usage=function(e,t){var a=this.billingAddress+"/usage";return e&&t&&(a=this.billingAddress+"/usage?start="+e+"&end="+t),n.$http.start({url:a,method:"GET"})},e.prototype.calculator=function(){return n.$http.start({url:this.billingAddress+"/calculator",method:"GET"})},e}();t.billingService=new o},419:function(e,t,a){"use strict";t.__esModule=!0;var n=i(a(1)),r=a(365),o=i(a(367));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=n.default.createElement(r.Icon,{type:"loading",style:{fontSize:50,marginTop:"250px"},spin:!0});return n.default.createElement(o.default,{justifyContent:"center",alignItems:"center"},n.default.createElement(r.Spin,{indicator:e}))}},435:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140);t.default={formLabel:(0,n.css)("font-weight:500;color:black;font-size:14px;"),subHeader:(0,n.css)("margin-left:10px;font-weight:100;font-size:14px;"),addedWhiteList:(0,n.css)("background-color:#fbfcfe;border:solid 1px #83a2ee;border-radius:2px;padding:5px 10px;color:#343e54;margin-bottom:15px;width:100%;"),description:(0,n.css)("font-size:12px,font-weight:100;"),serachResultsCls:(0,n.css)("border:solid 1px #d9d9d9;border-top:none;border-radius:3px;position:absolute;width:100%;background-color:#fff;z-index:1;"),error:(0,n.css)("color:red;font-size:12px;padding:5px;"),fieldBadge:(0,n.css)("margin-left:2px;font-size:10px;background-color:#a2a4aa;border-radius:3px;padding:1px 2px;color:#fff;"),overlay:(0,n.css)("position:absolute;top:160px;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.8);z-index:9999;color:black;"),upgradePlan:(0,n.css)("margin-top:200px;font-size:16px;font-weight:500;text-align:center;")}},436:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=function(e){return e&&e.__esModule?e:{default:e}}(a(1)),o=a(365),i=a(372);var s=function(e){var t=e.title,a=e.dataSource,i=e.columns,s=e.showViewOption,l=e.onClick;return r.default.createElement(o.Card,{title:t},r.default.createElement(o.Table,{dataSource:a,columns:i,pagination:!1}),s&&r.default.createElement(o.Button,{onClick:function(){return l()},className:(0,n.css)("width:100%;height:50px;margin-top:10px;")},"VIEW ALL"))};s.defaultProps={columns:i.defaultColumns,showViewOption:!0},t.default=s},450:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=c(a(1)),o=c(a(0)),i=a(365),s=c(a(435)),l=c(a(367));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.label,a=e.component,o=e.toolTipMessage;return r.default.createElement(l.default,{className:(0,n.css)("margin-top:30px")},r.default.createElement(l.default,{className:(0,n.css)("flex:25%")},r.default.createElement("div",null,r.default.createElement("span",{className:(0,n.css)(s.default.formLabel)},t,o&&r.default.createElement(i.Tooltip,{className:(0,n.css)("margin-left:5px;color:#898989"),overlay:o,mouseLeaveDelay:0},r.default.createElement("i",{className:"fas fa-info-circle"}))))),r.default.createElement(l.default,{className:(0,n.css)("flex:75%;margin-left:20px")},a))};u.propTypes={label:o.default.oneOfType([o.default.string,o.default.node]),component:o.default.node,toolTipMessage:o.default.any},t.default=u},569:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=c(a(1)),o=c(a(0)),i=a(365),s=c(a(450)),l=a(372);function c(e){return e&&e.__esModule?e:{default:e}}var u=i.Tabs.TabPane,p=(0,n.css)(".ant-modal-content{width:580px;}"),d=(0,n.css)("background-color:rgb(190,245,255,0.1);"),f=function(e){var t=e.show,a=e.handleCancel,o=e.time,c=e.method,f=e.url,h=e.ip,m=e.processingTime,g=e.status,b=e.headers,y=e.request,v=e.response,w=(0,l.getTimeDuration)(m);return r.default.createElement(i.Modal,{style:{width:"600px"},className:(0,n.css)(p),footer:[r.default.createElement(i.Button,{key:"back",onClick:a},"Cancel")],visible:t,onCancel:a},r.default.createElement("span",{className:(0,n.css)("font-weight:500;color:black;font-size:16px;")},"Log Details"),r.default.createElement(s.default,{label:"Time",component:o}),r.default.createElement(s.default,{label:"Method",component:c.toUpperCase()}),r.default.createElement(s.default,{label:"Url",component:f}),r.default.createElement(s.default,{label:"IP",component:h}),r.default.createElement(s.default,{label:"Response Code",component:g}),m&&r.default.createElement(s.default,{label:"Processing Time",component:w.time+" "+w.formattedUnit}),r.default.createElement(i.Tabs,{className:(0,n.css)("margin-top:30px"),animated:!1,defaultActiveKey:"response"},r.default.createElement(u,{tab:"Response",key:"response"},r.default.createElement("pre",{className:(0,n.css)(d)},JSON.stringify(v,null,2))),r.default.createElement(u,{tab:"Request",key:"request"},r.default.createElement("pre",{className:(0,n.css)(d)},JSON.stringify(y,null,2))),r.default.createElement(u,{tab:"Headers",key:"headers"},r.default.createElement("pre",{className:(0,n.css)(d)},JSON.stringify(b,0,2)))))};f.defaultProps={show:!1},f.propTypes={show:o.default.bool,handleCancel:o.default.func,time:o.default.string.isRequired,method:o.default.string.isRequired,url:o.default.string.isRequired,ip:o.default.string.isRequired,status:o.default.oneOfType([o.default.string,o.default.number]).isRequired,processingTime:o.default.string.isRequired,headers:o.default.object.isRequired,request:o.default.object.isRequired,response:o.default.object.isRequired},t.default=f},570:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=d(a(1)),o=d(a(695)),i=d(a(142)),s=a(365),l=d(a(0)),c=a(372),u=d(a(569)),p=d(a(419));function d(e){return e&&e.__esModule?e:{default:e}}var f=s.Tabs.TabPane,h=function(e){return e.map(function(e){var t=(0,c.getTimeDuration)((0,i.default)(e,"_source.timestamp"));return{id:(0,i.default)(e,"_id"),operation:{method:(0,i.default)(e,"_source.request.method"),uri:(0,i.default)(e,"_source.request.uri")},classifier:(0,i.default)(e,"_source.classifier","").toUpperCase(),timeTaken:t.time+" "+t.formattedUnit+" ago",status:(0,i.default)(e,"_source.response.status")}})},m=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.changeActiveTabKey=function(e){n.setState({activeTabKey:e},function(){return n.redirectTo(e)})},n.redirectTo=function(e){n.props.changeUrlOnTabChange&&window.history.pushState(null,null,window.location.origin+"/analytics/"+n.props.appName+"/requestLogs/"+e)},n.handleLogClick=function(e){n.currentRequest=n.state.logs&&(0,o.default)(n.state.logs,function(t){return(0,i.default)(t,"_id")===e.id}),n.setState({showDetails:!0})},n.handleCancel=function(){n.setState({showDetails:!1})},n.tabKeys=["all","search","success","error"],n.state={activeTabKey:n.tabKeys.includes(a.tab)?a.tab:n.tabKeys[0],logs:void 0,isFetching:!0,hits:[],successHits:[],errorHits:[],searchHits:[],showDetails:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,c.getRequestLogs)(this.props.appName).then(function(t){var a=function(){var e=[],t=[],a=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(n){var r=(0,i.default)(n,"_source.response.status");"search"===(0,i.default)(n,"_source.classifier")&&a.push(n),r>=200&&r<=300?e.push(n):t.push(n)}),{successHits:e,errorHits:t,searchHits:a}}(t.hits);e.setState({logs:t.hits,isFetching:!1,hits:h(t.hits),successHits:h(a.successHits),errorHits:h(a.errorHits),searchHits:h(a.searchHits)})}).catch(function(){e.setState({isFetching:!1})})},t.prototype.render=function(){var e=this,t=this.state,a=t.activeTabKey,o=t.hits,l=t.isFetching,d=t.showDetails,h=t.successHits,m=t.errorHits,g=t.searchHits;return l?r.default.createElement(p.default,null):r.default.createElement(s.Card,{title:"Latest Operations"},r.default.createElement(s.Tabs,{animated:!1,onTabClick:this.changeActiveTabKey,activeKey:a},r.default.createElement(f,{tab:"ALL",key:this.tabKeys[0]},r.default.createElement(s.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:o,columns:c.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}})),r.default.createElement(f,{tab:"SEARCH",key:this.tabKeys[1]},r.default.createElement(s.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:g,columns:c.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}})),r.default.createElement(f,{tab:"SUCCESS",key:this.tabKeys[2]},r.default.createElement(s.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:h,columns:c.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}})),r.default.createElement(f,{tab:"ERROR",key:this.tabKeys[3]},r.default.createElement(s.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:m,columns:c.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}}))),d&&this.currentRequest&&r.default.createElement(u.default,{show:d,handleCancel:this.handleCancel,headers:(0,i.default)(this.currentRequest,"_source.request.headers",{}),request:(0,i.default)(this.currentRequest,"_source.request.body",{}),response:(0,i.default)(this.currentRequest,"_source.response.body",{}),time:(0,i.default)(this.currentRequest,"_source.timestamp",""),method:(0,i.default)(this.currentRequest,"_source.request.method",""),url:(0,i.default)(this.currentRequest,"_source.request.uri",""),ip:(0,i.default)(this.currentRequest,"_source.request.headers.X-Forwarded-For[0]"),status:(0,i.default)(this.currentRequest,"_source.response.status",""),processingTime:(0,i.default)(this.currentRequest,"_source.response.timetaken","")}))},t}(r.default.Component);m.defaultProps={changeUrlOnTabChange:!0},m.propTypes={appName:l.default.string.isRequired,changeUrlOnTabChange:l.default.bool},t.default=m},577:function(e,t,a){"use strict";t.__esModule=!0;var n=i(a(1)),r=a(607),o=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.data,a=e.height,o=e.width;return n.default.createElement(r.LineChart,{width:o,height:a,data:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=e,a=new Date(e.key_as_string);return t.formatDate=a.getMonth()+1+"/"+a.getDate(),t})}(t),margin:{top:5,right:20,left:10,bottom:5}},n.default.createElement(r.XAxis,{dataKey:"formatDate"}),n.default.createElement(r.YAxis,{dataKey:"count"}),n.default.createElement(r.Tooltip,null),n.default.createElement(r.CartesianGrid,{stroke:"#f5f5f5"}),n.default.createElement(r.Line,{type:"monotone",dataKey:"count",stroke:"#ff7300"}))};s.propTypes={data:o.default.array,width:o.default.number,height:o.default.number},t.default=s},750:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=d(a(1)),o=a(365),i=a(522),s=d(a(142)),l=d(a(367)),c=a(38),u=a(408),p=a(380);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,n.css)("top:40px;left:35px;position:absolute;");t.default=function(e){var t=e.plan,a=e.appCount;return r.default.createElement(o.Card,{title:"Usage this month",className:(0,n.css)("width:300px")},r.default.createElement(l.default,{justifyContent:"center",alignItems:"center"},r.default.createElement("div",{className:(0,n.css)("width:100px;position:relative")},r.default.createElement("div",{className:(0,n.css)(f)},(0,s.default)(a,"action.percentage")+"%"),r.default.createElement(i.Circle,{style:{minWidth:"100px"},percent:(0,s.default)(a,"action.percentage"),strokeWidth:"5",trailWidth:"5",strokeColor:"#4F8FFD"}),r.default.createElement(l.default,{flexDirection:"column",justifyContent:"center",alignItems:"center"},r.default.createElement("div",{className:"sub-title"},"API calls"),t?r.default.createElement("div",null,r.default.createElement("strong",null,c.common.compressNumber((0,s.default)(a,"action.count")))," / ",r.default.createElement("span",null,c.common.compressNumber(u.billingService.planLimits[t].action))):null)),r.default.createElement("div",{className:(0,n.css)("width:100px;position:relative;margin-left:20px")},r.default.createElement("div",{className:(0,n.css)(f)},(0,s.default)(a,"records.percentage")+"%"),r.default.createElement(i.Circle,{style:{minWidth:"100px"},percent:(0,s.default)(a,"records.percentage"),strokeWidth:"5",trailWidth:"5",strokeColor:"#4F8FFD"}),r.default.createElement(l.default,{flexDirection:"column",justifyContent:"center",alignItems:"center"},r.default.createElement("div",null,"Records"),t?r.default.createElement("div",null,r.default.createElement("strong",null,c.common.compressNumber((0,s.default)(a,"records.count")))," / ",r.default.createElement("span",null,c.common.compressNumber(u.billingService.planLimits[t].records))):null))),r.default.createElement(l.default,{justifyContent:"center",alignItems:"center"},r.default.createElement(p.Button,{className:(0,n.css)("margin-top:30px;width:100%;"),href:"/billing",target:"_blank"},"Upgrade Now")))}}}]);
>>>>>>> builds
=======
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1427:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=s(a),i=(n(39),n(16)),o=s(n(398));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.confirmBoxInfo={title:r.default.createElement("span",null,"Delete App"),description:r.default.createElement("p",null,"Type the app name ",r.default.createElement("strong",null,a.props.appName)," below to delete the app. This action cannot be undone."),validate:{value:a.props.appName,placeholder:"Type app name"},buttons:{cancel:"Go back",confirm:"Confirm"}},a.deleteApp=a.deleteApp.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.deleteApp=function(){i.appbaseService.deleteApp(this.props.appId).then(function(e){i.appbaseService.pushUrl("/apps")}).catch(function(e){console.log(e)})},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.render=function(){return r.default.createElement("div",{className:"delete-card delete-active col-xs-12"},r.default.createElement("header",{className:"col-xs-12 col-xs-offset-1 pull-right delete-title"},r.default.createElement("summary",{className:"delete-app-container"},r.default.createElement(o.default,{info:this.confirmBoxInfo,onConfirm:this.deleteApp,type:"danger"},r.default.createElement("a",{className:"ad-theme-btn danger ad-confirm-btn"},"Delete App")),r.default.createElement("aside",{className:"permission-card-body"},r.default.createElement("span",{className:"permission-delete-card-description"},"Deleting an app is a permanent action, and will delete all the associated data, credentials and team sharing settings.")))))},t}(a.Component);t.default=l},1428:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=u(n(1)),o=n(364),s=u(n(0)),l=u(n(439)),c=u(n(455)),p=u(n(366)),d=n(574);function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSelectOption=function(e){a.setState(function(){var t=a.props.control;return e&&!t.value.includes(e)?(t.onChange([].concat(t.value,[e])),{text:void 0}):{text:void 0}})},a.hanldeOnChange=function(e){a.setState({text:e})},a.handleOnSearch=function(e){e&&e.startsWith("**")||a.setState({text:e.trim()})},a.removeItem=function(e){var t=a.props.control,n=t.value,r=n.indexOf(e);r>-1&&(n.splice(r,1),t.onChange(n))},a.submitOnBlur=function(){a.props.control.value.includes(a.state.text)?(a.setState({text:void 0}),a.props.control.setErrors(void 0)):(0,d.ipValidator)(a.state.text)?(a.props.control.onChange([].concat(a.props.control.value,[a.state.text])),a.setState({text:void 0})):a.state.text?a.props.control.setErrors({invalidIP:!0}):a.props.control.setErrors(void 0)},a.inputRef=void 0,a.state={text:void 0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.label,s=t.inputProps,u=t.defaultSuggestionValue,f=t.control,m=f.value,h=f.handler,y=f.hasError,g=t.type,b=t.toolTipMessage,v=this.state.text;return i.default.createElement(c.default,{label:i.default.createElement("span",{className:(0,a.css)(l.default.subHeader)},n),toolTipMessage:b,component:i.default.createElement(p.default,{className:(0,a.css)("width:100%;position:relative"),flexDirection:"column"},m.map(function(t){return i.default.createElement(p.default,{key:t,justifyContent:"space-between",className:(0,a.css)(l.default.addedWhiteList)},i.default.createElement("div",null,i.default.createElement("div",null,t),"dropdown"===g&&i.default.createElement("div",{className:(0,a.css)("font-size:12px;font-weight:normal")},(0,d.getSuggestionCode)(t))),i.default.createElement("div",{className:(0,a.css)("cursor:pointer")},i.default.createElement(o.Icon,{onClick:function(){return e.removeItem(t)},type:"close-circle-o"})))}),i.default.createElement("div",null,"dropdown"===g?i.default.createElement(o.Select,r({showSearch:!0},s,{value:v,onSearch:this.handleOnSearch,onSelect:this.handleSelectOption,onBlur:this.handleSelectOption,defaultActiveFirstOption:!!v,showArrow:!1,filterOption:!1,style:{width:"100%"}}),"*"===v&&1===v.length?i.default.createElement(o.Select.Option,{key:"*"},i.default.createElement(p.default,{justifyContent:"space-between"},i.default.createElement("span",null,"*"),i.default.createElement("span",{className:(0,a.css)(l.default.description)},(0,d.getSuggestionCode)("*")))):Object.keys(d.Suggestions).map(function(e){var t=d.Suggestions[e];if(v){var n=""+t.prefix+v+t.suffix;return i.default.createElement(o.Select.Option,{key:n},i.default.createElement(p.default,{justifyContent:"space-between"},i.default.createElement("span",null,n),i.default.createElement("span",{className:(0,a.css)(l.default.description)},t.description)))}return i.default.createElement(o.Select.Option,{className:(0,a.css)("pointer-events:none"),key:e},i.default.createElement(p.default,{justifyContent:"space-between",className:(0,a.css)("color:#d9d9d9;font-weight:100;font-size:12px")},i.default.createElement("span",null,t.prefix,u,t.suffix),i.default.createElement("span",{className:(0,a.css)(l.default.description)},t.description)))})):i.default.createElement(o.Input,r({},s,h(),{value:v,onChange:function(t){e.hanldeOnChange(t.target.value)},onBlur:this.submitOnBlur,onKeyPress:function(t){"Enter"===t.key&&e.submitOnBlur()}})),y("invalidIP")&&i.default.createElement("div",{className:(0,a.css)(l.default.error)},"Not a valid IP")))})},t}(i.default.Component);f.propTypes={label:s.default.string,toolTipMessage:s.default.any,inputProps:s.default.object,defaultSuggestionValue:s.default.string,control:s.default.object,type:s.default.oneOf(["dropdown"])},t.default=f},1429:function(e,t,n){"use strict";t.__esModule=!0,t.createCredentials=t.hoverMessage=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.hoverMessage=function(){return a.default.createElement("div",{style:{maxWidth:220}},"All appbase.io paid plans offer setting ACLs, rate limits per IP and advanced security permissions based on IP sources, HTTP Referers and restricting what fields are accessible.")},t.createCredentials={description:function(){return a.default.createElement("div",{style:{maxWidth:220}},"An optional description for your credential key.")},operationType:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Depending on the selection, the key can perform read-only, write-only or both read and write operations.")},acls:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Authorize API access to only selected operations.")},security:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Authorize API access based on selected HTTP Referers and IP Source values.")},referers:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Only selected HTTP Referers (aka URIs) are authorized to call the API with this credential.")},sources:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Only selected IP ranges (in CIDR format) are authorized to call the API with this credential.")},fieldFiltering:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Restrict fields that are returned when performing a search operation.")},include:function(){return a.default.createElement("div",{style:{maxWidth:220}},"All selected fields are returned in the search response.")},exclude:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Selected fields aren't returned in the search response. In case of a field being present in both include and exclude, exclude has a priority.")},ttl:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Expiry time for this credential (in seconds). 0 means that it doesn't expire.")},ipLimit:a.default.createElement("div",{style:{maxWidth:220}},"Set a per hour ratelimit on API calls per IP address.")}},1431:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=v(n(1)),s=v(n(0)),l=n(364),c=n(1430),p=v(n(142)),d=v(n(439)),u=n(382),f=v(n(455)),m=v(n(366)),h=n(1429),y=n(508),g=n(574),b=v(n(1428));function v(e){return e&&e.__esModule?e:{default:e}}var E=l.Select.Option,w=l.Checkbox.Group,x=(0,a.css)(".ant-modal-content{width:580px;}"),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSubmit=function(){a.props.onSubmit(a.form,(0,p.default)(a.props,"initialValues.meta.username"))},a.form=c.FormBuilder.group({description:"",operationType:[g.Types.read,c.Validators.required],acl:[{value:g.defaultAclOptions,disabled:!n.isPaidUser},c.Validators.required],referers:[{value:["*"],disabled:!n.isPaidUser}],sources:[{value:["0.0.0.0/0"],disabled:!n.isPaidUser}],include_fields:[{value:["*"],disabled:!n.isPaidUser}],exclude_fields:[{value:[],disabled:!0}],ip_limit:[{value:7200,disabled:!n.isPaidUser},[c.Validators.required,g.isNegative]],ttl:[{value:0,disabled:!n.isPaidUser},[c.Validators.required,g.isNegative]]}),a.mappings=(0,y.traverseMapping)(a.props.mappings,!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.form.get("include_fields"),t=this.form.get("exclude_fields");e.valueChanges.subscribe(function(e){e.includes("*")?(t.disable({emitEvent:!1}),t.reset([])):t.enable({emitEvent:!1})}),t.valueChanges.subscribe(function(t){t.includes("*")?(e.disable({emitEvent:!1}),e.reset([])):e.enable({emitEvent:!1})}),this.props.initialValues&&this.form.patchValue(this.props.initialValues)},t.prototype.componentWillReceiveProps=function(e){e.mappings!==this.props.mappings&&(this.mappings=(0,y.traverseMapping)(e.mappings))},t.prototype.componentWillUnmount=function(){this.form.get("include_fields").valueChanges.unsubscribe(),this.form.get("exclude_fields").valueChanges.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props,n=t.show,i=t.handleCancel,s=t.isPaidUser,p=t.isSubmitting;return o.default.createElement(c.FieldGroup,{strict:!1,control:this.form,render:function(t){var y=t.invalid;return o.default.createElement(l.Modal,{style:{width:"600px"},className:(0,a.css)(x),footer:[o.default.createElement(l.Button,{key:"back",onClick:i},"Cancel"),o.default.createElement(l.Button,{loading:p,disabled:y,key:"submit",type:"primary",onClick:e.handleSubmit},e.isEditing?"Save":"Generate")],visible:n,onCancel:i},o.default.createElement("div",{className:(0,a.css)("position:relative")},o.default.createElement("span",{className:(0,a.css)("font-weight:500;color:black;font-size:16px;")},e.isEditing?"Edit credential":"Create a new credential"),o.default.createElement(c.FieldControl,{strict:!1,name:"description",render:function(t){var n=t.handler;return o.default.createElement(f.default,{label:"Description",toolTipMessage:h.createCredentials.description,component:o.default.createElement(l.Input,r({autoFocus:!e.isEditing,placeholder:"Add an optional description for this credential"},n()))})}}),o.default.createElement(c.FieldControl,{name:"operationType",render:function(e){var t=e.handler;return o.default.createElement(f.default,{label:"Key Type",toolTipMessage:h.createCredentials.operationType,component:o.default.createElement(l.Radio.Group,r({},t(),{className:(0,a.css)("label{font-weight:100}")}),Object.keys(g.Types).map(function(e){return o.default.createElement(l.Radio,{key:e,value:g.Types[e]},g.Types[e].description)}))})}}),!s&&o.default.createElement("div",{className:(0,a.css)(d.default.overlay)},o.default.createElement("div",{className:(0,a.css)(d.default.upgradePlan)},o.default.createElement("div",{style:{marginBottom:20}},o.default.createElement(l.Icon,{type:"lock",className:(0,a.css)("font-size:40px")})),"Upgrade to a paid plan to add advanced security permissions.",o.default.createElement(l.Tooltip,{overlay:h.hoverMessage,mouseLeaveDelay:0},o.default.createElement("i",{className:"fas fa-info-circle"})),o.default.createElement(u.Button,{className:(0,a.css)("margin-top:10px"),href:"/billing",target:"_blank",style:{marginTop:20}},"Upgrade Now"))),o.default.createElement(c.FieldControl,{name:"acl",render:function(e){var t=(0,e.handler)();return o.default.createElement(f.default,{label:"ACLs",toolTipMessage:h.createCredentials.acls,component:o.default.createElement(w,r({className:(0,a.css)("label{font-weight:100}")},t,{options:g.aclOptions.map(function(e){return g.aclOptionsLabel[e]}),value:t.value.map(function(e){return g.aclOptionsLabel[e]}),onChange:function(e){t.onChange(e.map(function(e){return e.toLowerCase()}))}}))})}}),o.default.createElement(f.default,{label:"Security",toolTipMessage:h.createCredentials.security}),o.default.createElement(c.FieldControl,{name:"referers",render:function(e){return o.default.createElement(b.default,{toolTipMessage:h.createCredentials.referers,control:e,type:"dropdown",defaultSuggestionValue:"https://example.com/",label:"HTTP Referers",inputProps:{placeholder:"Add a HTTP Referer"}})}}),o.default.createElement(c.FieldControl,{name:"sources",render:function(e){return o.default.createElement(b.default,{control:e,toolTipMessage:h.createCredentials.sources,label:"IP Sources",defaultValue:{value:"0.0.0.0/0 (default)",description:"Matches all IP sources"},inputProps:{placeholder:"Add an IP Source in CIDR format"}})}}),o.default.createElement("div",{className:(0,a.css)("margin-top:30px")},o.default.createElement("span",{className:(0,a.css)(d.default.formLabel)},"Fields Filtering"),o.default.createElement(l.Tooltip,{className:(0,a.css)("margin-left:5px;color:#898989"),overlay:h.createCredentials.fieldFiltering,mouseLeaveDelay:0},o.default.createElement("i",{className:"fas fa-info-circle"}))),o.default.createElement(c.FieldControl,{strict:!1,name:"include_fields",render:function(t){var n=(0,t.handler)(),i=e.form.get("exclude_fields").value;return o.default.createElement(f.default,{label:o.default.createElement("span",{className:(0,a.css)(d.default.subHeader)},"Include"),toolTipMessage:h.createCredentials.include,component:o.default.createElement(l.Select,r({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},n,{onChange:function(e){e.includes("*")?n.onChange(["*"]):n.onChange(e)}}),o.default.createElement(E,{key:"*"},"* (Include all fields)"),Object.keys(e.mappings).map(function(t){return e.mappings[t].map(function(e){return i.includes(e)?null:o.default.createElement(E,{value:e,key:e,title:e},e,o.default.createElement("span",{className:(0,a.css)(d.default.fieldBadge)},t))})}))})}}),o.default.createElement(c.FieldControl,{strict:!1,name:"exclude_fields",render:function(t){var n=(0,t.handler)(),i=e.form.get("include_fields").value;return o.default.createElement(f.default,{label:o.default.createElement("span",{className:(0,a.css)(d.default.subHeader)},"Exclude"),toolTipMessage:h.createCredentials.exclude,component:o.default.createElement(l.Select,r({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},n,{onChange:function(e){e.length&&e.includes("*")?n.onChange(["*"]):n.onChange(e)}}),o.default.createElement(E,{key:"*"},"* (Exclude all fields)"),Object.keys(e.mappings).map(function(t){return e.mappings[t].map(function(e){return i.includes(e)?null:o.default.createElement(E,{value:e,key:e},e,o.default.createElement("span",{className:(0,a.css)(d.default.fieldBadge)},t))})}))})}}),o.default.createElement(c.FieldControl,{name:"ip_limit",render:function(e){var t=e.handler,n=e.hasError;return o.default.createElement(f.default,{label:"Max API calls/IP/hour",toolTipMessage:h.createCredentials.ipLimit,component:o.default.createElement(m.default,{justifyContent:"center",alignItems:"center"},o.default.createElement(l.Input,r({type:"number",className:(0,a.css)("border:solid 1px #9195A2!important;width:120px")},t())),n("isNegative")&&o.default.createElement("span",{className:(0,a.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}}),o.default.createElement(c.FieldControl,{name:"ttl",render:function(e){var t=e.handler,n=e.hasError;return o.default.createElement(f.default,{label:"TTL",toolTipMessage:h.createCredentials.ttl,component:o.default.createElement(m.default,{justifyContent:"center",alignItems:"center"},o.default.createElement(l.Input,r({type:"number",className:(0,a.css)("border:solid 1px #9195A2!important;width:120px")},t())),n("isNegative")&&o.default.createElement("span",{className:(0,a.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}})))}})},i(t,[{key:"isEditing",get:function(){return!!this.props.initialValues}}]),t}(o.default.Component);_.defaultProps={show:!1,isSubmitting:!1},_.propTypes={isPaidUser:s.default.bool,isSubmitting:s.default.bool,show:s.default.bool,cancel:s.default.func,onSubmit:s.default.func,initialValues:s.default.shape({description:s.default.string,operationType:s.default.object,acl:s.default.arrayOf(s.default.string),referers:s.default.arrayOf(s.default.string),sources:s.default.arrayOf(s.default.string),include_fields:s.default.arrayOf(s.default.string),exclude_fields:s.default.arrayOf(s.default.string),ip_limit:s.default.oneOfType([s.default.number,s.default.string]),ttl:s.default.number,meta:s.default.object})},t.default=_},1432:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=s(r),o=s(n(1431));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(n){l(this,t);var r=c(this,e.call(this,n));return r.handleSubmit=function(e,t){var n=a({},e.value.operationType,e.value);delete n.operationType,Object.keys(n).forEach(function(e){void 0!==n[e]&&("ttl"===e&&(n[e]=parseInt(n[e],10)),"ip_limit"===e&&(n[e]=parseFloat(n[e],10)))}),r.props.initialValues||t?r.props.updatePermission(n,t):r.props.newPermission(n)},r.state={description:null,selectedType:"read"},r.types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}},r.expand=r.expand.bind(r),r.onSelect=r.onSelect.bind(r),r.updateDescription=r.updateDescription.bind(r),r}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.description&&this.setState({description:this.props.description})},t.prototype.onSelect=function(e){this.setState({selectedType:e})},t.prototype.expand=function(){this.setState({show:!this.state.show,clearInput:!0})},t.prototype.updateDescription=function(e){e!==this.state.description&&this.setState({description:e,clearInput:!1})},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"description":n=i.default.createElement("div",{className:"ad-create-email"},i.default.createElement(u,{updateDescription:this.updateDescription,clearInput:this.state.clearInput}));break;case"buttonGroup":n=i.default.createElement("span",{className:"ad-create-button-group without-margin"},Object.keys(this.types).map(function(e){return i.default.createElement(f,{key:e,type:e,selectedType:t.state.selectedType,description:t.types[e].description,onSelect:t.onSelect})}))}return n},t.prototype.render=function(){var e=this;return i.default.createElement("div",{className:"ad-create col-xs-12"},this.props.showCredForm&&i.default.createElement(o.default,{isPaidUser:this.props.isPaidUser,isSubmitting:this.props.isSubmitting,onSubmit:this.handleSubmit,show:this.props.showCredForm,handleCancel:this.props.handleCancel,mappings:this.props.mappings,initialValues:this.props.initialValues}),i.default.createElement("div",{className:"ad-create-collapse"},i.default.createElement("a",{className:"ad-theme-btn primary",onClick:function(){return e.props.showForm()}},"New Credentials")),i.default.createElement("div",{className:"ad-create-expand flex align-center justify-between"},i.default.createElement("div",null,this.renderElement("description"),i.default.createElement("div",{className:"ad-create-button-group-container"},this.renderElement("buttonGroup"))),i.default.createElement("div",null,i.default.createElement("button",{className:"ad-theme-btn primary ad-create-submit",onClick:this.newPermission},"Create"))))},t}(r.Component);t.default=d;var u=function(e){function t(n){l(this,t);var a=c(this,e.call(this,n));return a.state={description:""},a.handleInput=a.handleInput.bind(a),a}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.clearInput&&this.setState({description:""})},t.prototype.handleInput=function(e){this.setState({description:e.target.value},this.validateDescription)},t.prototype.validateDescription=function(){this.state.description&&this.state.description.trim()?this.props.updateDescription(this.state.description):this.props.updateDescription(null)},t.prototype.render=function(){return i.default.createElement("input",{type:"text",placeholder:"Optional description text",className:"form-control",value:this.state.description,onChange:this.handleInput})},t}(r.Component),f=function(e){return i.default.createElement("label",{className:"radio-inline",htmlFor:e.type},i.default.createElement("input",{type:"radio",name:e.type,checked:e.selectedType===e.type,onChange:e.onSelect&&function(){return e.onSelect(e.type)}})," ",e.description,i.default.createElement("span",{className:"checkmark"}))}},1433:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a);var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={edit:!1,description:a.props.description},a.stopUpdate=!1,a.handleInput=a.handleInput.bind(a),a.handleKeyPress=a.handleKeyPress.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.description&&this.setState({description:this.props.description})},t.prototype.componentDidMount=function(){var e=this;$(document).mouseup(function(t){if(!e.stopUpdate){var n=$(e.inputRef);n.is(t.target)||0!==n.has(t.target).length||e.setEdit(!1)}})},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.handleInput=function(e){this.setState({description:e.target.value})},t.prototype.handleKeyPress=function(e){"Enter"==e.key&&(this.setEdit(!1),this.props.updatDescription(this.state.description))},t.prototype.setEdit=function(e){this.setState({edit:e},function(){e&&$(this.inputRef).trigger("focus")}.bind(this))},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"input":var a=r.default.createElement("p",{className:"ad-editable-value",onClick:function(){return t.setEdit(!0)}},this.props.description||"No Description"),i=r.default.createElement("div",{className:"ad-editable-edit col-xs-12"},r.default.createElement("input",{ref:function(e){return t.inputRef=e},type:"text",placeholder:"Type and press enter",defaultValue:this.state.description,className:"form-control",onChange:this.handleInput,onKeyPress:this.handleKeyPress}));n=this.state.edit?i:a}return n},t.prototype.render=function(){return r.default.createElement("div",{className:"col-xs-12 ad-editable-container"},r.default.createElement("div",{className:"permission-editable ad-editable"},this.renderElement("input")))},t}(a.Component);t.default=i},1434:function(t,n,a){"use strict";n.__esModule=!0;var r=a(1),i=f(r),o=f(a(36)),s=a(16),l=f(a(398)),c=f(a(444)),p=a(38),d=a(574),u=f(a(1433));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e));return a.editCredentials=function(){var e=a.props,t=e.permissionInfo,n=e.showForm,r="";Object.keys(d.Types).every(function(e){var n=d.Types[e];return n.read!==t.read||n.write!==t.write||(r=n,!1)}),n({description:t.description,operationType:r,acl:t.acl,referers:t.referers,sources:t.sources,include_fields:t.include_fields,exclude_fields:t.exclude_fields,ip_limit:t.ip_limit,ttl:t.ttl,meta:{username:t.username}})},a.state={read:a.props.permissionInfo.read,write:a.props.permissionInfo.write,description:a.props.permissionInfo.description,credentials:a.props.permissionInfo.username+":"+a.props.permissionInfo.password,showKey:!1},a.confirmBoxInfo={title:i.default.createElement("span",null,"Delete Credentials"),description:i.default.createElement("p",null,"This action will permanently ",i.default.createElement("strong",null,"delete")," the selected credentials. If these are the only credentials, you may lose access to other GUI views."),buttons:{cancel:"Go back",confirm:"Confirm"}},a.keySummary=p.common.keySummary(),a.updatDescription=a.updatDescription.bind(a),a.deletePermission=a.deletePermission.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.setKeyType()},n.prototype.componentWillReceiveProps=function(e){e.permissionInfo&&this.setState({read:e.permissionInfo.read,write:e.permissionInfo.write,description:e.permissionInfo.description,credentials:e.permissionInfo.username+":"+e.permissionInfo.password},this.setKeyType)},n.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.cp&&this.cp.destroy()},n.prototype.setKeyType=function(){this.setState({keyType:this.detectKey()})},n.prototype.ccSuccess=function(){toastr.success(this.state.description+" Credentials have been copied successully!"),"admin"===this.state.keyType&&toastr.warning('The copied credentials can modify data in your app, do not use them in code that runs in the web browser. Instead, generate <a href="guide-link">read-only credentials</a>.')},n.prototype.ccError=function(){toastr.error("Error",e)},n.prototype.changePermission=function(e){var t;this.setState(((t={})[e]=!this.state[e],t),this.applyChange)},n.prototype.applyChange=function(){s.appbaseService.updatePermission(this.props.appId,this.props.permissionInfo.username,this.state).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},n.prototype.updatDescription=function(e){this.setState({description:e},this.applyChange)},n.prototype.deletePermission=function(){var e=this;s.appbaseService.deletePermission(this.props.appId,this.props.permissionInfo.username).then(function(t){e.props.getInfo()}).catch(function(e){console.log(e)})},n.prototype.toggleKey=function(){this.setState({showKey:!this.state.showKey})},n.prototype.detectKey=function(){var e=null;return this.state.read&&this.state.write?e="admin":this.state.read?e="read":this.state.write&&(e="write"),e},n.prototype.render=function(){var e=this,t=(0,o.default)({active:this.state.showKey}),n=(0,o.default)({eye:!this.state.showKey,"eye-slash":this.state.showKey});return i.default.createElement("div",{className:"permission-card col-xs-12 p-0"},i.default.createElement("header",{className:"permission-card-header col-xs-12"},i.default.createElement("summary",{className:"col-xs-10 p-0"},i.default.createElement(u.default,{description:this.state.description,updatDescription:this.updatDescription}))),i.default.createElement("div",{className:"permission-card-body col-xs-12"},i.default.createElement("div",{className:"col-xs-12 col-sm-3 col-md-3 col-lg-5 permission-card-body-description"},this.keySummary[this.state.keyType]),i.default.createElement("div",{className:"col-xs-12 col-sm-9 col-md-9 col-lg-7 permission-card-body-credential"},i.default.createElement("div",{className:"ad-permission-key "+t},i.default.createElement("div",{className:"ad-permission-key-value"},this.state.credentials),i.default.createElement("div",{className:"ad-permission-key-buttons"},i.default.createElement("a",{className:"ad-credential-btn ad-permission-key-lock-btn",key:n,onClick:function(){return e.toggleKey()}},i.default.createElement("i",{className:"fas fa-"+n})),i.default.createElement(c.default,{type:"danger",onSuccess:function(){return e.ccSuccess()},onError:function(){return e.ccError()}},i.default.createElement("a",{className:"ad-credential-btn ad-permission-key-copy-btn","data-clipboard-text":this.state.credentials},i.default.createElement("i",{className:"far fa-clone"}))),i.default.createElement("a",{onClick:this.editCredentials,className:"ad-credential-btn ad-permission-key-copy-btn"},i.default.createElement("i",{className:"far fa-edit"})))),i.default.createElement("aside",{className:"permission-key-delete"},i.default.createElement(l.default,{info:this.confirmBoxInfo,onConfirm:this.deletePermission,type:"danger"},i.default.createElement("a",{className:"permission-delete animation"},i.default.createElement("i",{className:"fa fa-trash-alt"})))))))},n}(r.Component);n.default=m},341:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=f(a),i=f(n(142)),o=n(16),s=n(508),l=n(413),c=f(n(1434)),p=f(n(1432)),d=f(n(381)),u=f(n(1427));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleCancel=function(){a.setState({showCredForm:!1})},a.updatePermission=function(e,t){a.setState({isSubmitting:!0},function(){o.appbaseService.updatePermission(a.appId,t,e).then(function(){a.getInfo(),a.setState({isSubmitting:!1,showCredForm:!1})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Unable to save credentials")),a.setState({isSubmitting:!1})})})},a.showForm=function(e){e?a.setState({showCredForm:!0,currentPermissionInfo:e}):a.setState({showCredForm:!0,currentPermissionInfo:void 0})},a.state={info:null,isSubmitting:!1,showCredForm:!1,isPaidUser:!1,mappings:{},currentPermissionInfo:void 0},a.getInfo=a.getInfo.bind(a),a.newPermission=a.newPermission.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.stopUpdate=!1,this.initialize(this.props)},t.prototype.componentDidMount=function(){var e=this;if((0,l.checkUserStatus)().then(function(t){t.isPaidUser&&e.setState({isPaidUser:t.isPaidUser})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Something went wrong"))}),this.props.params.appId){var t=o.appbaseService.userInfo.body.apps[this.props.params.appId];(0,l.getCredentials)(t).then(function(t){var n=t.username,a=t.password;return(0,s.getMappings)(e.appName,n+":"+a)}).then(function(t){e.setState({mappings:t})}).catch(function(e){toastr.error("Error","Unable to fetch mappings")})}},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.componentWillReceiveProps=function(e){e.params.appId!=this.appName&&this.initialize(e)},t.prototype.initialize=function(e){this.appName=e.params.appId,this.appId=o.appbaseService.userInfo.body.apps[this.appName],this.getInfo()},t.prototype.getInfo=function(){var e=this;this.info={},o.appbaseService.getPermission(this.appId).then(function(t){e.info.permission=t,e.stopUpdate||e.setState({info:e.info})}),o.appbaseService.getAppInfo(this.appId).then(function(t){e.info.appInfo=t.body,e.stopUpdate||e.setState({info:e.info})})},t.prototype.newPermission=function(e){var t=this;this.setState({isSubmitting:!0},function(){o.appbaseService.newPermission(t.appId,e).then(function(){t.getInfo(),t.setState({isSubmitting:!1,showCredForm:!1})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Unable to save credentials")),t.setState({isSubmitting:!1})})})},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"permissions":this.state.info&&this.state.info.permission&&(n=this.state.info.permission.body.sort(function(e,t){var n=e.description,a=t.description;return n<a?-1:n>a?1:0}).map(function(e,n){return r.default.createElement(c.default,{appId:t.appId,key:n,permissionInfo:e,isPaidUser:t.state.isPaidUser,mappings:t.state.mappings,getInfo:t.getInfo,showForm:t.showForm})}));break;case"deleteApp":this.isOwner()&&(n=r.default.createElement("footer",{className:"ad-detail-page-body other-page-body col-xs-12 delete-app-body"},r.default.createElement("div",{className:"page-body col-xs-12"},r.default.createElement("section",{className:"col-xs-12 p-0"},r.default.createElement("div",{className:"col-xs-12 p-0"},r.default.createElement(u.default,{appName:this.appName,appId:this.appId}))))))}return n},t.prototype.isOwner=function(){return this.state.info&&this.state.info.appInfo&&this.state.info.appInfo.owner===o.appbaseService.userInfo.body.email},t.prototype.render=function(){return r.default.createElement(d.default,{pageInfo:{currentView:"credentials",appName:this.appName,appId:this.appId}},r.default.createElement("div",{id:"permission-page",className:"ad-detail-page ad-dashboard row"},r.default.createElement("div",{className:"ad-detail-page-body col-xs-12"},r.default.createElement("div",{className:"page-body col-xs-12"},r.default.createElement("section",{className:"ad-detail-page-body-card col-xs-12 p-0"},r.default.createElement("div",{className:"ad-detail-page-body-card-body col-xs-12 p-0"},this.renderElement("permissions"),this.isOwner()?r.default.createElement(p.default,{appId:this.props.params.appId,appName:this.appName,isSubmitting:this.state.isSubmitting,newPermission:this.newPermission,updatePermission:this.updatePermission,showForm:this.showForm,showCredForm:this.state.showCredForm,handleCancel:this.handleCancel,isPaidUser:this.state.isPaidUser,mappings:this.state.mappings,initialValues:this.state.currentPermissionInfo}):null)))),this.renderElement("deleteApp")))},t}(a.Component);t.default=m},366:function(e,t,n){"use strict";t.__esModule=!0;var a=n(345);var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(a).default)("div",{target:"e1tnvnpn0"})("display:flex;flex-direction:",function(e){return e.flexDirection||"row"},";",function(e){var t=e.alignItems;return t&&(0,a.css)("align-items:",t,";")},";",function(e){var t=e.justifyContent;return t&&(0,a.css)("justify-content:",t,";")},";");t.default=r},380:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=d(a),i=n(39),o=d(n(36)),s=d(n(141)),l=n(38),c=d(n(93)),p=n(16);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.config=c.default,a.contextPath=p.appbaseService.getContextPath(),a.state={activeApp:a.props.appName},a.stopUpdate=!1,a.links=[{label:"Dashboard",link:a.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:r.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Mappings",link:a.contextPath+"mappings/",type:"internal",name:"mappings",tooltip:"View or update mappings",img:r.default.createElement("img",{className:"img-responsive",alt:"mappings",src:"../../../assets/images/"+a.config.name+"/sidebar/mapping.svg"})},{label:"Search Sandbox",link:a.contextPath+"search-sandbox/",type:"internal",name:"search-sandbox",tooltip:"Update search preferences",img:r.default.createElement("img",{className:"img-responsive",alt:"search-sandbox",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Browser",link:a.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:r.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+a.config.name+"/sidebar/browser.svg"})},{label:"Analytics",link:a.contextPath+"analytics/",type:"internal",name:"analytics",tooltip:"View app analytics",img:r.default.createElement("img",{className:"img-responsive",alt:"analytics",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Credentials",link:a.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:r.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+a.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:a.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:r.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+a.config.name+"/sidebar/team.svg"})}],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"links":n=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,n){var a=(0,o.default)({active:t.props.currentView===e.name}),l=r.default.createElement("div",{className:"img-container"},e.img),c=r.default.createElement(i.Link,{className:a,to:e.link+t.state.activeApp},l,r.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return r.default.createElement(s.default,{overlay:r.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(n+1)},r.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(n+1)},c))})}return n},t.prototype.render=function(){var e=this;return r.default.createElement("aside",{className:"ad-detail-sidebar"},r.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(a.Component);t.default=u},381:function(e,t,n){"use strict";t.__esModule=!0;var a=c(n(0)),r=n(1),i=c(r),o=c(n(380)),s=c(n(93)),l=n(16);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){return i.default.createElement("div",{className:"page404"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},i.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},"Go to"," ",i.default.createElement("a",{href:"/apps"},"/apps",i.default.createElement("i",{className:"fa fa-cursor"})))))},d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={showChild:!1},a.selectedApp=a.props.pageInfo.appName,a.config=s.default,a.getAllApps(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var n=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!n||!n.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=i.default.Children.map(this.props.children,function(e){return i.default.cloneElement(e,{})});return i.default.createElement("div",{className:"ad-detail row"},i.default.createElement(o.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),i.default.createElement("div",{className:"ad-detail-view-container"},i.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?i.default.createElement(p,null):null)))},t}(r.Component);t.default=d,d.propTypes={pageInfo:a.default.shape({currentView:a.default.string.isRequired,appName:a.default.string.isRequired,appId:a.default.oneOfType([a.default.number.isRequired,a.default.string.isRequired])})},d.defaultProps={}},382:function(e,t,n){"use strict";t.__esModule=!0,t.ErrorLogger=t.Input=t.deleteBtn=t.Button=t.Footer=t.subItem=t.item=t.dropdown=t.title=t.row=t.heading=t.Header=t.HeaderWrapper=t.card=void 0;var a=n(345),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.card=(0,a.css)("width:100%;max-width:980px;margin:25px auto;background-color:#fff;border-radius:3px;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);box-sizing:border-box;i{margin:3px 3px 0px 8px;}"),t.HeaderWrapper=(0,r.default)("div",{target:"e1tvtz600"})("display:flex;flex-direction:column;align-items:flex-start;justify-content:center;p{font-size:13px;margin:6px 0 0;color:#999;}"),t.Header=(0,r.default)("header",{target:"e1tvtz601"})("display:flex;flex-direction:row;justify-content:space-between;font-weight:600;padding-top:20px;.col{min-width:150px;display:inline-flex;margin:0 0 0 12px;text-align:center;&:first-child{margin:0;}&.col--grow{flex-grow:1;}}"),t.heading=(0,a.css)("font-size:16px;letter-spacing:0.015rem;font-weight:600;margin:0;padding:0;"),t.row=(0,a.css)("box-sizing:border-box;background-color:rgba(0,0,0,0.02);padding:15px 0 15px 15px;margin:15px 0;border:1px solid rgba(0,0,0,0.05);"),t.title=(0,a.css)("font-size:15px;letter-spacing:0.015rem;font-weight:600;margin:0 0 12px 0;padding:0;"),t.dropdown=(0,a.css)("width:auto;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;margin-left:12px;padding:6px 15px 6px 6px;text-transform:capitalize;"),t.item=(0,a.css)("display:flex;flex-direction:row;justify-content:space-between;padding:10px;margin-bottom:2px;align-items:center;background-color:rgba(255,255,255,0.8);"),t.subItem=(0,a.css)("display:flex;flex-direction:row;align-items:center;"),t.Footer=(0,r.default)("footer",{target:"e1tvtz602"})("position:sticky;bottom:0;width:100%;height:66px;box-shadow:0 -3px 5px 0 rgba(0,0,0,0.02);background-color:#fff;transition:all .3s ease;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:0 20px;display:flex;flex-direction:row-reverse;align-items:center;"),t.Button=(0,r.default)("a",{target:"e1tvtz603"})("display:inline-flex;height:42px;padding:0 20px;justify-content:center;align-items:center;color:#53683b;font-weight:600;background-color:",function(e){return e.ghost?"#efefef":"#b6ef7e"},";;text-transform:uppercase;box-shadow:0 3px 3px 0 rgba(0,0,0,0.1);cursor:pointer;margin-left:12px;&:hover,&:focus{background-color:",function(e){return e.ghost?"#fafafa":"#c3f295"},";box-shadow:0 5px 5px 0 rgba(0,0,0,0.1);text-decoration:none;}"),t.deleteBtn=(0,a.css)("display:flex;flex-grow:1;alignItems:center;flex-direction:row;cursor:pointer;span{max-width:calc(100% - 40px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}a{display:none;cursor:pointer;color:#444;margin-left:15px;transition:all .3s ease;}&:hover a,&:focus a{display:inline;&:hover,&:focus{color:#222;}}"),t.Input=(0,r.default)("input",{target:"e1tvtz604"})("diplay:flex;flex-grow:1;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;padding:5px;"),t.ErrorLogger=(0,r.default)("pre",{target:"e1tvtz605"})("height:auto;max-height:200px;overflow-y:scroll;width:100%;background-color:#eee;padding:10px;font-family:monospace;font-size:14px;")},398:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(416),s=n(38);var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={showModal:!!a.props.showModal&&a.props.showModal,validate:!1,inputValue:null},a.open=a.open.bind(a),a.onConfirm=a.onConfirm.bind(a),a.onCancel=a.onCancel.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose&&this.props.onClose(),this.setState({showModal:!1})},t.prototype.open=function(){this.props.onOpen&&this.props.onOpen(),this.setState({showModal:!0})},t.prototype.onConfirm=function(){this.props.onConfirm&&this.props.onConfirm(),this.close()},t.prototype.onCancel=function(){this.props.onCancel&&this.props.onCancel(),this.close()},t.prototype.getType=function(){return"modal-"+(this.props.type?this.props.type:"info")},t.prototype.handleInputChange=function(e){this.setState({inputValue:e.target.value,validate:e.target.value===this.props.info.validate.value})},t.prototype.render=function(){var e=this,t=i.default.Children.map(this.props.children,function(t){return i.default.cloneElement(t,{onClick:e.open})});return i.default.createElement("div",null,t,i.default.createElement(o.Modal,{className:this.getType(),show:this.state.showModal,onHide:function(){return e.close()}},i.default.createElement(o.Modal.Header,{closeButton:!0},this.props.info&&this.props.info.title?i.default.createElement(o.Modal.Title,null,this.props.info.title):null),i.default.createElement(o.Modal.Body,{className:"clearfix"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12"},this.props.info.description),this.props.info&&this.props.info.validate?i.default.createElement("div",{className:"col-xs-12 form-group"},i.default.createElement("input",{placeholder:this.props.info.validate.placeholder,type:"text",className:"form-control",defaultValue:this.state.inputValue,onChange:this.handleInputChange})):null),i.default.createElement("div",{className:"col-xs-12 p-0"},this.props.info.buttons.confirm?i.default.createElement("button",a({className:"ad-theme-btn ad-confirm-btn"},s.common.isDisabled(this.props.info.validate&&!this.state.validate),{onClick:this.onConfirm}),this.props.info.buttons.confirm):null,this.props.info.buttons.cancel?i.default.createElement("button",{className:"ad-theme-btn ad-cancel-btn",onClick:this.onCancel},this.props.info.buttons.cancel):null))))},t}(r.Component);t.default=l,l.propTypes={},l.defaultProps={}},413:function(e,t,n){"use strict";t.__esModule=!0,t.getCredentials=function(e){return new Promise(function(t,n){fetch(a+"/app/"+e+"/permissions",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")&&e.include_fields.includes("*")});n||(n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")})),n||(n=e.body.find(function(e){return e.read&&e.write})),n||(n=e.body.find(function(e){return e.read})),t(n)}).catch(function(e){n(e)})})},t.checkUserStatus=function(){return new Promise(function(e,t){fetch(a+"/user",{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e.body.c_id?e.body.c_id:(t(),null)}).then(i).then(function(e){return e.json()}).then(function(t){t.plan&&"free"!==t.plan||e({isPaidUser:!1,plan:"free"}),e({isPaidUser:!0,plan:t.plan})}).catch(function(){t()})})};var a=t.ACC_API="https://accapi.appbase.io",r=(t.SCALR_API="https://scalr.api.appbase.io",t.BILLING_API="https://transactions.appbase.io");function i(e){return fetch(r+"/api/me",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({c_id:e})})}},439:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140);t.default={formLabel:(0,a.css)("font-weight:500;color:black;font-size:14px;"),subHeader:(0,a.css)("margin-left:10px;font-weight:100;font-size:14px;"),addedWhiteList:(0,a.css)("background-color:#fbfcfe;border:solid 1px #83a2ee;border-radius:2px;padding:5px 10px;color:#343e54;margin-bottom:15px;width:100%;"),description:(0,a.css)("font-size:12px,font-weight:100;"),serachResultsCls:(0,a.css)("border:solid 1px #d9d9d9;border-top:none;border-radius:3px;position:absolute;width:100%;background-color:#fff;z-index:1;"),error:(0,a.css)("color:red;font-size:12px;padding:5px;"),fieldBadge:(0,a.css)("margin-left:2px;font-size:10px;background-color:#a2a4aa;border-radius:3px;padding:1px 2px;color:#fff;"),overlay:(0,a.css)("position:absolute;top:160px;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.8);z-index:9999;color:black;"),upgradePlan:(0,a.css)("margin-top:200px;font-size:16px;font-weight:500;text-align:center;")}},444:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=o(a),i=o(n(443));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getRef=a.getRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.cp&&this.cp.destroy()},t.prototype.getRef=function(e){if(e){var t=e;this.cp&&this.cp.destroy(),this.cp=new i.default(t),this.cp.on("success",this.props.onSuccess),this.cp.on("error",this.props.onError)}},t.prototype.render=function(){var e=this,t=r.default.Children.map(this.props.children,function(t){return r.default.cloneElement(t,{ref:e.getRef})});return r.default.createElement("span",null,t)},t}(a.Component);t.default=s,s.propTypes={},s.defaultProps={}},455:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=c(n(1)),i=c(n(0)),o=n(364),s=c(n(439)),l=c(n(366));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.label,n=e.component,i=e.toolTipMessage;return r.default.createElement(l.default,{className:(0,a.css)("margin-top:30px")},r.default.createElement(l.default,{className:(0,a.css)("flex:25%")},r.default.createElement("div",null,r.default.createElement("span",{className:(0,a.css)(s.default.formLabel)},t,i&&r.default.createElement(o.Tooltip,{className:(0,a.css)("margin-left:5px;color:#898989"),overlay:i,mouseLeaveDelay:0},r.default.createElement("i",{className:"fas fa-info-circle"}))))),r.default.createElement(l.default,{className:(0,a.css)("flex:75%;margin-left:20px")},n))};p.propTypes={label:i.default.oneOfType([i.default.string,i.default.node]),component:i.default.node,toolTipMessage:i.default.any},t.default=p},507:function(e,t,n){"use strict";t.__esModule=!0,t.default={aggs:{fields:{keyword:{type:"keyword"}},analyzer:"standard",search_analyzer:"standard"},search:{fields:{search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},searchaggs:{fields:{keyword:{type:"keyword",index:"not_analyzed"},search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},none:{}}},508:function(e,t,n){"use strict";t.__esModule=!0,t.REMOVED_KEYS=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getMappings=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(a,i){fetch(n+"/"+e+"/_mapping",{method:"GET",credentials:"include",headers:r({},function(e){if(e)return{Authorization:"Basic "+btoa(e)};return{}}(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(t){var n=Object.keys(t[e].mappings).filter(function(e){return!p.includes(e)}),i={};n.forEach(function(n){var a;i=r({},i,((a={})[n]=t[e].mappings[n],a))}),a(i)}).catch(function(e){i(e)})})},t.reIndex=function(e,t,n){var a={mappings:e,settings:o.default,exclude_fields:n,es_version:"5"};return new Promise(function(e,n){fetch(s.ACC_API+"/app/"+t+"/reindex",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(t){t.error&&n(t.error),t.body&&t.body.response_info.failures.length&&n(t.body.response_info.failures),t.Message&&n(t.Message),e(t.body.response_info.took)}).catch(function(e){n(e)})})},t.hasAggs=d,t.transformToES5=function e(t){var n=r({},t);Object.keys(n).every(function(t){if(c.includes(t))return!1;if("string"===n[t].type){var o,s=!!n[t].fields,l=r({},n[t]);s&&(n[t].fields.search?l=i.default.search:d(n[t].field)&&(l=i.default.aggs)),n=r({},n,((o={})[t]=r({},l,{type:"text"}),o))}else if("object"===a(n[t])&&!Array.isArray(n[t])){var p;n=r({},n,((p={})[t]=r({},n[t],e(n[t])),p))}return!0});return n},t.updateMapping=function e(t,n,o,s){var l=r({},t);Object.keys(l).every(function(t){if(c.includes(t))return!1;if(t===n){var p,d={};s&&(d=i.default[s]),l=r({},l,((p={})[t]=r({},d,{type:o}),p))}else if("object"===a(l[t])&&!Array.isArray(l[t])){var u;l=r({},l,((u={})[t]=r({},l[t],e(l[t],n,o,s)),u))}return!0});return l},t.traverseMapping=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(e).forEach(function(a){return function(e,a){n[a]=[],function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.properties&&Object.keys(r.properties).forEach(function(o){t||n[a].push(""+i+o);var s=r.properties[o];s&&s.properties?e(s,""+i+o+"."):t&&n[a].push(""+i+o)})}(e)}(e[a],a)}),n},t.getMappingsTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){e[n].properties&&(t=r({},t,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={};return Object.keys(t).forEach(function(i){if(t[i].properties)a=r({},a,e(t[i].properties,i));else{var o,s=t[i].fields;a=r({},a,((o={})[(n?n+".":"")+i]={type:t[i].type,fields:t[i].fields?Object.keys(t[i].fields):[],originalFields:s||{}},o))}}),a}(e[n].properties,null)))}),t};var i=l(n(507)),o=l(n(575)),s=n(413);function l(e){return e&&e.__esModule?e:{default:e}}var c=["meta"],p=t.REMOVED_KEYS=["~logs","~percolator",".logs",".percolator","_default_"];function d(e){if(!e)return!1;var t=!1;return Object.keys(e).forEach(function(n){("keyword"===e[n].type||"string"===e[n].type&&"not_analyzed"===e[n].index)&&(t=!0)}),t}},574:function(e,t,n){"use strict";t.__esModule=!0;var a=t.Suggestions={1:{prefix:"",suffix:"",description:"Matches exactly"},2:{prefix:"",suffix:"*",description:"Matches referers starting with"},3:{prefix:"*",suffix:"",description:"Matches referers ending with"},4:{prefix:"*",suffix:"*",description:"Matches referers containing"}};t.getSuggestionCode=function(e){return"*"===e?"Matches All":e.startsWith("*")&&e.endsWith("*")?a[4].description:e.startsWith("*")?a[3].description:e.endsWith("*")?a[2].description:a[1].description},t.ipValidator=function(e){var t=e&&e.split("/");if(t&&/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t[0])){var n=parseInt(t[1],10);return n>-1&&n<33}return!1},t.isNegative=function(e){if(e.value&&parseInt(e.value,10)<0)return{isNegative:!0}},t.Types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}},t.aclOptions=["index","get","search","settings","stream","bulk","delete"],t.aclOptionsLabel={index:"Index",get:"Get",search:"Search",settings:"Settings",stream:"Stream",bulk:"Bulk",delete:"Delete"},t.defaultAclOptions=["index","get","search","settings","stream","bulk","delete"]},575:function(e,t,n){"use strict";t.__esModule=!0,t.default={analysis:{analyzer:{autosuggest_analyzer:{filter:["lowercase","asciifolding","autosuggest_filter"],tokenizer:"standard",type:"custom"},ngram_analyzer:{filter:["lowercase","asciifolding","ngram_filter"],tokenizer:"standard",type:"custom"}},filter:{autosuggest_filter:{max_gram:"20",min_gram:"1",token_chars:["letter","digit","punctuation","symbol"],type:"edge_ngram"},ngram_filter:{max_gram:"9",min_gram:"2",token_chars:["letter","digit","punctuation","symbol"],type:"ngram"}}}}}}]);
>>>>>>> builds
=======
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1427:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=s(a),i=(n(39),n(16)),o=s(n(398));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.confirmBoxInfo={title:r.default.createElement("span",null,"Delete App"),description:r.default.createElement("p",null,"Type the app name ",r.default.createElement("strong",null,a.props.appName)," below to delete the app. This action cannot be undone."),validate:{value:a.props.appName,placeholder:"Type app name"},buttons:{cancel:"Go back",confirm:"Confirm"}},a.deleteApp=a.deleteApp.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.deleteApp=function(){i.appbaseService.deleteApp(this.props.appId).then(function(e){i.appbaseService.pushUrl("/apps")}).catch(function(e){console.log(e)})},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.render=function(){return r.default.createElement("div",{className:"delete-card delete-active col-xs-12"},r.default.createElement("header",{className:"col-xs-12 col-xs-offset-1 pull-right delete-title"},r.default.createElement("summary",{className:"delete-app-container"},r.default.createElement(o.default,{info:this.confirmBoxInfo,onConfirm:this.deleteApp,type:"danger"},r.default.createElement("a",{className:"ad-theme-btn danger ad-confirm-btn"},"Delete App")),r.default.createElement("aside",{className:"permission-card-body"},r.default.createElement("span",{className:"permission-delete-card-description"},"Deleting an app is a permanent action, and will delete all the associated data, credentials and team sharing settings.")))))},t}(a.Component);t.default=l},1428:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=u(n(1)),o=n(364),s=u(n(0)),l=u(n(439)),c=u(n(455)),p=u(n(366)),d=n(574);function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSelectOption=function(e){a.setState(function(){var t=a.props.control;return e&&!t.value.includes(e)?(t.onChange([].concat(t.value,[e])),{text:void 0}):{text:void 0}})},a.hanldeOnChange=function(e){a.setState({text:e})},a.handleOnSearch=function(e){e&&e.startsWith("**")||a.setState({text:e.trim()})},a.removeItem=function(e){var t=a.props.control,n=t.value,r=n.indexOf(e);r>-1&&(n.splice(r,1),t.onChange(n))},a.submitOnBlur=function(){a.props.control.value.includes(a.state.text)?(a.setState({text:void 0}),a.props.control.setErrors(void 0)):(0,d.ipValidator)(a.state.text)?(a.props.control.onChange([].concat(a.props.control.value,[a.state.text])),a.setState({text:void 0})):a.state.text?a.props.control.setErrors({invalidIP:!0}):a.props.control.setErrors(void 0)},a.inputRef=void 0,a.state={text:void 0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.label,s=t.inputProps,u=t.defaultSuggestionValue,f=t.control,m=f.value,h=f.handler,y=f.hasError,g=t.type,b=t.toolTipMessage,v=this.state.text;return i.default.createElement(c.default,{label:i.default.createElement("span",{className:(0,a.css)(l.default.subHeader)},n),toolTipMessage:b,component:i.default.createElement(p.default,{className:(0,a.css)("width:100%;position:relative"),flexDirection:"column"},m.map(function(t){return i.default.createElement(p.default,{key:t,justifyContent:"space-between",className:(0,a.css)(l.default.addedWhiteList)},i.default.createElement("div",null,i.default.createElement("div",null,t),"dropdown"===g&&i.default.createElement("div",{className:(0,a.css)("font-size:12px;font-weight:normal")},(0,d.getSuggestionCode)(t))),i.default.createElement("div",{className:(0,a.css)("cursor:pointer")},i.default.createElement(o.Icon,{onClick:function(){return e.removeItem(t)},type:"close-circle-o"})))}),i.default.createElement("div",null,"dropdown"===g?i.default.createElement(o.Select,r({showSearch:!0},s,{value:v,onSearch:this.handleOnSearch,onSelect:this.handleSelectOption,onBlur:this.handleSelectOption,defaultActiveFirstOption:!!v,showArrow:!1,filterOption:!1,style:{width:"100%"}}),"*"===v&&1===v.length?i.default.createElement(o.Select.Option,{key:"*"},i.default.createElement(p.default,{justifyContent:"space-between"},i.default.createElement("span",null,"*"),i.default.createElement("span",{className:(0,a.css)(l.default.description)},(0,d.getSuggestionCode)("*")))):Object.keys(d.Suggestions).map(function(e){var t=d.Suggestions[e];if(v){var n=""+t.prefix+v+t.suffix;return i.default.createElement(o.Select.Option,{key:n},i.default.createElement(p.default,{justifyContent:"space-between"},i.default.createElement("span",null,n),i.default.createElement("span",{className:(0,a.css)(l.default.description)},t.description)))}return i.default.createElement(o.Select.Option,{className:(0,a.css)("pointer-events:none"),key:e},i.default.createElement(p.default,{justifyContent:"space-between",className:(0,a.css)("color:#d9d9d9;font-weight:100;font-size:12px")},i.default.createElement("span",null,t.prefix,u,t.suffix),i.default.createElement("span",{className:(0,a.css)(l.default.description)},t.description)))})):i.default.createElement(o.Input,r({},s,h(),{value:v,onChange:function(t){e.hanldeOnChange(t.target.value)},onBlur:this.submitOnBlur,onKeyPress:function(t){"Enter"===t.key&&e.submitOnBlur()}})),y("invalidIP")&&i.default.createElement("div",{className:(0,a.css)(l.default.error)},"Not a valid IP")))})},t}(i.default.Component);f.propTypes={label:s.default.string,toolTipMessage:s.default.any,inputProps:s.default.object,defaultSuggestionValue:s.default.string,control:s.default.object,type:s.default.oneOf(["dropdown"])},t.default=f},1429:function(e,t,n){"use strict";t.__esModule=!0,t.createCredentials=t.hoverMessage=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.hoverMessage=function(){return a.default.createElement("div",{style:{maxWidth:220}},"All appbase.io paid plans offer setting ACLs, rate limits per IP and advanced security permissions based on IP sources, HTTP Referers and restricting what fields are accessible.")},t.createCredentials={description:function(){return a.default.createElement("div",{style:{maxWidth:220}},"An optional description for your credential key.")},operationType:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Depending on the selection, the key can perform read-only, write-only or both read and write operations.")},acls:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Authorize API access to only selected operations.")},security:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Authorize API access based on selected HTTP Referers and IP Source values.")},referers:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Only selected HTTP Referers (aka URIs) are authorized to call the API with this credential.")},sources:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Only selected IP ranges (in CIDR format) are authorized to call the API with this credential.")},fieldFiltering:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Restrict fields that are returned when performing a search operation.")},include:function(){return a.default.createElement("div",{style:{maxWidth:220}},"All selected fields are returned in the search response.")},exclude:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Selected fields aren't returned in the search response. In case of a field being present in both include and exclude, exclude has a priority.")},ttl:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Expiry time for this credential (in seconds). 0 means that it doesn't expire.")},ipLimit:a.default.createElement("div",{style:{maxWidth:220}},"Set a per hour ratelimit on API calls per IP address.")}},1431:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=v(n(1)),s=v(n(0)),l=n(364),c=n(1430),p=v(n(142)),d=v(n(439)),u=n(382),f=v(n(455)),m=v(n(366)),h=n(1429),y=n(508),g=n(574),b=v(n(1428));function v(e){return e&&e.__esModule?e:{default:e}}var E=l.Select.Option,w=l.Checkbox.Group,x=(0,a.css)(".ant-modal-content{width:580px;}"),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSubmit=function(){a.props.onSubmit(a.form,(0,p.default)(a.props,"initialValues.meta.username"))},a.form=c.FormBuilder.group({description:"",operationType:[g.Types.read,c.Validators.required],acl:[{value:g.defaultAclOptions,disabled:!n.isPaidUser},c.Validators.required],referers:[{value:["*"],disabled:!n.isPaidUser}],sources:[{value:["0.0.0.0/0"],disabled:!n.isPaidUser}],include_fields:[{value:["*"],disabled:!n.isPaidUser}],exclude_fields:[{value:[],disabled:!0}],ip_limit:[{value:7200,disabled:!n.isPaidUser},[c.Validators.required,g.isNegative]],ttl:[{value:0,disabled:!n.isPaidUser},[c.Validators.required,g.isNegative]]}),a.mappings=(0,y.traverseMapping)(a.props.mappings,!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.form.get("include_fields"),t=this.form.get("exclude_fields");e.valueChanges.subscribe(function(e){e.includes("*")?(t.disable({emitEvent:!1}),t.reset([])):t.enable({emitEvent:!1})}),t.valueChanges.subscribe(function(t){t.includes("*")?(e.disable({emitEvent:!1}),e.reset([])):e.enable({emitEvent:!1})}),this.props.initialValues&&this.form.patchValue(this.props.initialValues)},t.prototype.componentWillReceiveProps=function(e){e.mappings!==this.props.mappings&&(this.mappings=(0,y.traverseMapping)(e.mappings))},t.prototype.componentWillUnmount=function(){this.form.get("include_fields").valueChanges.unsubscribe(),this.form.get("exclude_fields").valueChanges.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props,n=t.show,i=t.handleCancel,s=t.isPaidUser,p=t.isSubmitting;return o.default.createElement(c.FieldGroup,{strict:!1,control:this.form,render:function(t){var y=t.invalid;return o.default.createElement(l.Modal,{style:{width:"600px"},className:(0,a.css)(x),footer:[o.default.createElement(l.Button,{key:"back",onClick:i},"Cancel"),o.default.createElement(l.Button,{loading:p,disabled:y,key:"submit",type:"primary",onClick:e.handleSubmit},e.isEditing?"Save":"Generate")],visible:n,onCancel:i},o.default.createElement("div",{className:(0,a.css)("position:relative")},o.default.createElement("span",{className:(0,a.css)("font-weight:500;color:black;font-size:16px;")},e.isEditing?"Edit credential":"Create a new credential"),o.default.createElement(c.FieldControl,{strict:!1,name:"description",render:function(t){var n=t.handler;return o.default.createElement(f.default,{label:"Description",toolTipMessage:h.createCredentials.description,component:o.default.createElement(l.Input,r({autoFocus:!e.isEditing,placeholder:"Add an optional description for this credential"},n()))})}}),o.default.createElement(c.FieldControl,{name:"operationType",render:function(e){var t=e.handler;return o.default.createElement(f.default,{label:"Key Type",toolTipMessage:h.createCredentials.operationType,component:o.default.createElement(l.Radio.Group,r({},t(),{className:(0,a.css)("label{font-weight:100}")}),Object.keys(g.Types).map(function(e){return o.default.createElement(l.Radio,{key:e,value:g.Types[e]},g.Types[e].description)}))})}}),!s&&o.default.createElement("div",{className:(0,a.css)(d.default.overlay)},o.default.createElement("div",{className:(0,a.css)(d.default.upgradePlan)},o.default.createElement("div",{style:{marginBottom:20}},o.default.createElement(l.Icon,{type:"lock",className:(0,a.css)("font-size:40px")})),"Upgrade to a paid plan to add advanced security permissions.",o.default.createElement(l.Tooltip,{overlay:h.hoverMessage,mouseLeaveDelay:0},o.default.createElement("i",{className:"fas fa-info-circle"})),o.default.createElement(u.Button,{className:(0,a.css)("margin-top:10px"),href:"/billing",target:"_blank",style:{marginTop:20}},"Upgrade Now"))),o.default.createElement(c.FieldControl,{name:"acl",render:function(e){var t=(0,e.handler)();return o.default.createElement(f.default,{label:"ACLs",toolTipMessage:h.createCredentials.acls,component:o.default.createElement(w,r({className:(0,a.css)("label{font-weight:100}")},t,{options:g.aclOptions.map(function(e){return g.aclOptionsLabel[e]}),value:t.value.map(function(e){return g.aclOptionsLabel[e]}),onChange:function(e){t.onChange(e.map(function(e){return e.toLowerCase()}))}}))})}}),o.default.createElement(f.default,{label:"Security",toolTipMessage:h.createCredentials.security}),o.default.createElement(c.FieldControl,{name:"referers",render:function(e){return o.default.createElement(b.default,{toolTipMessage:h.createCredentials.referers,control:e,type:"dropdown",defaultSuggestionValue:"https://example.com/",label:"HTTP Referers",inputProps:{placeholder:"Add a HTTP Referer"}})}}),o.default.createElement(c.FieldControl,{name:"sources",render:function(e){return o.default.createElement(b.default,{control:e,toolTipMessage:h.createCredentials.sources,label:"IP Sources",defaultValue:{value:"0.0.0.0/0 (default)",description:"Matches all IP sources"},inputProps:{placeholder:"Add an IP Source in CIDR format"}})}}),o.default.createElement("div",{className:(0,a.css)("margin-top:30px")},o.default.createElement("span",{className:(0,a.css)(d.default.formLabel)},"Fields Filtering"),o.default.createElement(l.Tooltip,{className:(0,a.css)("margin-left:5px;color:#898989"),overlay:h.createCredentials.fieldFiltering,mouseLeaveDelay:0},o.default.createElement("i",{className:"fas fa-info-circle"}))),o.default.createElement(c.FieldControl,{strict:!1,name:"include_fields",render:function(t){var n=(0,t.handler)(),i=e.form.get("exclude_fields").value;return o.default.createElement(f.default,{label:o.default.createElement("span",{className:(0,a.css)(d.default.subHeader)},"Include"),toolTipMessage:h.createCredentials.include,component:o.default.createElement(l.Select,r({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},n,{onChange:function(e){e.includes("*")?n.onChange(["*"]):n.onChange(e)}}),o.default.createElement(E,{key:"*"},"* (Include all fields)"),Object.keys(e.mappings).map(function(t){return e.mappings[t].map(function(e){return i.includes(e)?null:o.default.createElement(E,{value:e,key:e,title:e},e,o.default.createElement("span",{className:(0,a.css)(d.default.fieldBadge)},t))})}))})}}),o.default.createElement(c.FieldControl,{strict:!1,name:"exclude_fields",render:function(t){var n=(0,t.handler)(),i=e.form.get("include_fields").value;return o.default.createElement(f.default,{label:o.default.createElement("span",{className:(0,a.css)(d.default.subHeader)},"Exclude"),toolTipMessage:h.createCredentials.exclude,component:o.default.createElement(l.Select,r({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},n,{onChange:function(e){e.length&&e.includes("*")?n.onChange(["*"]):n.onChange(e)}}),o.default.createElement(E,{key:"*"},"* (Exclude all fields)"),Object.keys(e.mappings).map(function(t){return e.mappings[t].map(function(e){return i.includes(e)?null:o.default.createElement(E,{value:e,key:e},e,o.default.createElement("span",{className:(0,a.css)(d.default.fieldBadge)},t))})}))})}}),o.default.createElement(c.FieldControl,{name:"ip_limit",render:function(e){var t=e.handler,n=e.hasError;return o.default.createElement(f.default,{label:"Max API calls/IP/hour",toolTipMessage:h.createCredentials.ipLimit,component:o.default.createElement(m.default,{justifyContent:"center",alignItems:"center"},o.default.createElement(l.Input,r({type:"number",className:(0,a.css)("border:solid 1px #9195A2!important;width:120px")},t())),n("isNegative")&&o.default.createElement("span",{className:(0,a.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}}),o.default.createElement(c.FieldControl,{name:"ttl",render:function(e){var t=e.handler,n=e.hasError;return o.default.createElement(f.default,{label:"TTL",toolTipMessage:h.createCredentials.ttl,component:o.default.createElement(m.default,{justifyContent:"center",alignItems:"center"},o.default.createElement(l.Input,r({type:"number",className:(0,a.css)("border:solid 1px #9195A2!important;width:120px")},t())),n("isNegative")&&o.default.createElement("span",{className:(0,a.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}})))}})},i(t,[{key:"isEditing",get:function(){return!!this.props.initialValues}}]),t}(o.default.Component);_.defaultProps={show:!1,isSubmitting:!1},_.propTypes={isPaidUser:s.default.bool,isSubmitting:s.default.bool,show:s.default.bool,cancel:s.default.func,onSubmit:s.default.func,initialValues:s.default.shape({description:s.default.string,operationType:s.default.object,acl:s.default.arrayOf(s.default.string),referers:s.default.arrayOf(s.default.string),sources:s.default.arrayOf(s.default.string),include_fields:s.default.arrayOf(s.default.string),exclude_fields:s.default.arrayOf(s.default.string),ip_limit:s.default.oneOfType([s.default.number,s.default.string]),ttl:s.default.number,meta:s.default.object})},t.default=_},1432:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=s(r),o=s(n(1431));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(n){l(this,t);var r=c(this,e.call(this,n));return r.handleSubmit=function(e,t){var n=a({},e.value.operationType,e.value);delete n.operationType,Object.keys(n).forEach(function(e){void 0!==n[e]&&("ttl"===e&&(n[e]=parseInt(n[e],10)),"ip_limit"===e&&(n[e]=parseFloat(n[e],10)))}),r.props.initialValues||t?r.props.updatePermission(n,t):r.props.newPermission(n)},r.state={description:null,selectedType:"read"},r.types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}},r.expand=r.expand.bind(r),r.onSelect=r.onSelect.bind(r),r.updateDescription=r.updateDescription.bind(r),r}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.description&&this.setState({description:this.props.description})},t.prototype.onSelect=function(e){this.setState({selectedType:e})},t.prototype.expand=function(){this.setState({show:!this.state.show,clearInput:!0})},t.prototype.updateDescription=function(e){e!==this.state.description&&this.setState({description:e,clearInput:!1})},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"description":n=i.default.createElement("div",{className:"ad-create-email"},i.default.createElement(u,{updateDescription:this.updateDescription,clearInput:this.state.clearInput}));break;case"buttonGroup":n=i.default.createElement("span",{className:"ad-create-button-group without-margin"},Object.keys(this.types).map(function(e){return i.default.createElement(f,{key:e,type:e,selectedType:t.state.selectedType,description:t.types[e].description,onSelect:t.onSelect})}))}return n},t.prototype.render=function(){var e=this;return i.default.createElement("div",{className:"ad-create col-xs-12"},this.props.showCredForm&&i.default.createElement(o.default,{isPaidUser:this.props.isPaidUser,isSubmitting:this.props.isSubmitting,onSubmit:this.handleSubmit,show:this.props.showCredForm,handleCancel:this.props.handleCancel,mappings:this.props.mappings,initialValues:this.props.initialValues}),i.default.createElement("div",{className:"ad-create-collapse"},i.default.createElement("a",{className:"ad-theme-btn primary",onClick:function(){return e.props.showForm()}},"New Credentials")),i.default.createElement("div",{className:"ad-create-expand flex align-center justify-between"},i.default.createElement("div",null,this.renderElement("description"),i.default.createElement("div",{className:"ad-create-button-group-container"},this.renderElement("buttonGroup"))),i.default.createElement("div",null,i.default.createElement("button",{className:"ad-theme-btn primary ad-create-submit",onClick:this.newPermission},"Create"))))},t}(r.Component);t.default=d;var u=function(e){function t(n){l(this,t);var a=c(this,e.call(this,n));return a.state={description:""},a.handleInput=a.handleInput.bind(a),a}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.clearInput&&this.setState({description:""})},t.prototype.handleInput=function(e){this.setState({description:e.target.value},this.validateDescription)},t.prototype.validateDescription=function(){this.state.description&&this.state.description.trim()?this.props.updateDescription(this.state.description):this.props.updateDescription(null)},t.prototype.render=function(){return i.default.createElement("input",{type:"text",placeholder:"Optional description text",className:"form-control",value:this.state.description,onChange:this.handleInput})},t}(r.Component),f=function(e){return i.default.createElement("label",{className:"radio-inline",htmlFor:e.type},i.default.createElement("input",{type:"radio",name:e.type,checked:e.selectedType===e.type,onChange:e.onSelect&&function(){return e.onSelect(e.type)}})," ",e.description,i.default.createElement("span",{className:"checkmark"}))}},1433:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a);var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={edit:!1,description:a.props.description},a.stopUpdate=!1,a.handleInput=a.handleInput.bind(a),a.handleKeyPress=a.handleKeyPress.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.description&&this.setState({description:this.props.description})},t.prototype.componentDidMount=function(){var e=this;$(document).mouseup(function(t){if(!e.stopUpdate){var n=$(e.inputRef);n.is(t.target)||0!==n.has(t.target).length||e.setEdit(!1)}})},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.handleInput=function(e){this.setState({description:e.target.value})},t.prototype.handleKeyPress=function(e){"Enter"==e.key&&(this.setEdit(!1),this.props.updatDescription(this.state.description))},t.prototype.setEdit=function(e){this.setState({edit:e},function(){e&&$(this.inputRef).trigger("focus")}.bind(this))},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"input":var a=r.default.createElement("p",{className:"ad-editable-value",onClick:function(){return t.setEdit(!0)}},this.props.description||"No Description"),i=r.default.createElement("div",{className:"ad-editable-edit col-xs-12"},r.default.createElement("input",{ref:function(e){return t.inputRef=e},type:"text",placeholder:"Type and press enter",defaultValue:this.state.description,className:"form-control",onChange:this.handleInput,onKeyPress:this.handleKeyPress}));n=this.state.edit?i:a}return n},t.prototype.render=function(){return r.default.createElement("div",{className:"col-xs-12 ad-editable-container"},r.default.createElement("div",{className:"permission-editable ad-editable"},this.renderElement("input")))},t}(a.Component);t.default=i},1434:function(t,n,a){"use strict";n.__esModule=!0;var r=a(1),i=f(r),o=f(a(36)),s=a(16),l=f(a(398)),c=f(a(444)),p=a(38),d=a(574),u=f(a(1433));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e));return a.editCredentials=function(){var e=a.props,t=e.permissionInfo,n=e.showForm,r="";Object.keys(d.Types).every(function(e){var n=d.Types[e];return n.read!==t.read||n.write!==t.write||(r=n,!1)}),n({description:t.description,operationType:r,acl:t.acl,referers:t.referers,sources:t.sources,include_fields:t.include_fields,exclude_fields:t.exclude_fields,ip_limit:t.ip_limit,ttl:t.ttl,meta:{username:t.username}})},a.state={read:a.props.permissionInfo.read,write:a.props.permissionInfo.write,description:a.props.permissionInfo.description,credentials:a.props.permissionInfo.username+":"+a.props.permissionInfo.password,showKey:!1},a.confirmBoxInfo={title:i.default.createElement("span",null,"Delete Credentials"),description:i.default.createElement("p",null,"This action will permanently ",i.default.createElement("strong",null,"delete")," the selected credentials. If these are the only credentials, you may lose access to other GUI views."),buttons:{cancel:"Go back",confirm:"Confirm"}},a.keySummary=p.common.keySummary(),a.updatDescription=a.updatDescription.bind(a),a.deletePermission=a.deletePermission.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.setKeyType()},n.prototype.componentWillReceiveProps=function(e){e.permissionInfo&&this.setState({read:e.permissionInfo.read,write:e.permissionInfo.write,description:e.permissionInfo.description,credentials:e.permissionInfo.username+":"+e.permissionInfo.password},this.setKeyType)},n.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.cp&&this.cp.destroy()},n.prototype.setKeyType=function(){this.setState({keyType:this.detectKey()})},n.prototype.ccSuccess=function(){toastr.success(this.state.description+" Credentials have been copied successully!"),"admin"===this.state.keyType&&toastr.warning('The copied credentials can modify data in your app, do not use them in code that runs in the web browser. Instead, generate <a href="guide-link">read-only credentials</a>.')},n.prototype.ccError=function(){toastr.error("Error",e)},n.prototype.changePermission=function(e){var t;this.setState(((t={})[e]=!this.state[e],t),this.applyChange)},n.prototype.applyChange=function(){s.appbaseService.updatePermission(this.props.appId,this.props.permissionInfo.username,this.state).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},n.prototype.updatDescription=function(e){this.setState({description:e},this.applyChange)},n.prototype.deletePermission=function(){var e=this;s.appbaseService.deletePermission(this.props.appId,this.props.permissionInfo.username).then(function(t){e.props.getInfo()}).catch(function(e){console.log(e)})},n.prototype.toggleKey=function(){this.setState({showKey:!this.state.showKey})},n.prototype.detectKey=function(){var e=null;return this.state.read&&this.state.write?e="admin":this.state.read?e="read":this.state.write&&(e="write"),e},n.prototype.render=function(){var e=this,t=(0,o.default)({active:this.state.showKey}),n=(0,o.default)({eye:!this.state.showKey,"eye-slash":this.state.showKey});return i.default.createElement("div",{className:"permission-card col-xs-12 p-0"},i.default.createElement("header",{className:"permission-card-header col-xs-12"},i.default.createElement("summary",{className:"col-xs-10 p-0"},i.default.createElement(u.default,{description:this.state.description,updatDescription:this.updatDescription}))),i.default.createElement("div",{className:"permission-card-body col-xs-12"},i.default.createElement("div",{className:"col-xs-12 col-sm-3 col-md-3 col-lg-5 permission-card-body-description"},this.keySummary[this.state.keyType]),i.default.createElement("div",{className:"col-xs-12 col-sm-9 col-md-9 col-lg-7 permission-card-body-credential"},i.default.createElement("div",{className:"ad-permission-key "+t},i.default.createElement("div",{className:"ad-permission-key-value"},this.state.credentials),i.default.createElement("div",{className:"ad-permission-key-buttons"},i.default.createElement("a",{className:"ad-credential-btn ad-permission-key-lock-btn",key:n,onClick:function(){return e.toggleKey()}},i.default.createElement("i",{className:"fas fa-"+n})),i.default.createElement(c.default,{type:"danger",onSuccess:function(){return e.ccSuccess()},onError:function(){return e.ccError()}},i.default.createElement("a",{className:"ad-credential-btn ad-permission-key-copy-btn","data-clipboard-text":this.state.credentials},i.default.createElement("i",{className:"far fa-clone"}))),i.default.createElement("a",{onClick:this.editCredentials,className:"ad-credential-btn ad-permission-key-copy-btn"},i.default.createElement("i",{className:"far fa-edit"})))),i.default.createElement("aside",{className:"permission-key-delete"},i.default.createElement(l.default,{info:this.confirmBoxInfo,onConfirm:this.deletePermission,type:"danger"},i.default.createElement("a",{className:"permission-delete animation"},i.default.createElement("i",{className:"fa fa-trash-alt"})))))))},n}(r.Component);n.default=m},341:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=f(a),i=f(n(142)),o=n(16),s=n(508),l=n(413),c=f(n(1434)),p=f(n(1432)),d=f(n(381)),u=f(n(1427));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleCancel=function(){a.setState({showCredForm:!1})},a.updatePermission=function(e,t){a.setState({isSubmitting:!0},function(){o.appbaseService.updatePermission(a.appId,t,e).then(function(){a.getInfo(),a.setState({isSubmitting:!1,showCredForm:!1})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Unable to save credentials")),a.setState({isSubmitting:!1})})})},a.showForm=function(e){e?a.setState({showCredForm:!0,currentPermissionInfo:e}):a.setState({showCredForm:!0,currentPermissionInfo:void 0})},a.state={info:null,isSubmitting:!1,showCredForm:!1,isPaidUser:!1,mappings:{},currentPermissionInfo:void 0},a.getInfo=a.getInfo.bind(a),a.newPermission=a.newPermission.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.stopUpdate=!1,this.initialize(this.props)},t.prototype.componentDidMount=function(){var e=this;if((0,l.checkUserStatus)().then(function(t){t.isPaidUser&&e.setState({isPaidUser:t.isPaidUser})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Something went wrong"))}),this.props.params.appId){var t=o.appbaseService.userInfo.body.apps[this.props.params.appId];(0,l.getCredentials)(t).then(function(t){var n=t.username,a=t.password;return(0,s.getMappings)(e.appName,n+":"+a)}).then(function(t){e.setState({mappings:t})}).catch(function(e){toastr.error("Error","Unable to fetch mappings")})}},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.componentWillReceiveProps=function(e){e.params.appId!=this.appName&&this.initialize(e)},t.prototype.initialize=function(e){this.appName=e.params.appId,this.appId=o.appbaseService.userInfo.body.apps[this.appName],this.getInfo()},t.prototype.getInfo=function(){var e=this;this.info={},o.appbaseService.getPermission(this.appId).then(function(t){e.info.permission=t,e.stopUpdate||e.setState({info:e.info})}),o.appbaseService.getAppInfo(this.appId).then(function(t){e.info.appInfo=t.body,e.stopUpdate||e.setState({info:e.info})})},t.prototype.newPermission=function(e){var t=this;this.setState({isSubmitting:!0},function(){o.appbaseService.newPermission(t.appId,e).then(function(){t.getInfo(),t.setState({isSubmitting:!1,showCredForm:!1})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Unable to save credentials")),t.setState({isSubmitting:!1})})})},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"permissions":this.state.info&&this.state.info.permission&&(n=this.state.info.permission.body.sort(function(e,t){var n=e.description,a=t.description;return n<a?-1:n>a?1:0}).map(function(e,n){return r.default.createElement(c.default,{appId:t.appId,key:n,permissionInfo:e,isPaidUser:t.state.isPaidUser,mappings:t.state.mappings,getInfo:t.getInfo,showForm:t.showForm})}));break;case"deleteApp":this.isOwner()&&(n=r.default.createElement("footer",{className:"ad-detail-page-body other-page-body col-xs-12 delete-app-body"},r.default.createElement("div",{className:"page-body col-xs-12"},r.default.createElement("section",{className:"col-xs-12 p-0"},r.default.createElement("div",{className:"col-xs-12 p-0"},r.default.createElement(u.default,{appName:this.appName,appId:this.appId}))))))}return n},t.prototype.isOwner=function(){return this.state.info&&this.state.info.appInfo&&this.state.info.appInfo.owner===o.appbaseService.userInfo.body.email},t.prototype.render=function(){return r.default.createElement(d.default,{pageInfo:{currentView:"credentials",appName:this.appName,appId:this.appId}},r.default.createElement("div",{id:"permission-page",className:"ad-detail-page ad-dashboard row"},r.default.createElement("div",{className:"ad-detail-page-body col-xs-12"},r.default.createElement("div",{className:"page-body col-xs-12"},r.default.createElement("section",{className:"ad-detail-page-body-card col-xs-12 p-0"},r.default.createElement("div",{className:"ad-detail-page-body-card-body col-xs-12 p-0"},this.renderElement("permissions"),this.isOwner()?r.default.createElement(p.default,{appId:this.props.params.appId,appName:this.appName,isSubmitting:this.state.isSubmitting,newPermission:this.newPermission,updatePermission:this.updatePermission,showForm:this.showForm,showCredForm:this.state.showCredForm,handleCancel:this.handleCancel,isPaidUser:this.state.isPaidUser,mappings:this.state.mappings,initialValues:this.state.currentPermissionInfo}):null)))),this.renderElement("deleteApp")))},t}(a.Component);t.default=m},366:function(e,t,n){"use strict";t.__esModule=!0;var a=n(345);var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(a).default)("div",{target:"e1tnvnpn0"})("display:flex;flex-direction:",function(e){return e.flexDirection||"row"},";",function(e){var t=e.alignItems;return t&&(0,a.css)("align-items:",t,";")},";",function(e){var t=e.justifyContent;return t&&(0,a.css)("justify-content:",t,";")},";");t.default=r},380:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=d(a),i=n(39),o=d(n(36)),s=d(n(141)),l=n(38),c=d(n(93)),p=n(16);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.config=c.default,a.contextPath=p.appbaseService.getContextPath(),a.state={activeApp:a.props.appName},a.stopUpdate=!1,a.links=[{label:"Dashboard",link:a.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:r.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Mappings",link:a.contextPath+"mappings/",type:"internal",name:"mappings",tooltip:"View or update mappings",img:r.default.createElement("img",{className:"img-responsive",alt:"mappings",src:"../../../assets/images/"+a.config.name+"/sidebar/mapping.svg"})},{label:"Search Sandbox",link:a.contextPath+"search-sandbox/",type:"internal",name:"search-sandbox",tooltip:"Update search preferences",img:r.default.createElement("img",{className:"img-responsive",alt:"search-sandbox",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Browser",link:a.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:r.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+a.config.name+"/sidebar/browser.svg"})},{label:"Analytics",link:a.contextPath+"analytics/",type:"internal",name:"analytics",tooltip:"View app analytics",img:r.default.createElement("img",{className:"img-responsive",alt:"analytics",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Credentials",link:a.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:r.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+a.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:a.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:r.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+a.config.name+"/sidebar/team.svg"})}],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"links":n=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,n){var a=(0,o.default)({active:t.props.currentView===e.name}),l=r.default.createElement("div",{className:"img-container"},e.img),c=r.default.createElement(i.Link,{className:a,to:e.link+t.state.activeApp},l,r.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return r.default.createElement(s.default,{overlay:r.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(n+1)},r.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(n+1)},c))})}return n},t.prototype.render=function(){var e=this;return r.default.createElement("aside",{className:"ad-detail-sidebar"},r.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(a.Component);t.default=u},381:function(e,t,n){"use strict";t.__esModule=!0;var a=c(n(0)),r=n(1),i=c(r),o=c(n(380)),s=c(n(93)),l=n(16);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){return i.default.createElement("div",{className:"page404"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},i.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},"Go to"," ",i.default.createElement("a",{href:"/apps"},"/apps",i.default.createElement("i",{className:"fa fa-cursor"})))))},d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={showChild:!1},a.selectedApp=a.props.pageInfo.appName,a.config=s.default,a.getAllApps(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var n=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!n||!n.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=i.default.Children.map(this.props.children,function(e){return i.default.cloneElement(e,{})});return i.default.createElement("div",{className:"ad-detail row"},i.default.createElement(o.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),i.default.createElement("div",{className:"ad-detail-view-container"},i.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?i.default.createElement(p,null):null)))},t}(r.Component);t.default=d,d.propTypes={pageInfo:a.default.shape({currentView:a.default.string.isRequired,appName:a.default.string.isRequired,appId:a.default.oneOfType([a.default.number.isRequired,a.default.string.isRequired])})},d.defaultProps={}},382:function(e,t,n){"use strict";t.__esModule=!0,t.ErrorLogger=t.Input=t.deleteBtn=t.Button=t.Footer=t.subItem=t.item=t.dropdown=t.title=t.row=t.heading=t.Header=t.HeaderWrapper=t.card=void 0;var a=n(345),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.card=(0,a.css)("width:100%;max-width:980px;margin:25px auto;background-color:#fff;border-radius:3px;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);box-sizing:border-box;i{margin:3px 3px 0px 8px;}"),t.HeaderWrapper=(0,r.default)("div",{target:"e1tvtz600"})("display:flex;flex-direction:column;align-items:flex-start;justify-content:center;p{font-size:13px;margin:6px 0 0;color:#999;}"),t.Header=(0,r.default)("header",{target:"e1tvtz601"})("display:flex;flex-direction:row;justify-content:space-between;font-weight:600;padding-top:20px;.col{min-width:150px;display:inline-flex;margin:0 0 0 12px;text-align:center;&:first-child{margin:0;}&.col--grow{flex-grow:1;}}"),t.heading=(0,a.css)("font-size:16px;letter-spacing:0.015rem;font-weight:600;margin:0;padding:0;"),t.row=(0,a.css)("box-sizing:border-box;background-color:rgba(0,0,0,0.02);padding:15px 0 15px 15px;margin:15px 0;border:1px solid rgba(0,0,0,0.05);"),t.title=(0,a.css)("font-size:15px;letter-spacing:0.015rem;font-weight:600;margin:0 0 12px 0;padding:0;"),t.dropdown=(0,a.css)("width:auto;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;margin-left:12px;padding:6px 15px 6px 6px;text-transform:capitalize;"),t.item=(0,a.css)("display:flex;flex-direction:row;justify-content:space-between;padding:10px;margin-bottom:2px;align-items:center;background-color:rgba(255,255,255,0.8);"),t.subItem=(0,a.css)("display:flex;flex-direction:row;align-items:center;"),t.Footer=(0,r.default)("footer",{target:"e1tvtz602"})("position:sticky;bottom:0;width:100%;height:66px;box-shadow:0 -3px 5px 0 rgba(0,0,0,0.02);background-color:#fff;transition:all .3s ease;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:0 20px;display:flex;flex-direction:row-reverse;align-items:center;"),t.Button=(0,r.default)("a",{target:"e1tvtz603"})("display:inline-flex;height:42px;padding:0 20px;justify-content:center;align-items:center;color:#53683b;font-weight:600;background-color:",function(e){return e.ghost?"#efefef":"#b6ef7e"},";;text-transform:uppercase;box-shadow:0 3px 3px 0 rgba(0,0,0,0.1);cursor:pointer;margin-left:12px;&:hover,&:focus{background-color:",function(e){return e.ghost?"#fafafa":"#c3f295"},";box-shadow:0 5px 5px 0 rgba(0,0,0,0.1);text-decoration:none;}"),t.deleteBtn=(0,a.css)("display:flex;flex-grow:1;alignItems:center;flex-direction:row;cursor:pointer;span{max-width:calc(100% - 40px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}a{display:none;cursor:pointer;color:#444;margin-left:15px;transition:all .3s ease;}&:hover a,&:focus a{display:inline;&:hover,&:focus{color:#222;}}"),t.Input=(0,r.default)("input",{target:"e1tvtz604"})("diplay:flex;flex-grow:1;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;padding:5px;"),t.ErrorLogger=(0,r.default)("pre",{target:"e1tvtz605"})("height:auto;max-height:200px;overflow-y:scroll;width:100%;background-color:#eee;padding:10px;font-family:monospace;font-size:14px;")},398:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(416),s=n(38);var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={showModal:!!a.props.showModal&&a.props.showModal,validate:!1,inputValue:null},a.open=a.open.bind(a),a.onConfirm=a.onConfirm.bind(a),a.onCancel=a.onCancel.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose&&this.props.onClose(),this.setState({showModal:!1})},t.prototype.open=function(){this.props.onOpen&&this.props.onOpen(),this.setState({showModal:!0})},t.prototype.onConfirm=function(){this.props.onConfirm&&this.props.onConfirm(),this.close()},t.prototype.onCancel=function(){this.props.onCancel&&this.props.onCancel(),this.close()},t.prototype.getType=function(){return"modal-"+(this.props.type?this.props.type:"info")},t.prototype.handleInputChange=function(e){this.setState({inputValue:e.target.value,validate:e.target.value===this.props.info.validate.value})},t.prototype.render=function(){var e=this,t=i.default.Children.map(this.props.children,function(t){return i.default.cloneElement(t,{onClick:e.open})});return i.default.createElement("div",null,t,i.default.createElement(o.Modal,{className:this.getType(),show:this.state.showModal,onHide:function(){return e.close()}},i.default.createElement(o.Modal.Header,{closeButton:!0},this.props.info&&this.props.info.title?i.default.createElement(o.Modal.Title,null,this.props.info.title):null),i.default.createElement(o.Modal.Body,{className:"clearfix"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12"},this.props.info.description),this.props.info&&this.props.info.validate?i.default.createElement("div",{className:"col-xs-12 form-group"},i.default.createElement("input",{placeholder:this.props.info.validate.placeholder,type:"text",className:"form-control",defaultValue:this.state.inputValue,onChange:this.handleInputChange})):null),i.default.createElement("div",{className:"col-xs-12 p-0"},this.props.info.buttons.confirm?i.default.createElement("button",a({className:"ad-theme-btn ad-confirm-btn"},s.common.isDisabled(this.props.info.validate&&!this.state.validate),{onClick:this.onConfirm}),this.props.info.buttons.confirm):null,this.props.info.buttons.cancel?i.default.createElement("button",{className:"ad-theme-btn ad-cancel-btn",onClick:this.onCancel},this.props.info.buttons.cancel):null))))},t}(r.Component);t.default=l,l.propTypes={},l.defaultProps={}},413:function(e,t,n){"use strict";t.__esModule=!0,t.getCredentials=function(e){return new Promise(function(t,n){fetch(a+"/app/"+e+"/permissions",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")&&e.include_fields.includes("*")});n||(n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")})),n||(n=e.body.find(function(e){return e.read&&e.write})),n||(n=e.body.find(function(e){return e.read})),t(n)}).catch(function(e){n(e)})})},t.checkUserStatus=function(){return new Promise(function(e,t){fetch(a+"/user",{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e.body.c_id?e.body.c_id:(t(),null)}).then(i).then(function(e){return e.json()}).then(function(t){t.plan&&"free"!==t.plan||e({isPaidUser:!1,plan:"free"}),e({isPaidUser:!0,plan:t.plan})}).catch(function(){t()})})};var a=t.ACC_API="https://accapi.appbase.io",r=(t.SCALR_API="https://scalr.api.appbase.io",t.BILLING_API="https://transactions.appbase.io");function i(e){return fetch(r+"/api/me",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({c_id:e})})}},439:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140);t.default={formLabel:(0,a.css)("font-weight:500;color:black;font-size:14px;"),subHeader:(0,a.css)("margin-left:10px;font-weight:100;font-size:14px;"),addedWhiteList:(0,a.css)("background-color:#fbfcfe;border:solid 1px #83a2ee;border-radius:2px;padding:5px 10px;color:#343e54;margin-bottom:15px;width:100%;"),description:(0,a.css)("font-size:12px,font-weight:100;"),serachResultsCls:(0,a.css)("border:solid 1px #d9d9d9;border-top:none;border-radius:3px;position:absolute;width:100%;background-color:#fff;z-index:1;"),error:(0,a.css)("color:red;font-size:12px;padding:5px;"),fieldBadge:(0,a.css)("margin-left:2px;font-size:10px;background-color:#a2a4aa;border-radius:3px;padding:1px 2px;color:#fff;"),overlay:(0,a.css)("position:absolute;top:160px;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.8);z-index:9999;color:black;"),upgradePlan:(0,a.css)("margin-top:200px;font-size:16px;font-weight:500;text-align:center;")}},444:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=o(a),i=o(n(443));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getRef=a.getRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.cp&&this.cp.destroy()},t.prototype.getRef=function(e){if(e){var t=e;this.cp&&this.cp.destroy(),this.cp=new i.default(t),this.cp.on("success",this.props.onSuccess),this.cp.on("error",this.props.onError)}},t.prototype.render=function(){var e=this,t=r.default.Children.map(this.props.children,function(t){return r.default.cloneElement(t,{ref:e.getRef})});return r.default.createElement("span",null,t)},t}(a.Component);t.default=s,s.propTypes={},s.defaultProps={}},455:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=c(n(1)),i=c(n(0)),o=n(364),s=c(n(439)),l=c(n(366));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.label,n=e.component,i=e.toolTipMessage;return r.default.createElement(l.default,{className:(0,a.css)("margin-top:30px")},r.default.createElement(l.default,{className:(0,a.css)("flex:25%")},r.default.createElement("div",null,r.default.createElement("span",{className:(0,a.css)(s.default.formLabel)},t,i&&r.default.createElement(o.Tooltip,{className:(0,a.css)("margin-left:5px;color:#898989"),overlay:i,mouseLeaveDelay:0},r.default.createElement("i",{className:"fas fa-info-circle"}))))),r.default.createElement(l.default,{className:(0,a.css)("flex:75%;margin-left:20px")},n))};p.propTypes={label:i.default.oneOfType([i.default.string,i.default.node]),component:i.default.node,toolTipMessage:i.default.any},t.default=p},507:function(e,t,n){"use strict";t.__esModule=!0,t.default={aggs:{fields:{keyword:{type:"keyword"}},analyzer:"standard",search_analyzer:"standard"},search:{fields:{search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},searchaggs:{fields:{keyword:{type:"keyword",index:"not_analyzed"},search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},none:{}}},508:function(e,t,n){"use strict";t.__esModule=!0,t.REMOVED_KEYS=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getMappings=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(a,i){fetch(n+"/"+e+"/_mapping",{method:"GET",credentials:"include",headers:r({},function(e){if(e)return{Authorization:"Basic "+btoa(e)};return{}}(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(t){var n=Object.keys(t[e].mappings).filter(function(e){return!p.includes(e)}),i={};n.forEach(function(n){var a;i=r({},i,((a={})[n]=t[e].mappings[n],a))}),a(i)}).catch(function(e){i(e)})})},t.reIndex=function(e,t,n){var a={mappings:e,settings:o.default,exclude_fields:n,es_version:"5"};return new Promise(function(e,n){fetch(s.ACC_API+"/app/"+t+"/reindex",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(t){t.error&&n(t.error),t.body&&t.body.response_info.failures.length&&n(t.body.response_info.failures),t.message&&n(t.message),e(t.body.response_info.took)}).catch(function(e){n(e)})})},t.hasAggs=d,t.transformToES5=function e(t){var n=r({},t);Object.keys(n).every(function(t){if(c.includes(t))return!1;if("string"===n[t].type){var o,s=!!n[t].fields,l=r({},n[t]);s&&(n[t].fields.search?l=i.default.search:d(n[t].field)&&(l=i.default.aggs)),n=r({},n,((o={})[t]=r({},l,{type:"text"}),o))}else if("object"===a(n[t])&&!Array.isArray(n[t])){var p;n=r({},n,((p={})[t]=r({},n[t],e(n[t])),p))}return!0});return n},t.updateMapping=function e(t,n,o,s){var l=r({},t);Object.keys(l).every(function(t){if(c.includes(t))return!1;if(t===n){var p,d={};s&&(d=i.default[s]),l=r({},l,((p={})[t]=r({},d,{type:o}),p))}else if("object"===a(l[t])&&!Array.isArray(l[t])){var u;l=r({},l,((u={})[t]=r({},l[t],e(l[t],n,o,s)),u))}return!0});return l},t.traverseMapping=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(e).forEach(function(a){return function(e,a){n[a]=[],function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.properties&&Object.keys(r.properties).forEach(function(o){t||n[a].push(""+i+o);var s=r.properties[o];s&&s.properties?e(s,""+i+o+"."):t&&n[a].push(""+i+o)})}(e)}(e[a],a)}),n},t.getMappingsTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){e[n].properties&&(t=r({},t,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={};return Object.keys(t).forEach(function(i){if(t[i].properties)a=r({},a,e(t[i].properties,i));else{var o,s=t[i].fields;a=r({},a,((o={})[(n?n+".":"")+i]={type:t[i].type,fields:t[i].fields?Object.keys(t[i].fields):[],originalFields:s||{}},o))}}),a}(e[n].properties,null)))}),t};var i=l(n(507)),o=l(n(575)),s=n(413);function l(e){return e&&e.__esModule?e:{default:e}}var c=["meta"],p=t.REMOVED_KEYS=["~logs","~percolator",".logs",".percolator","_default_"];function d(e){if(!e)return!1;var t=!1;return Object.keys(e).forEach(function(n){("keyword"===e[n].type||"string"===e[n].type&&"not_analyzed"===e[n].index)&&(t=!0)}),t}},574:function(e,t,n){"use strict";t.__esModule=!0;var a=t.Suggestions={1:{prefix:"",suffix:"",description:"Matches exactly"},2:{prefix:"",suffix:"*",description:"Matches referers starting with"},3:{prefix:"*",suffix:"",description:"Matches referers ending with"},4:{prefix:"*",suffix:"*",description:"Matches referers containing"}};t.getSuggestionCode=function(e){return"*"===e?"Matches All":e.startsWith("*")&&e.endsWith("*")?a[4].description:e.startsWith("*")?a[3].description:e.endsWith("*")?a[2].description:a[1].description},t.ipValidator=function(e){var t=e&&e.split("/");if(t&&/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t[0])){var n=parseInt(t[1],10);return n>-1&&n<33}return!1},t.isNegative=function(e){if(e.value&&parseInt(e.value,10)<0)return{isNegative:!0}},t.Types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}},t.aclOptions=["index","get","search","settings","stream","bulk","delete"],t.aclOptionsLabel={index:"Index",get:"Get",search:"Search",settings:"Settings",stream:"Stream",bulk:"Bulk",delete:"Delete"},t.defaultAclOptions=["index","get","search","settings","stream","bulk","delete"]},575:function(e,t,n){"use strict";t.__esModule=!0,t.default={analysis:{analyzer:{autosuggest_analyzer:{filter:["lowercase","asciifolding","autosuggest_filter"],tokenizer:"standard",type:"custom"},ngram_analyzer:{filter:["lowercase","asciifolding","ngram_filter"],tokenizer:"standard",type:"custom"}},filter:{autosuggest_filter:{max_gram:"20",min_gram:"1",token_chars:["letter","digit","punctuation","symbol"],type:"edge_ngram"},ngram_filter:{max_gram:"9",min_gram:"2",token_chars:["letter","digit","punctuation","symbol"],type:"ngram"}}}}}}]);
>>>>>>> builds
=======
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1427:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=s(a),i=(n(39),n(16)),o=s(n(398));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.confirmBoxInfo={title:r.default.createElement("span",null,"Delete App"),description:r.default.createElement("p",null,"Type the app name ",r.default.createElement("strong",null,a.props.appName)," below to delete the app. This action cannot be undone."),validate:{value:a.props.appName,placeholder:"Type app name"},buttons:{cancel:"Go back",confirm:"Confirm"}},a.deleteApp=a.deleteApp.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.deleteApp=function(){i.appbaseService.deleteApp(this.props.appId).then(function(e){i.appbaseService.pushUrl("/apps")}).catch(function(e){console.log(e)})},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.render=function(){return r.default.createElement("div",{className:"delete-card delete-active col-xs-12"},r.default.createElement("header",{className:"col-xs-12 col-xs-offset-1 pull-right delete-title"},r.default.createElement("summary",{className:"delete-app-container"},r.default.createElement(o.default,{info:this.confirmBoxInfo,onConfirm:this.deleteApp,type:"danger"},r.default.createElement("a",{className:"ad-theme-btn danger ad-confirm-btn"},"Delete App")),r.default.createElement("aside",{className:"permission-card-body"},r.default.createElement("span",{className:"permission-delete-card-description"},"Deleting an app is a permanent action, and will delete all the associated data, credentials and team sharing settings.")))))},t}(a.Component);t.default=l},1428:function(e,t,n){"use strict";t.__esModule=!0;var a=o(n(1)),r=n(361),i=o(n(365));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=a.default.createElement(r.Icon,{type:"loading",style:{fontSize:50,marginTop:"250px"},spin:!0});return a.default.createElement(i.default,{justifyContent:"center",alignItems:"center"},a.default.createElement(r.Spin,{indicator:e}))}},1429:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=u(n(1)),o=n(361),s=u(n(0)),l=u(n(439)),c=u(n(455)),p=u(n(365)),d=n(574);function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSelectOption=function(e){a.setState(function(){var t=a.props.control;return e&&!t.value.includes(e)?(t.onChange([].concat(t.value,[e])),{text:void 0}):{text:void 0}})},a.hanldeOnChange=function(e){a.setState({text:e})},a.handleOnSearch=function(e){e&&e.startsWith("**")||a.setState({text:e.trim()})},a.removeItem=function(e){var t=a.props.control,n=t.value,r=n.indexOf(e);r>-1&&(n.splice(r,1),t.onChange(n))},a.submitOnBlur=function(){a.props.control.value.includes(a.state.text)?(a.setState({text:void 0}),a.props.control.setErrors(void 0)):(0,d.ipValidator)(a.state.text)?(a.props.control.onChange([].concat(a.props.control.value,[a.state.text])),a.setState({text:void 0})):a.state.text?a.props.control.setErrors({invalidIP:!0}):a.props.control.setErrors(void 0)},a.inputRef=void 0,a.state={text:void 0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.label,s=t.inputProps,u=t.defaultSuggestionValue,f=t.control,m=f.value,h=f.handler,y=f.hasError,g=f.disabled,b=f.enabled,v=t.type,w=t.toolTipMessage,E=this.state.text;return i.default.createElement(c.default,{label:i.default.createElement("span",{className:(0,a.css)(l.default.subHeader)},n),toolTipMessage:w,component:i.default.createElement(p.default,{className:(0,a.css)("width:100%;position:relative"),flexDirection:"column"},m.map(function(t){return i.default.createElement(p.default,{key:t,justifyContent:"space-between",className:(0,a.css)(l.default.addedWhiteList)},i.default.createElement("div",null,i.default.createElement("div",null,t),"dropdown"===v&&i.default.createElement("div",{className:(0,a.css)("font-size:12px;font-weight:normal")},(0,d.getSuggestionCode)(t))),b&&i.default.createElement("div",{className:(0,a.css)("cursor:pointer")},i.default.createElement(o.Icon,{onClick:function(){return e.removeItem(t)},type:"close-circle-o"})))}),i.default.createElement("div",null,"dropdown"===v?i.default.createElement(o.Select,r({showSearch:!0},s,{value:E,onSearch:this.handleOnSearch,onSelect:this.handleSelectOption,onBlur:this.handleSelectOption,defaultActiveFirstOption:!!E,showArrow:!1,filterOption:!1,disabled:g,style:{width:"100%"}}),"*"===E&&1===E.length?i.default.createElement(o.Select.Option,{key:"*"},i.default.createElement(p.default,{justifyContent:"space-between"},i.default.createElement("span",null,"*"),i.default.createElement("span",{className:(0,a.css)(l.default.description)},(0,d.getSuggestionCode)("*")))):Object.keys(d.Suggestions).map(function(e){var t=d.Suggestions[e];if(E){var n=""+t.prefix+E+t.suffix;return i.default.createElement(o.Select.Option,{key:n},i.default.createElement(p.default,{justifyContent:"space-between"},i.default.createElement("span",null,n),i.default.createElement("span",{className:(0,a.css)(l.default.description)},t.description)))}return i.default.createElement(o.Select.Option,{className:(0,a.css)("pointer-events:none"),key:e},i.default.createElement(p.default,{justifyContent:"space-between",className:(0,a.css)("color:#d9d9d9;font-weight:100;font-size:12px")},i.default.createElement("span",null,t.prefix,u,t.suffix),i.default.createElement("span",{className:(0,a.css)(l.default.description)},t.description)))})):i.default.createElement(o.Input,r({},s,h(),{value:E,onChange:function(t){e.hanldeOnChange(t.target.value)},onBlur:this.submitOnBlur,onKeyPress:function(t){"Enter"===t.key&&e.submitOnBlur()}})),y("invalidIP")&&i.default.createElement("div",{className:(0,a.css)(l.default.error)},"Not a valid IP")))})},t}(i.default.Component);f.propTypes={label:s.default.string,toolTipMessage:s.default.any,inputProps:s.default.object,defaultSuggestionValue:s.default.string,control:s.default.object,type:s.default.oneOf(["dropdown"])},t.default=f},1430:function(e,t,n){"use strict";t.__esModule=!0,t.createCredentials=t.hoverMessage=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.hoverMessage=function(){return a.default.createElement("div",{style:{maxWidth:220}},"All appbase.io paid plans offer setting ACLs, rate limits per IP and advanced security permissions based on IP sources, HTTP Referers and restricting what fields are accessible.")},t.createCredentials={description:function(){return a.default.createElement("div",{style:{maxWidth:220}},"An optional description for your credential key.")},operationType:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Depending on the selection, the key can perform read-only, write-only or both read and write operations.")},acls:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Authorize API access to only selected operations.")},security:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Authorize API access based on selected HTTP Referers and IP Source values.")},referers:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Only selected HTTP Referers (aka URIs) are authorized to call the API with this credential.")},sources:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Only selected IP ranges (in CIDR format) are authorized to call the API with this credential.")},fieldFiltering:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Restrict fields that are returned when performing a search operation.")},include:function(){return a.default.createElement("div",{style:{maxWidth:220}},"All selected fields are returned in the search response.")},exclude:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Selected fields aren't returned in the search response. In case of a field being present in both include and exclude, exclude has a priority.")},ttl:function(){return a.default.createElement("div",{style:{maxWidth:220}},"Expiry time for this credential (in seconds). 0 means that it doesn't expire.")},ipLimit:a.default.createElement("div",{style:{maxWidth:220}},"Set a per hour ratelimit on API calls per IP address.")}},1432:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=v(n(1)),s=v(n(0)),l=n(361),c=n(1431),p=v(n(142)),d=v(n(439)),u=n(382),f=v(n(455)),m=v(n(365)),h=n(1430),y=n(508),g=n(574),b=v(n(1429));function v(e){return e&&e.__esModule?e:{default:e}}var w=l.Select.Option,E=l.Checkbox.Group,x=(0,a.css)(".ant-modal-content{width:580px;}"),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSubmit=function(){a.props.onSubmit(a.form,(0,p.default)(a.props,"initialValues.meta.username"))},a.form=c.FormBuilder.group({description:"",operationType:[g.Types.read,c.Validators.required],acl:[{value:(0,g.getDefaultAclOptionsByPlan)(n.plan),disabled:!n.isPaidUser},c.Validators.required],referers:[{value:["*"],disabled:!n.isPaidUser}],sources:[{value:["0.0.0.0/0"],disabled:!n.isPaidUser}],include_fields:[{value:["*"],disabled:!n.isPaidUser}],exclude_fields:[{value:[],disabled:!0}],ip_limit:[{value:7200,disabled:!n.isPaidUser},[c.Validators.required,g.isNegative]],ttl:[{value:0,disabled:!n.isPaidUser},[c.Validators.required,g.isNegative]]}),a.mappings=(0,y.traverseMapping)(a.props.mappings),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){if(this.props.isOwner){var e=this.form.get("include_fields"),t=this.form.get("exclude_fields");e.valueChanges.subscribe(function(e){e.includes("*")?(t.disable({emitEvent:!1}),t.reset([])):t.enable({emitEvent:!1})}),t.valueChanges.subscribe(function(t){t.includes("*")?(e.disable({emitEvent:!1}),e.reset([])):e.enable({emitEvent:!1})})}else this.form.disable();this.props.initialValues&&this.form.patchValue(this.props.initialValues)},t.prototype.componentWillReceiveProps=function(e){e.mappings!==this.props.mappings&&(this.mappings=(0,y.traverseMapping)(e.mappings))},t.prototype.componentWillUnmount=function(){this.form.get("include_fields").valueChanges.unsubscribe(),this.form.get("exclude_fields").valueChanges.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props,n=t.show,i=t.handleCancel,s=t.isPaidUser,p=t.isSubmitting,y=t.isOwner,v=t.plan;return o.default.createElement(c.FieldGroup,{strict:!1,control:this.form,render:function(t){var _=t.invalid;return o.default.createElement(l.Modal,{destroyOnClose:!1,style:{width:"600px"},className:(0,a.css)(x),footer:y?[o.default.createElement(l.Button,{key:"back",onClick:i},"Cancel"),o.default.createElement(l.Button,{loading:p,disabled:_,key:"submit",type:"primary",onClick:e.handleSubmit},e.isEditing?"Save":"Generate")]:[o.default.createElement(l.Button,{key:"back",onClick:i},"Cancel")],visible:n,onCancel:i},o.default.createElement("div",{className:(0,a.css)("position:relative")},o.default.createElement("span",{className:(0,a.css)("font-weight:500;color:black;font-size:16px;")},e.getText),o.default.createElement(c.FieldControl,{strict:!1,name:"description",render:function(t){var n=t.handler;return o.default.createElement(f.default,{label:"Description",toolTipMessage:h.createCredentials.description,component:o.default.createElement(l.Input,r({autoFocus:!e.isEditing,placeholder:"Add an optional description for this credential"},n()))})}}),o.default.createElement(c.FieldControl,{name:"operationType",render:function(e){var t=e.handler;return o.default.createElement(f.default,{label:"Key Type",toolTipMessage:h.createCredentials.operationType,component:o.default.createElement(l.Radio.Group,r({},t(),{className:(0,a.css)("label{font-weight:100}")}),Object.keys(g.Types).map(function(e){return o.default.createElement(l.Radio,{key:e,value:g.Types[e]},g.Types[e].description)}))})}}),!s&&o.default.createElement("div",{className:(0,a.css)(d.default.overlay)},o.default.createElement("div",{className:(0,a.css)(d.default.upgradePlan)},o.default.createElement("div",{style:{marginBottom:20}},o.default.createElement(l.Icon,{type:"lock",className:(0,a.css)("font-size:40px")})),"Upgrade to a paid plan to add advanced security permissions.",o.default.createElement(l.Tooltip,{overlay:h.hoverMessage,mouseLeaveDelay:0},o.default.createElement("i",{className:"fas fa-info-circle"})),o.default.createElement(u.Button,{className:(0,a.css)("margin-top:10px"),href:"/billing",target:"_blank",style:{marginTop:20}},"Upgrade Now"))),o.default.createElement(c.FieldControl,{name:"acl",render:function(e){var t=(0,e.handler)();return o.default.createElement(f.default,{label:"ACLs",toolTipMessage:h.createCredentials.acls,component:o.default.createElement(E,r({className:(0,a.css)("label{font-weight:100}")},t,{options:(0,g.getAclOptionsByPlan)(v).map(function(e){return g.aclOptionsLabel[e]}),value:t.value.map(function(e){return g.aclOptionsLabel[e]}),onChange:function(e){t.onChange(e.map(function(e){return e.toLowerCase()}))}}))})}}),o.default.createElement(f.default,{label:"Security",toolTipMessage:h.createCredentials.security}),o.default.createElement(c.FieldControl,{name:"referers",render:function(e){return o.default.createElement(b.default,{toolTipMessage:h.createCredentials.referers,control:e,type:"dropdown",defaultSuggestionValue:"https://example.com/",label:"HTTP Referers",inputProps:{placeholder:"Add a HTTP Referer"}})}}),o.default.createElement(c.FieldControl,{name:"sources",render:function(e){return o.default.createElement(b.default,{control:e,toolTipMessage:h.createCredentials.sources,label:"IP Sources",defaultValue:{value:"0.0.0.0/0 (default)",description:"Matches all IP sources"},inputProps:{placeholder:"Add an IP Source in CIDR format"}})}}),o.default.createElement("div",{className:(0,a.css)("margin-top:30px")},o.default.createElement("span",{className:(0,a.css)(d.default.formLabel)},"Fields Filtering"),o.default.createElement(l.Tooltip,{className:(0,a.css)("margin-left:5px;color:#898989"),overlay:h.createCredentials.fieldFiltering,mouseLeaveDelay:0},o.default.createElement("i",{className:"fas fa-info-circle"}))),o.default.createElement(c.FieldControl,{strict:!1,name:"include_fields",render:function(t){var n=(0,t.handler)(),i=e.form.get("exclude_fields").value;return o.default.createElement(f.default,{label:o.default.createElement("span",{className:(0,a.css)(d.default.subHeader)},"Include"),toolTipMessage:h.createCredentials.include,component:o.default.createElement(l.Select,r({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},n,{onChange:function(e){e.includes("*")?n.onChange(["*"]):n.onChange(e)}}),o.default.createElement(w,{key:"*"},"* (Include all fields)"),Object.keys(e.mappings).map(function(t){return e.mappings[t].map(function(e){return i.includes(e)?null:o.default.createElement(w,{key:t+e,title:e},e,o.default.createElement("span",{className:(0,a.css)(d.default.fieldBadge)},t))})}))})}}),o.default.createElement(c.FieldControl,{strict:!1,name:"exclude_fields",render:function(t){var n=(0,t.handler)(),i=e.form.get("include_fields").value;return o.default.createElement(f.default,{label:o.default.createElement("span",{className:(0,a.css)(d.default.subHeader)},"Exclude"),toolTipMessage:h.createCredentials.exclude,component:o.default.createElement(l.Select,r({placeholder:"Select field value",mode:"multiple",style:{width:"100%"}},n,{onChange:function(e){e.length&&e.includes("*")?n.onChange(["*"]):n.onChange(e)}}),o.default.createElement(w,{key:"*"},"* (Exclude all fields)"),Object.keys(e.mappings).map(function(t){return e.mappings[t].map(function(e){return i.includes(e)?null:o.default.createElement(w,{key:t+e},e,o.default.createElement("span",{className:(0,a.css)(d.default.fieldBadge)},t))})}))})}}),o.default.createElement(c.FieldControl,{name:"ip_limit",render:function(e){var t=e.handler,n=e.hasError;return o.default.createElement(f.default,{label:"Max API calls/IP/hour",toolTipMessage:h.createCredentials.ipLimit,component:o.default.createElement(m.default,{justifyContent:"center",alignItems:"center"},o.default.createElement(l.Input,r({type:"number",className:(0,a.css)("border:solid 1px #9195A2!important;width:120px")},t())),n("isNegative")&&o.default.createElement("span",{className:(0,a.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}}),o.default.createElement(c.FieldControl,{name:"ttl",render:function(e){var t=e.handler,n=e.hasError;return o.default.createElement(f.default,{label:"TTL",toolTipMessage:h.createCredentials.ttl,component:o.default.createElement(m.default,{justifyContent:"center",alignItems:"center"},o.default.createElement(l.Input,r({type:"number",className:(0,a.css)("border:solid 1px #9195A2!important;width:120px")},t())),n("isNegative")&&o.default.createElement("span",{className:(0,a.css)("color:red;margin-left:10px")},"Field value can","'","t be negative."))})}})))}})},i(t,[{key:"getText",get:function(){return this.props.isOwner?this.isEditing?"Edit credential":"Create a new credential":"Credentials Details"}},{key:"isEditing",get:function(){return!!this.props.initialValues}}]),t}(o.default.Component);_.defaultProps={show:!1,isSubmitting:!1},_.propTypes={isPaidUser:s.default.bool,isSubmitting:s.default.bool,show:s.default.bool,cancel:s.default.func,onSubmit:s.default.func,initialValues:s.default.shape({description:s.default.string,operationType:s.default.object,acl:s.default.arrayOf(s.default.string),referers:s.default.arrayOf(s.default.string),sources:s.default.arrayOf(s.default.string),include_fields:s.default.arrayOf(s.default.string),exclude_fields:s.default.arrayOf(s.default.string),ip_limit:s.default.oneOfType([s.default.number,s.default.string]),ttl:s.default.number,meta:s.default.object}),isOwner:s.default.bool,plan:s.default.oneOf(["free","growth","bootstrap"]).isRequired},t.default=_},1433:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=s(r),o=s(n(1432));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(n){l(this,t);var r=c(this,e.call(this,n));return r.handleSubmit=function(e,t){var n=a({},e.value.operationType,e.value);delete n.operationType,Object.keys(n).forEach(function(e){void 0!==n[e]&&("ttl"===e&&(n[e]=parseInt(n[e],10)),"ip_limit"===e&&(n[e]=parseFloat(n[e],10)))}),r.props.initialValues||t?r.props.updatePermission(n,t):r.props.newPermission(n)},r.state={description:null,selectedType:"read"},r.types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}},r.expand=r.expand.bind(r),r.onSelect=r.onSelect.bind(r),r.updateDescription=r.updateDescription.bind(r),r}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.description&&this.setState({description:this.props.description})},t.prototype.onSelect=function(e){this.setState({selectedType:e})},t.prototype.expand=function(){this.setState({show:!this.state.show,clearInput:!0})},t.prototype.updateDescription=function(e){e!==this.state.description&&this.setState({description:e,clearInput:!1})},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"description":n=i.default.createElement("div",{className:"ad-create-email"},i.default.createElement(u,{updateDescription:this.updateDescription,clearInput:this.state.clearInput}));break;case"buttonGroup":n=i.default.createElement("span",{className:"ad-create-button-group without-margin"},Object.keys(this.types).map(function(e){return i.default.createElement(f,{key:e,type:e,selectedType:t.state.selectedType,description:t.types[e].description,onSelect:t.onSelect})}))}return n},t.prototype.render=function(){var e=this;return i.default.createElement("div",{className:"ad-create col-xs-12"},this.props.showCredForm&&i.default.createElement(o.default,{isPaidUser:this.props.isPaidUser,plan:this.props.plan,isSubmitting:this.props.isSubmitting,isOwner:this.props.isOwner,onSubmit:this.handleSubmit,show:this.props.showCredForm,handleCancel:this.props.handleCancel,mappings:this.props.mappings,initialValues:this.props.initialValues}),this.props.isOwner&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"ad-create-collapse"},i.default.createElement("a",{className:"ad-theme-btn primary",onClick:function(){return e.props.showForm()}},"New Credentials")),i.default.createElement("div",{className:"ad-create-expand flex align-center justify-between"},i.default.createElement("div",null,this.renderElement("description"),i.default.createElement("div",{className:"ad-create-button-group-container"},this.renderElement("buttonGroup"))),i.default.createElement("div",null,i.default.createElement("button",{className:"ad-theme-btn primary ad-create-submit",onClick:this.newPermission},"Create")))))},t}(r.Component);t.default=d;var u=function(e){function t(n){l(this,t);var a=c(this,e.call(this,n));return a.state={description:""},a.handleInput=a.handleInput.bind(a),a}return p(t,e),t.prototype.componentWillReceiveProps=function(e){e.clearInput&&this.setState({description:""})},t.prototype.handleInput=function(e){this.setState({description:e.target.value},this.validateDescription)},t.prototype.validateDescription=function(){this.state.description&&this.state.description.trim()?this.props.updateDescription(this.state.description):this.props.updateDescription(null)},t.prototype.render=function(){return i.default.createElement("input",{type:"text",placeholder:"Optional description text",className:"form-control",value:this.state.description,onChange:this.handleInput})},t}(r.Component),f=function(e){return i.default.createElement("label",{className:"radio-inline",htmlFor:e.type},i.default.createElement("input",{type:"radio",name:e.type,checked:e.selectedType===e.type,onChange:e.onSelect&&function(){return e.onSelect(e.type)}})," ",e.description,i.default.createElement("span",{className:"checkmark"}))}},1434:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a);var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={edit:!1,description:a.props.description},a.stopUpdate=!1,a.handleInput=a.handleInput.bind(a),a.handleKeyPress=a.handleKeyPress.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.description&&this.setState({description:this.props.description})},t.prototype.componentDidMount=function(){var e=this;$(document).mouseup(function(t){if(!e.stopUpdate){var n=$(e.inputRef);n.is(t.target)||0!==n.has(t.target).length||e.setEdit(!1)}})},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.handleInput=function(e){this.setState({description:e.target.value})},t.prototype.handleKeyPress=function(e){"Enter"==e.key&&(this.setEdit(!1),this.props.updatDescription(this.state.description))},t.prototype.setEdit=function(e){this.setState({edit:e},function(){e&&$(this.inputRef).trigger("focus")}.bind(this))},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"input":var a=r.default.createElement("p",{className:"ad-editable-value",onClick:function(){return t.setEdit(!0)}},this.props.description||"No Description"),i=r.default.createElement("div",{className:"ad-editable-edit col-xs-12"},r.default.createElement("input",{ref:function(e){return t.inputRef=e},type:"text",placeholder:"Type and press enter",defaultValue:this.state.description,className:"form-control",onChange:this.handleInput,onKeyPress:this.handleKeyPress}));n=this.state.edit?i:a}return n},t.prototype.render=function(){return r.default.createElement("div",{className:"col-xs-12 ad-editable-container"},r.default.createElement("div",{className:"permission-editable ad-editable"},this.renderElement("input")))},t}(a.Component);t.default=i},1435:function(t,n,a){"use strict";n.__esModule=!0;var r=a(1),i=f(r),o=f(a(36)),s=a(16),l=f(a(398)),c=f(a(444)),p=a(38),d=a(574),u=f(a(1434));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,e));return a.editCredentials=function(){var e=a.props,t=e.permissionInfo,n=e.showForm,r="";Object.keys(d.Types).every(function(e){var n=d.Types[e];return n.read!==t.read||n.write!==t.write||(r=n,!1)}),n({description:t.description,operationType:r,acl:t.acl,referers:t.referers,sources:t.sources,include_fields:t.include_fields,exclude_fields:t.exclude_fields,ip_limit:t.ip_limit,ttl:t.ttl,meta:{username:t.username}})},a.state={read:a.props.permissionInfo.read,write:a.props.permissionInfo.write,description:a.props.permissionInfo.description,credentials:a.props.permissionInfo.username+":"+a.props.permissionInfo.password,showKey:!1},a.confirmBoxInfo={title:i.default.createElement("span",null,"Delete Credentials"),description:i.default.createElement("p",null,"This action will permanently ",i.default.createElement("strong",null,"delete")," the selected credentials. If these are the only credentials, you may lose access to other GUI views."),buttons:{cancel:"Go back",confirm:"Confirm"}},a.keySummary=p.common.keySummary(),a.updatDescription=a.updatDescription.bind(a),a.deletePermission=a.deletePermission.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.setKeyType()},n.prototype.componentWillReceiveProps=function(e){e.permissionInfo&&this.setState({read:e.permissionInfo.read,write:e.permissionInfo.write,description:e.permissionInfo.description,credentials:e.permissionInfo.username+":"+e.permissionInfo.password},this.setKeyType)},n.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.cp&&this.cp.destroy()},n.prototype.setKeyType=function(){this.setState({keyType:this.detectKey()})},n.prototype.ccSuccess=function(){toastr.success(this.state.description+" Credentials have been copied successully!"),"admin"===this.state.keyType&&toastr.warning('The copied credentials can modify data in your app, do not use them in code that runs in the web browser. Instead, generate <a href="guide-link">read-only credentials</a>.')},n.prototype.ccError=function(){toastr.error("Error",e)},n.prototype.changePermission=function(e){var t;this.setState(((t={})[e]=!this.state[e],t),this.applyChange)},n.prototype.applyChange=function(){s.appbaseService.updatePermission(this.props.appId,this.props.permissionInfo.username,this.state).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},n.prototype.updatDescription=function(e){this.setState({description:e},this.applyChange)},n.prototype.deletePermission=function(){var e=this;s.appbaseService.deletePermission(this.props.appId,this.props.permissionInfo.username).then(function(t){e.props.getInfo()}).catch(function(e){console.log(e)})},n.prototype.toggleKey=function(){this.setState({showKey:!this.state.showKey})},n.prototype.detectKey=function(){var e=null;return this.state.read&&this.state.write?e="admin":this.state.read?e="read":this.state.write&&(e="write"),e},n.prototype.render=function(){var e=this,t=(0,o.default)({active:this.state.showKey}),n=(0,o.default)({eye:!this.state.showKey,"eye-slash":this.state.showKey});return i.default.createElement("div",{className:"permission-card col-xs-12 p-0"},i.default.createElement("header",{className:"permission-card-header col-xs-12"},i.default.createElement("summary",{className:"col-xs-10 p-0"},i.default.createElement(u.default,{description:this.state.description,updatDescription:this.updatDescription}))),i.default.createElement("div",{className:"permission-card-body col-xs-12"},i.default.createElement("div",{className:"col-xs-12 col-sm-3 col-md-3 col-lg-5 permission-card-body-description"},this.keySummary[this.state.keyType]),i.default.createElement("div",{className:"col-xs-12 col-sm-9 col-md-9 col-lg-7 permission-card-body-credential"},i.default.createElement("div",{className:"ad-permission-key "+t},i.default.createElement("div",{className:"ad-permission-key-value"},this.state.credentials),i.default.createElement("div",{className:"ad-permission-key-buttons"},i.default.createElement("a",{className:"ad-credential-btn ad-permission-key-lock-btn",key:n,onClick:function(){return e.toggleKey()}},i.default.createElement("i",{className:"fas fa-"+n})),i.default.createElement(c.default,{type:"danger",onSuccess:function(){return e.ccSuccess()},onError:function(){return e.ccError()}},i.default.createElement("a",{className:"ad-credential-btn ad-permission-key-copy-btn","data-clipboard-text":this.state.credentials},i.default.createElement("i",{className:"far fa-clone"}))),this.props.isOwner?i.default.createElement("a",{onClick:this.editCredentials,className:"ad-credential-btn ad-permission-key-copy-btn"},i.default.createElement("i",{className:"far fa-edit"})):i.default.createElement("a",{onClick:this.editCredentials,className:"ad-credential-btn ad-permission-key-copy-btn"},i.default.createElement("i",{className:"fa fa-info-circle"})))),i.default.createElement("aside",{className:"permission-key-delete"},i.default.createElement(l.default,{info:this.confirmBoxInfo,onConfirm:this.deletePermission,type:"danger"},i.default.createElement("a",{className:"permission-delete animation",style:this.props.isOwner?void 0:{pointerEvents:"none"}},i.default.createElement("i",{className:"fa fa-trash-alt"})))))))},n}(r.Component);n.default=m},341:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=m(a),i=m(n(142)),o=n(16),s=n(508),l=n(413),c=m(n(1435)),p=m(n(1433)),d=m(n(381)),u=m(n(1428)),f=m(n(1427));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleCancel=function(){a.setState({showCredForm:!1})},a.updatePermission=function(e,t){a.setState({isSubmitting:!0},function(){o.appbaseService.updatePermission(a.appId,t,e).then(function(){a.getInfo(),a.setState({isSubmitting:!1,showCredForm:!1})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Unable to save credentials")),a.setState({isSubmitting:!1})})})},a.showForm=function(e){e?a.setState({showCredForm:!0,currentPermissionInfo:e}):a.setState({showCredForm:!0,currentPermissionInfo:void 0})},a.state={info:null,isLoading:!0,plan:void 0,isSubmitting:!1,showCredForm:!1,isPaidUser:!1,mappings:{},currentPermissionInfo:void 0},a.getInfo=a.getInfo.bind(a),a.newPermission=a.newPermission.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.stopUpdate=!1,this.initialize(this.props)},t.prototype.componentDidMount=function(){var e=this;if((0,l.checkUserStatus)().then(function(t){e.setState({isPaidUser:t.isPaidUser,plan:t.plan,isLoading:!1})},function(t){e.setState({isLoading:!1},function(){return toastr.error("Error",(0,i.default)(t,"responseJSON.message","Something went wrong"))})}),this.props.params.appId){var t=o.appbaseService.userInfo.body.apps[this.props.params.appId];(0,l.getCredentials)(t).then(function(t){var n=t.username,a=t.password;return(0,s.getMappings)(e.appName,n+":"+a)}).then(function(t){e.setState({mappings:t})}).catch(function(e){toastr.error("Error","Unable to fetch mappings")})}},t.prototype.componentWillReceiveProps=function(e){e.params.appId!==this.appName&&this.initialize(e)},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0},t.prototype.getInfo=function(){var e=this;this.info={},o.appbaseService.getPermission(this.appId).then(function(t){e.info.permission=t,e.stopUpdate||e.setState({info:e.info})}),o.appbaseService.getAppInfo(this.appId).then(function(t){e.info.appInfo=t.body,e.stopUpdate||e.setState({info:e.info})})},t.prototype.initialize=function(e){this.appName=e.params.appId,this.appId=o.appbaseService.userInfo.body.apps[this.appName],this.getInfo()},t.prototype.newPermission=function(e){var t=this;this.setState({isSubmitting:!0},function(){o.appbaseService.newPermission(t.appId,e).then(function(){t.getInfo(),t.setState({isSubmitting:!1,showCredForm:!1})},function(e){toastr.error("Error",(0,i.default)(e,"responseJSON.message","Unable to save credentials")),t.setState({isSubmitting:!1})})})},t.prototype.isOwner=function(){return this.state.info&&this.state.info.appInfo&&this.state.info.appInfo.owner===o.appbaseService.userInfo.body.email},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"permissions":this.state.info&&this.state.info.permission&&(n=this.state.info.permission.body.sort(function(e,t){var n=e.description,a=t.description;return n<a?-1:n>a?1:0}).map(function(e,n){return r.default.createElement(c.default,{appId:t.appId,key:n,isOwner:t.isOwner(),permissionInfo:e,isPaidUser:t.state.isPaidUser,mappings:t.state.mappings,getInfo:t.getInfo,showForm:t.showForm})}));break;case"deleteApp":this.isOwner()&&(n=r.default.createElement("footer",{className:"ad-detail-page-body other-page-body col-xs-12 delete-app-body"},r.default.createElement("div",{className:"page-body col-xs-12"},r.default.createElement("section",{className:"col-xs-12 p-0"},r.default.createElement("div",{className:"col-xs-12 p-0"},r.default.createElement(f.default,{appName:this.appName,appId:this.appId}))))))}return n},t.prototype.render=function(){return this.state.isLoading?r.default.createElement(u.default,null):r.default.createElement(d.default,{pageInfo:{currentView:"credentials",appName:this.appName,appId:this.appId}},r.default.createElement("div",{id:"permission-page",className:"ad-detail-page ad-dashboard row"},r.default.createElement("div",{className:"ad-detail-page-body col-xs-12"},r.default.createElement("div",{className:"page-body col-xs-12"},r.default.createElement("section",{className:"ad-detail-page-body-card col-xs-12 p-0"},r.default.createElement("div",{className:"ad-detail-page-body-card-body col-xs-12 p-0"},this.renderElement("permissions"),r.default.createElement(p.default,{appId:this.props.params.appId,appName:this.appName,isSubmitting:this.state.isSubmitting,newPermission:this.newPermission,updatePermission:this.updatePermission,showForm:this.showForm,showCredForm:this.state.showCredForm,handleCancel:this.handleCancel,isPaidUser:this.state.isPaidUser,plan:this.state.plan,isOwner:this.isOwner(),mappings:this.state.mappings,initialValues:this.state.currentPermissionInfo}))))),this.renderElement("deleteApp")))},t}(a.Component);t.default=h},365:function(e,t,n){"use strict";t.__esModule=!0;var a=n(345);var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(a).default)("div",{target:"e1tnvnpn0"})("display:flex;flex-direction:",function(e){return e.flexDirection||"row"},";",function(e){var t=e.alignItems;return t&&(0,a.css)("align-items:",t,";")},";",function(e){var t=e.justifyContent;return t&&(0,a.css)("justify-content:",t,";")},";");t.default=r},380:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=d(a),i=n(39),o=d(n(36)),s=d(n(141)),l=n(38),c=d(n(93)),p=n(16);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.config=c.default,a.contextPath=p.appbaseService.getContextPath(),a.state={activeApp:a.props.appName},a.stopUpdate=!1,a.links=[{label:"Dashboard",link:a.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:r.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Mappings",link:a.contextPath+"mappings/",type:"internal",name:"mappings",tooltip:"View or update mappings",img:r.default.createElement("img",{className:"img-responsive",alt:"mappings",src:"../../../assets/images/"+a.config.name+"/sidebar/mapping.svg"})},{label:"Search Sandbox",link:a.contextPath+"search-sandbox/",type:"internal",name:"search-sandbox",tooltip:"Update search preferences",img:r.default.createElement("img",{className:"img-responsive",alt:"search-sandbox",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Browser",link:a.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:r.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+a.config.name+"/sidebar/browser.svg"})},{label:"Analytics",link:a.contextPath+"analytics/",type:"internal",name:"analytics",tooltip:"View app analytics",img:r.default.createElement("img",{className:"img-responsive",alt:"analytics",src:"../../../assets/images/"+a.config.name+"/sidebar/dashboard.svg"})},{label:"Credentials",link:a.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:r.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+a.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:a.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:r.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+a.config.name+"/sidebar/team.svg"})}],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,n=null;switch(e){case"links":n=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,n){var a=(0,o.default)({active:t.props.currentView===e.name}),l=r.default.createElement("div",{className:"img-container"},e.img),c=r.default.createElement(i.Link,{className:a,to:e.link+t.state.activeApp},l,r.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return r.default.createElement(s.default,{overlay:r.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(n+1)},r.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(n+1)},c))})}return n},t.prototype.render=function(){var e=this;return r.default.createElement("aside",{className:"ad-detail-sidebar"},r.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(a.Component);t.default=u},381:function(e,t,n){"use strict";t.__esModule=!0;var a=c(n(0)),r=n(1),i=c(r),o=c(n(380)),s=c(n(93)),l=n(16);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){return i.default.createElement("div",{className:"page404"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},i.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col s12"},"Go to"," ",i.default.createElement("a",{href:"/apps"},"/apps",i.default.createElement("i",{className:"fa fa-cursor"})))))},d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={showChild:!1},a.selectedApp=a.props.pageInfo.appName,a.config=s.default,a.getAllApps(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var n=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!n||!n.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=i.default.Children.map(this.props.children,function(e){return i.default.cloneElement(e,{})});return i.default.createElement("div",{className:"ad-detail row"},i.default.createElement(o.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),i.default.createElement("div",{className:"ad-detail-view-container"},i.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?i.default.createElement(p,null):null)))},t}(r.Component);t.default=d,d.propTypes={pageInfo:a.default.shape({currentView:a.default.string.isRequired,appName:a.default.string.isRequired,appId:a.default.oneOfType([a.default.number.isRequired,a.default.string.isRequired])})},d.defaultProps={}},382:function(e,t,n){"use strict";t.__esModule=!0,t.ErrorLogger=t.Input=t.deleteBtn=t.Button=t.Footer=t.subItem=t.item=t.dropdown=t.title=t.row=t.heading=t.Header=t.HeaderWrapper=t.card=void 0;var a=n(345),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.card=(0,a.css)("width:100%;max-width:980px;margin:25px auto;background-color:#fff;border-radius:3px;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);box-sizing:border-box;i{margin:3px 3px 0px 8px;}"),t.HeaderWrapper=(0,r.default)("div",{target:"e1tvtz600"})("display:flex;flex-direction:column;align-items:flex-start;justify-content:center;p{font-size:13px;margin:6px 0 0;color:#999;}"),t.Header=(0,r.default)("header",{target:"e1tvtz601"})("display:flex;flex-direction:row;justify-content:space-between;font-weight:600;padding-top:20px;.col{min-width:150px;display:inline-flex;margin:0 0 0 12px;text-align:center;&:first-child{margin:0;}&.col--grow{flex-grow:1;}}"),t.heading=(0,a.css)("font-size:16px;letter-spacing:0.015rem;font-weight:600;margin:0;padding:0;"),t.row=(0,a.css)("box-sizing:border-box;background-color:rgba(0,0,0,0.02);padding:15px 0 15px 15px;margin:15px 0;border:1px solid rgba(0,0,0,0.05);"),t.title=(0,a.css)("font-size:15px;letter-spacing:0.015rem;font-weight:600;margin:0 0 12px 0;padding:0;"),t.dropdown=(0,a.css)("width:auto;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;margin-left:12px;padding:6px 15px 6px 6px;text-transform:capitalize;"),t.item=(0,a.css)("display:flex;flex-direction:row;justify-content:space-between;padding:10px;margin-bottom:2px;align-items:center;background-color:rgba(255,255,255,0.8);"),t.subItem=(0,a.css)("display:flex;flex-direction:row;align-items:center;"),t.Footer=(0,r.default)("footer",{target:"e1tvtz602"})("position:sticky;bottom:0;width:100%;height:66px;box-shadow:0 -3px 5px 0 rgba(0,0,0,0.02);background-color:#fff;transition:all .3s ease;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:0 20px;display:flex;flex-direction:row-reverse;align-items:center;"),t.Button=(0,r.default)("a",{target:"e1tvtz603"})("display:inline-flex;height:42px;padding:0 20px;justify-content:center;align-items:center;color:#53683b;font-weight:600;background-color:",function(e){return e.ghost?"#efefef":"#b6ef7e"},";;text-transform:uppercase;box-shadow:0 3px 3px 0 rgba(0,0,0,0.1);cursor:pointer;margin-left:12px;&:hover,&:focus{background-color:",function(e){return e.ghost?"#fafafa":"#c3f295"},";box-shadow:0 5px 5px 0 rgba(0,0,0,0.1);text-decoration:none;}"),t.deleteBtn=(0,a.css)("display:flex;flex-grow:1;alignItems:center;flex-direction:row;cursor:pointer;span{max-width:calc(100% - 40px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}a{display:none;cursor:pointer;color:#444;margin-left:15px;transition:all .3s ease;}&:hover a,&:focus a{display:inline;&:hover,&:focus{color:#222;}}"),t.Input=(0,r.default)("input",{target:"e1tvtz604"})("diplay:flex;flex-grow:1;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;padding:5px;"),t.ErrorLogger=(0,r.default)("pre",{target:"e1tvtz605"})("height:auto;max-height:200px;overflow-y:scroll;width:100%;background-color:#eee;padding:10px;font-family:monospace;font-size:14px;")},398:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(416),s=n(38);var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={showModal:!!a.props.showModal&&a.props.showModal,validate:!1,inputValue:null},a.open=a.open.bind(a),a.onConfirm=a.onConfirm.bind(a),a.onCancel=a.onCancel.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose&&this.props.onClose(),this.setState({showModal:!1})},t.prototype.open=function(){this.props.onOpen&&this.props.onOpen(),this.setState({showModal:!0})},t.prototype.onConfirm=function(){this.props.onConfirm&&this.props.onConfirm(),this.close()},t.prototype.onCancel=function(){this.props.onCancel&&this.props.onCancel(),this.close()},t.prototype.getType=function(){return"modal-"+(this.props.type?this.props.type:"info")},t.prototype.handleInputChange=function(e){this.setState({inputValue:e.target.value,validate:e.target.value===this.props.info.validate.value})},t.prototype.render=function(){var e=this,t=i.default.Children.map(this.props.children,function(t){return i.default.cloneElement(t,{onClick:e.open})});return i.default.createElement("div",null,t,i.default.createElement(o.Modal,{className:this.getType(),show:this.state.showModal,onHide:function(){return e.close()}},i.default.createElement(o.Modal.Header,{closeButton:!0},this.props.info&&this.props.info.title?i.default.createElement(o.Modal.Title,null,this.props.info.title):null),i.default.createElement(o.Modal.Body,{className:"clearfix"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12"},this.props.info.description),this.props.info&&this.props.info.validate?i.default.createElement("div",{className:"col-xs-12 form-group"},i.default.createElement("input",{placeholder:this.props.info.validate.placeholder,type:"text",className:"form-control",defaultValue:this.state.inputValue,onChange:this.handleInputChange})):null),i.default.createElement("div",{className:"col-xs-12 p-0"},this.props.info.buttons.confirm?i.default.createElement("button",a({className:"ad-theme-btn ad-confirm-btn"},s.common.isDisabled(this.props.info.validate&&!this.state.validate),{onClick:this.onConfirm}),this.props.info.buttons.confirm):null,this.props.info.buttons.cancel?i.default.createElement("button",{className:"ad-theme-btn ad-cancel-btn",onClick:this.onCancel},this.props.info.buttons.cancel):null))))},t}(r.Component);t.default=l,l.propTypes={},l.defaultProps={}},413:function(e,t,n){"use strict";t.__esModule=!0,t.getCredentials=function(e){return new Promise(function(t,n){fetch(a+"/app/"+e+"/permissions",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")&&e.include_fields.includes("*")});n||(n=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")})),n||(n=e.body.find(function(e){return e.read&&e.write})),n||(n=e.body.find(function(e){return e.read})),t(n)}).catch(function(e){n(e)})})},t.checkUserStatus=function(){return new Promise(function(e,t){fetch(a+"/user",{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e.body.c_id?e.body.c_id:(t(),null)}).then(i).then(function(e){return e.json()}).then(function(t){t.plan&&"free"!==t.plan||e({isPaidUser:!1,plan:"free"}),e({isPaidUser:!0,plan:t.plan})}).catch(function(){t()})})};var a=t.ACC_API="https://accapi.appbase.io",r=(t.SCALR_API="https://scalr.api.appbase.io",t.BILLING_API="https://transactions.appbase.io");function i(e){return fetch(r+"/api/me",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({c_id:e})})}},439:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140);t.default={formLabel:(0,a.css)("font-weight:500;color:black;font-size:14px;"),subHeader:(0,a.css)("margin-left:10px;font-weight:100;font-size:14px;"),addedWhiteList:(0,a.css)("background-color:#fbfcfe;border:solid 1px #83a2ee;border-radius:2px;padding:5px 10px;color:#343e54;margin-bottom:15px;width:100%;"),description:(0,a.css)("font-size:12px,font-weight:100;"),serachResultsCls:(0,a.css)("border:solid 1px #d9d9d9;border-top:none;border-radius:3px;position:absolute;width:100%;background-color:#fff;z-index:1;"),error:(0,a.css)("color:red;font-size:12px;padding:5px;"),fieldBadge:(0,a.css)("margin-left:2px;font-size:10px;background-color:#a2a4aa;border-radius:3px;padding:1px 2px;color:#fff;"),overlay:(0,a.css)("position:absolute;top:160px;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.8);z-index:9999;color:black;"),upgradePlan:(0,a.css)("margin-top:200px;font-size:16px;font-weight:500;text-align:center;")}},444:function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=o(a),i=o(n(443));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getRef=a.getRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.cp&&this.cp.destroy()},t.prototype.getRef=function(e){if(e){var t=e;this.cp&&this.cp.destroy(),this.cp=new i.default(t),this.cp.on("success",this.props.onSuccess),this.cp.on("error",this.props.onError)}},t.prototype.render=function(){var e=this,t=r.default.Children.map(this.props.children,function(t){return r.default.cloneElement(t,{ref:e.getRef})});return r.default.createElement("span",null,t)},t}(a.Component);t.default=s,s.propTypes={},s.defaultProps={}},455:function(e,t,n){"use strict";t.__esModule=!0;var a=n(140),r=c(n(1)),i=c(n(0)),o=n(361),s=c(n(439)),l=c(n(365));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.label,n=e.component,i=e.toolTipMessage;return r.default.createElement(l.default,{className:(0,a.css)("margin-top:30px")},r.default.createElement(l.default,{className:(0,a.css)("flex:25%")},r.default.createElement("div",null,r.default.createElement("span",{className:(0,a.css)(s.default.formLabel)},t,i&&r.default.createElement(o.Tooltip,{className:(0,a.css)("margin-left:5px;color:#898989"),overlay:i,mouseLeaveDelay:0},r.default.createElement("i",{className:"fas fa-info-circle"}))))),r.default.createElement(l.default,{className:(0,a.css)("flex:75%;margin-left:20px")},n))};p.propTypes={label:i.default.oneOfType([i.default.string,i.default.node]),component:i.default.node,toolTipMessage:i.default.any},t.default=p},507:function(e,t,n){"use strict";t.__esModule=!0,t.default={aggs:{fields:{keyword:{type:"keyword"}},analyzer:"standard",search_analyzer:"standard"},search:{fields:{search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},searchaggs:{fields:{keyword:{type:"keyword",index:"not_analyzed"},search:{type:"text",index:"analyzed",analyzer:"ngram_analyzer",search_analyzer:"simple"},autosuggest:{type:"text",index:"analyzed",analyzer:"autosuggest_analyzer",search_analyzer:"simple"}},analyzer:"standard",search_analyzer:"standard"},none:{}}},508:function(e,t,n){"use strict";t.__esModule=!0,t.REMOVED_KEYS=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getMappings=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCALR_API;return new Promise(function(a,i){fetch(n+"/"+e+"/_mapping",{method:"GET",credentials:"include",headers:r({},function(e){if(e)return{Authorization:"Basic "+btoa(e)};return{}}(t),{"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(t){var n=Object.keys(t[e].mappings).filter(function(e){return!p.includes(e)}),i={};n.forEach(function(n){var a;i=r({},i,((a={})[n]=t[e].mappings[n],a))}),a(i)}).catch(function(e){i(e)})})},t.reIndex=function(e,t,n){var a={mappings:e,settings:o.default,exclude_fields:n,es_version:"5"};return new Promise(function(e,n){fetch(s.ACC_API+"/app/"+t+"/reindex",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(t){t.error&&n(t.error),t.body&&t.body.response_info.failures.length&&n(t.body.response_info.failures),t.message&&n(t.message),e(t.body.response_info.took)}).catch(function(e){n(e)})})},t.hasAggs=d,t.transformToES5=function e(t){var n=r({},t);Object.keys(n).every(function(t){if(c.includes(t))return!1;if("string"===n[t].type){var o,s=!!n[t].fields,l=r({},n[t]);s&&(n[t].fields.search?l=i.default.search:d(n[t].field)&&(l=i.default.aggs)),n=r({},n,((o={})[t]=r({},l,{type:"text"}),o))}else if("object"===a(n[t])&&!Array.isArray(n[t])){var p;n=r({},n,((p={})[t]=r({},n[t],e(n[t])),p))}return!0});return n},t.updateMapping=function e(t,n,o,s){var l=r({},t);Object.keys(l).every(function(t){if(c.includes(t))return!1;if(t===n){var p,d={};s&&(d=i.default[s]),l=r({},l,((p={})[t]=r({},d,{type:o}),p))}else if("object"===a(l[t])&&!Array.isArray(l[t])){var u;l=r({},l,((u={})[t]=r({},l[t],e(l[t],n,o,s)),u))}return!0});return l},t.traverseMapping=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(e).forEach(function(a){return function(e,a){n[a]=[],function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.properties&&Object.keys(r.properties).forEach(function(o){t||n[a].push(""+i+o);var s=r.properties[o];s&&s.properties?e(s,""+i+o+"."):t&&n[a].push(""+i+o)})}(e)}(e[a],a)}),n},t.getMappingsTree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){e[n].properties&&(t=r({},t,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={};return Object.keys(t).forEach(function(i){if(t[i].properties)a=r({},a,e(t[i].properties,i));else{var o,s=t[i].fields;a=r({},a,((o={})[(n?n+".":"")+i]={type:t[i].type,fields:t[i].fields?Object.keys(t[i].fields):[],originalFields:s||{}},o))}}),a}(e[n].properties,null)))}),t};var i=l(n(507)),o=l(n(575)),s=n(413);function l(e){return e&&e.__esModule?e:{default:e}}var c=["meta"],p=t.REMOVED_KEYS=["~logs","~percolator",".logs",".percolator","_default_"];function d(e){if(!e)return!1;var t=!1;return Object.keys(e).forEach(function(n){("keyword"===e[n].type||"string"===e[n].type&&"not_analyzed"===e[n].index)&&(t=!0)}),t}},574:function(e,t,n){"use strict";t.__esModule=!0;var a=t.Suggestions={1:{prefix:"",suffix:"",description:"Matches exactly"},2:{prefix:"",suffix:"*",description:"Matches referers starting with"},3:{prefix:"*",suffix:"",description:"Matches referers ending with"},4:{prefix:"*",suffix:"*",description:"Matches referers containing"}},r=(t.getSuggestionCode=function(e){return"*"===e?"Matches All":e.startsWith("*")&&e.endsWith("*")?a[4].description:e.startsWith("*")?a[3].description:e.endsWith("*")?a[2].description:a[1].description},t.ipValidator=function(e){var t=e&&e.split("/");if(t&&/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t[0])){var n=parseInt(t[1],10);return n>-1&&n<33}return!1},t.isNegative=function(e){if(e.value&&parseInt(e.value,10)<0)return{isNegative:!0}},t.Types={read:{description:"Read-only key",read:!0,write:!1},write:{description:"Write-only key",read:!1,write:!0},admin:{description:"Admin key",read:!0,write:!0}},t.aclOptions=["index","get","search","settings","stream","bulk","delete"]),i=t.defaultAclOptions=["index","get","search","settings","stream","bulk","delete"];t.getAclOptionsByPlan=function(e){return"growth"===e?[].concat(r,["analytics"]):r},t.getDefaultAclOptionsByPlan=function(e){return"growth"===e?[].concat(i,["analytics"]):i},t.aclOptionsLabel={index:"Index",get:"Get",search:"Search",settings:"Settings",stream:"Stream",bulk:"Bulk",delete:"Delete",analytics:"Analytics"}},575:function(e,t,n){"use strict";t.__esModule=!0,t.default={analysis:{analyzer:{autosuggest_analyzer:{filter:["lowercase","asciifolding","autosuggest_filter"],tokenizer:"standard",type:"custom"},ngram_analyzer:{filter:["lowercase","asciifolding","ngram_filter"],tokenizer:"standard",type:"custom"}},filter:{autosuggest_filter:{max_gram:"20",min_gram:"1",token_chars:["letter","digit","punctuation","symbol"],type:"edge_ngram"},ngram_filter:{max_gram:"9",min_gram:"2",token_chars:["letter","digit","punctuation","symbol"],type:"ngram"}}}}}}]);
>>>>>>> builds
